<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Basic Skillsmodule###python 文件可以当做主文件进行运行或者当做函数的集合进行调用。如果是前者一般是需要包含”_name_ &#x3D;&#x3D;”_main_“。对于后者就是在其他的python文件中进行调用。 12import my_module # python文件from my_module import my_object packages###from packageroot.">
<meta property="og:type" content="article">
<meta property="og:title" content="Python from Beginner to Master">
<meta property="og:url" content="http://yoursite.com/2019/01/09/python-for-beginners/index.html">
<meta property="og:site_name" content="Jijeng&#39;s blog">
<meta property="og:description" content="Basic Skillsmodule###python 文件可以当做主文件进行运行或者当做函数的集合进行调用。如果是前者一般是需要包含”_name_ &#x3D;&#x3D;”_main_“。对于后者就是在其他的python文件中进行调用。 12import my_module # python文件from my_module import my_object packages###from packageroot.">
<meta property="og:image" content="https://s2.ax1x.com/2019/09/15/n2rAbj.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/09/15/n2ruGV.png">
<meta property="article:published_time" content="2019-01-09T10:47:46.000Z">
<meta property="article:modified_time" content="2020-02-12T13:01:59.127Z">
<meta property="article:author" content="Jijeng Jia">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.ax1x.com/2019/09/15/n2rAbj.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/01/09/python-for-beginners/"/>







<script>
	(function(){
		if(''){
			if (prompt('请输入文章密码','') !== ''){
				alert('密码错误！');
				history.back();
			}
		}
	})();
</script>

  <title>Python from Beginner to Master | Jijeng's blog</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jijeng's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/09/python-for-beginners/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Python from Beginner to Master</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-09T18:47:46+08:00">
                2019-01-09
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-02-12T21:01:59+08:00">
                2020-02-12
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index">
                    <span itemprop="name">CS基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/01/09/python-for-beginners/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/01/09/python-for-beginners/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Basic-Skills"><a href="#Basic-Skills" class="headerlink" title="Basic Skills"></a>Basic Skills</h2><h3 id="module"><a href="#module" class="headerlink" title="module###"></a>module###</h3><p>python 文件可以当做主文件进行运行或者当做函数的集合进行调用。如果是前者一般是需要包含”_<em>name_</em> ==”_<em>main_</em>“。对于后者就是在其他的python文件中进行调用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> my_module <span class="comment"># python文件</span></span><br><span class="line"><span class="keyword">from</span> my_module <span class="keyword">import</span> my_object</span><br></pre></td></tr></table></figure>
<h3 id="packages"><a href="#packages" class="headerlink" title="packages###"></a>packages###</h3><pre><code>from packageroot.packagefolder.mod import my_object</code></pre><p>Note: Ensure each directory within your package import contains a file _<em>init_</em>.py</p>
<h3 id="python-path"><a href="#python-path" class="headerlink" title="python-path###"></a>python-path###</h3><p>python2 和python3 使用不同的解释器，导致在一些函数命名和计算上有一些差别，最好在文件的开头标明使用的解释器。</p>
<h3 id="while-or-for"><a href="#while-or-for" class="headerlink" title="while or for###"></a>while or for###</h3><p>while : provide a condition and run the loop until the condition is not met.</p>
<p>for: loop for a number of specific times; loop over items or characters of a string.</p>
<p>examples:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Variable] AggregateFunction([Value] <span class="keyword">for</span> [item] <span class="keyword">in</span> [collection])</span><br><span class="line">x =[<span class="number">1</span>, <span class="number">2</span>,<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">y =[ <span class="number">2</span>*a <span class="keyword">for</span> a <span class="keyword">in</span> x <span class="keyword">if</span> a%<span class="number">2</span> ==<span class="number">0</span>]</span><br><span class="line">y &gt;&gt; [<span class="number">4</span>, <span class="number">8</span>]</span><br></pre></td></tr></table></figure>

<p>或者可以使用这样更加简洁的语句：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> arguments : expression</span><br><span class="line">fun1 = <span class="keyword">lambda</span> a,b,c : a+b+c</span><br><span class="line">print(fun1(<span class="number">5</span>,<span class="number">6</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>来个比较复杂的例子:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nums =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">letters =[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>]</span><br><span class="line"><span class="comment"># 两个for 循环也是要熟练</span></span><br><span class="line">nums_letters =[[n, l] <span class="keyword">for</span> n <span class="keyword">in</span> nums <span class="keyword">for</span> l <span class="keyword">in</span> letters ]</span><br><span class="line">nums_letters</span><br></pre></td></tr></table></figure>

<h3 id="break-continue-or-pass"><a href="#break-continue-or-pass" class="headerlink" title="break, continue, or pass"></a>break, continue, or pass</h3><p>这三个关键词是python 语言中的循环控制。总结说，break 是跳出”整个“循环，continue 是跳出”本次“循环， pass 是不做任何事情，表达语义的完整，这个类似 Todo 项目，提醒自己之后需要完成这部分程序功能。ß</p>
<p>The break, continue, and pass statements in Python will allow you to use for loops and while loops more effectively in your code.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">number = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">   number = number + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> number == <span class="number">5</span>:</span><br><span class="line">      <span class="keyword">pass</span>    <span class="comment"># pass here</span></span><br><span class="line"></span><br><span class="line">   print(<span class="string">'Number is '</span> + str(number))</span><br><span class="line"></span><br><span class="line">print(<span class="string">'Out of loop'</span>)</span><br></pre></td></tr></table></figure>

<p>pass 关键词的作用：</p>
<ol>
<li>空语句 do nothing</li>
<li>保证格式完整</li>
<li>保证语义完整</li>
</ol>
<p>简单来说就是占位，没有什么实质性的内容。</p>
<p>The pass statement occurring after the if conditional statement is telling the program to continue to run the loop and ignore the fact that the variable number evaluates as equivalent to 5 during one of its iterations.</p>
<p>yield 可以用用作新的 if的测试, return results without termination</p>
<p>The pass statement can create minimal classes, or act as a placeholder when working on new code and thinking on an algorithmic level before hammering out details.<br>pass 的存在就是占坑，否则这个地方就是报错（IndentationError）。用于想要扩展的地方，但是现在还没有扩展。比如在某个method 下面或者某个 if 条件下。</p>
<h3 id="yield-or-return"><a href="#yield-or-return" class="headerlink" title="yield or return###"></a>yield or return###</h3><p>yield 经常被用来作为生成器，返回但是却没有解决函数，下一回从上一回的位置开始。</p>
<p>when you call a normal function with a return statement the function is terminated whenever it encounters a return statement. In a function with a yield statement the state of the function is ‘saved’ from the last call and can be picked up the next time you call a generator function.</p>
<p>for examples</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">gen_exp =(x **<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">if</span> x %<span class="number">2</span> ==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> gen_exp:</span><br><span class="line">  print(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_gen</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    <span class="keyword">yield</span> x</span><br><span class="line"></span><br><span class="line">gen1 =my_gen()</span><br><span class="line">next(gen1)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_generator1</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">  </span><br><span class="line">my_gen =my_generator1()</span><br><span class="line"><span class="comment"># 使用 next() 进行调用下一个</span></span><br><span class="line">next(my_gen)</span><br></pre></td></tr></table></figure>
<h3 id="recursion"><a href="#recursion" class="headerlink" title="recursion"></a>recursion</h3><p>A function calling itself is known as recursion.（ recursion 是递归， iteration 是循环）</p>
<h3 id="list-tuples-or-dictionary"><a href="#list-tuples-or-dictionary" class="headerlink" title="list, tuples, or dictionary###"></a>list, tuples, or dictionary###</h3><p>在python 中是使用频繁的data structure，这个是属于 collection 类别，里面放的是element.</p>
<p>list: to add/update/ delete an item of a collection </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">my_list.append(<span class="string">'C'</span>) <span class="comment">#adds at the end</span></span><br><span class="line">my_list[<span class="number">1</span>] = <span class="string">'D'</span> <span class="comment">#update</span></span><br><span class="line">my_list.pop(<span class="number">1</span>) <span class="comment"># removes</span></span><br><span class="line"></span><br><span class="line">mylist.pop() <span class="comment"># 默认就是类似 栈的结构，就是pop 出来最后一个</span></span><br><span class="line">mylist.pop(<span class="number">0</span>) <span class="comment"># 当然也可以根据index 指定特定的 pop(delete) 的element</span></span><br></pre></td></tr></table></figure>

<p>对于index 的访问，一定要保证有相应的size() 长度，然后再进行index 的访问</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> mylist[<span class="number">1</span>:<span class="number">2</span>] <span class="comment"># 通过指定 index range 然后进行del</span></span><br><span class="line">mylist.sort() <span class="comment"># 支持 sorting 然后是从小到大, 这个sort是一种操作，inplace 的操作</span></span><br></pre></td></tr></table></figure>

<p>tuples: tuples store a sequence of objects, the object can be of any type. Tuples are faster than lists.</p>
<p>dictionary: It stores key/value pair objects.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">my_dict =dict()</span><br><span class="line">my_dict[<span class="string">'key'</span>] =<span class="string">'value'</span></span><br><span class="line"><span class="keyword">or</span> </span><br><span class="line">my_dict =&#123;<span class="string">'key'</span>: <span class="string">'value'</span>, ...&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> my_dict:</span><br><span class="line"><span class="comment"># do something</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">'some key'</span> <span class="keyword">in</span> my_dict:</span><br><span class="line"><span class="comment"># do something</span></span><br></pre></td></tr></table></figure>


<h3 id="Iterators"><a href="#Iterators" class="headerlink" title="Iterators###"></a>Iterators###</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">yrange</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.i = <span class="number">0</span></span><br><span class="line">        self.n = n</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 这个表明是一个 iterator，make an object iterable</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 这个next 函数就被当做是 class的属性，可以被外部调用的，</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">next</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.i &lt; self.n:</span><br><span class="line">            i = self.i</span><br><span class="line">            self.i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> i</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration()</span><br></pre></td></tr></table></figure>

<h2 id="shallow-vs-deep-copy"><a href="#shallow-vs-deep-copy" class="headerlink" title="shallow vs deep copy"></a>shallow vs deep copy</h2><p>python3 中：<br>对于简单的数据类型，像int ，string，这种 copy() 和copy.deepcopy() 这两者都是相同的，copy 都是一种映射，都是相当于”值“ 上的引用；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aa =<span class="number">2</span></span><br><span class="line">bb =aa</span><br><span class="line">print(id(aa), id(bb)) <span class="comment"># 相同</span></span><br><span class="line">bb =<span class="number">3</span></span><br><span class="line">print(id(aa), id(bb)) <span class="comment"># 不同，因为把3 这个值重新复制给了变量bb</span></span><br></pre></td></tr></table></figure>

<p>对于复杂的数据类型，使用deepcopy() 的时候，本来就是会重新拷贝一份到内存中。在python3 中copy() 和deepcopy() 这个是没有什么区别的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list1 =[<span class="string">'a'</span>, <span class="string">'b'</span>]</span><br><span class="line">list2 =list1 <span class="comment"># 这个是引用，所以和list1 是相同的</span></span><br><span class="line">list3 =copy.copy(list1)  <span class="comment"># 这个id 和list1 不同</span></span><br><span class="line">list4 =copy.deepcopy(list1)<span class="comment"># 这个id 和list1 不同 </span></span><br><span class="line">print(id(list1), id(list2), id(list3), id(list4))</span><br></pre></td></tr></table></figure>


<p>在python 中如何返回值有多个，可以使用元组。虽然是可以使用全局变量，但是在真正的工作中是不推荐这样做的，因为在多线程环境下，这种方式并不是一种 线程安全的方法。</p>
<p>关于 传值还是传引用？</p>
<p>结论：python不允许程序员选择采用传值还是传引用。Python参数传递采用的肯定是“传对象引用”的方式。这种方式相当于传值和传引用的一种综合。如果函数收到的是一个可变对象（比如字典或者列表）的引用，就能修改对象的原始值－－相当于通过“传引用”来传递对象。如果函数收到的是一个不可变对象（比如数字、字符或者元组）的引用，就不能直接修改原始对象－－相当于通过“传值’来传递对象。</p>
<p>细说： 对于不可变的对象，原始的对象因为不能改变，于是被“抛弃”，实际上是新new 了一个数值，所以操作的不是原来主函数中的值。</p>
<p>python 中的基本数据类型有六种：数字，字符串，列表，字典，元组和集合，(Number, String, List, Dict, Tuple, Set)</p>
<p>数字包括整形，长整型，浮点型和复数，(Int, Long, Float, Complex)<br>布尔值 True 和 False<br>集合包含集合和不可变集合 (set, frozenset)<br>字符串里包括 字符串，字节串和万国码 (str, bytes, unicode)<br>列表包括 列表和字节数组 (list, bytearray)<br>有的时候分四种，就是数字，序列，集合和字典。序列里包括字符串和列表和元组。<br>有的时候分五种，就是数字，字符串，列表，元组和字典。列表里包括元组。<br>其中不可变的类型有数字，字符串，布尔值，元组，和 frozenset， 可变类型有列表，字典，和集合。</p>
<p>可变和不可变的区分是该对象是否存在 add 或者 append 等方法来增加对象元素，使得对象在不改变自身 ID 的情况改变内容。</p>
<h3 id="object-oriented-design"><a href="#object-oriented-design" class="headerlink" title="object oriented design###"></a>object oriented design###</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentClass</span>:</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">my_function</span><span class="params">(self)</span>:</span></span><br><span class="line">   <span class="keyword">print</span> <span class="string">'I am here'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass1</span><span class="params">(ParentClass)</span>:</span> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass2</span><span class="params">(ParentClass)</span>:</span></span><br></pre></td></tr></table></figure>

<p>对于多继承的支持 （接口）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(B,C)</span>:</span>  <span class="comment">#A implments B and C</span></span><br></pre></td></tr></table></figure>

<p>如果想要call parent class function then you can dp:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">super(A, self).funcion_name()</span><br></pre></td></tr></table></figure>

<h3 id="garbage-collection"><a href="#garbage-collection" class="headerlink" title="garbage collection###"></a>garbage collection###</h3><p>all the objects  in python are stored in a heap (堆) space. Python has an built-in garbage collection mechanism. Memory management in Python involves a private heap containing all Python objects and data structures. The management of this private heap is ensured internally by the Python memory manager.</p>
<p>In computer science, a heap is a specialized tree-based data structure which is essentially an almost complete[1] tree that satisfies the heap property: if P is a parent node of C, then the key(the value) of P is either greater than or equal to (in a max heap) or less than or equal to (in a min heap) the key of C.</p>
<h3 id="try…catch"><a href="#try…catch" class="headerlink" title="try…catch###"></a>try…catch###</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># raise exceptions</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  <span class="keyword">raise</span> TyeError</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">  print(<span class="string">'exception'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># catching exceptions</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  do_something()</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">  print(<span class="string">'exception'</span>)</span><br><span class="line"><span class="comment"># try/ catch /finally</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  do_something()</span><br><span class="line"><span class="keyword">except</span> TypeError:</span><br><span class="line">  print(<span class="string">'exception'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">  close_connections()</span><br></pre></td></tr></table></figure>

<h3 id="内置函数中的-all-和-any"><a href="#内置函数中的-all-和-any" class="headerlink" title="内置函数中的 all() 和 any()"></a>内置函数中的 all() 和 any()</h3><p>这两个函数的参数都是iterable，也就是为list或者tuple.<br>all() 函数:  “全‘真’为True，有‘假’为False” ; 当iterable为空的时候，函数返回值为True<br>any() “全‘假’为False，有‘真’为True”. 当iterable为空的时候，函数返回值为False</p>
<p>给出all () 函数的一个简单的例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>all([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])  <span class="comment"># 列表list，元素都不为空或0</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">''</span>, <span class="string">'d'</span>])   <span class="comment"># 列表list，存在一个为空的元素</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all([<span class="number">0</span>, <span class="number">1</span>，<span class="number">2</span>, <span class="number">3</span>])          <span class="comment"># 列表list，存在一个为0的元素</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line">   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all((<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>))  <span class="comment"># 元组tuple，元素都不为空或0</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all((<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">''</span>, <span class="string">'d'</span>))   <span class="comment"># 元组tuple，存在一个为空的元素</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all((<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))          <span class="comment"># 元组tuple，存在一个为0的元素</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line">   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all([])             <span class="comment"># 空列表</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all(())             <span class="comment"># 空元组</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>总结：<br>all()：”有‘假’为False，全‘真’为True，iterable为空是True”<br>any()：”有‘真’为True，全‘假’为False，iterable为空是False”</p>
<h3 id="sort-sorted-函数"><a href="#sort-sorted-函数" class="headerlink" title="sort() sorted() 函数"></a>sort() sorted() 函数</h3><p>在python3 中 sorted() 取消了对cmp 的支持, 所以只能使用 sort() 函数， 比如下面语句，表示先是按照第一个元素进行升序，然后在第一个元素相同的条件下，按照第二个元素进行降序。灰常nice的一种写法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># type envelopes: List[List[int]]</span></span><br><span class="line">envelopes.sort(key =<span class="keyword">lambda</span> x:(x[<span class="number">0</span>], -x[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>
<p>list.sort( ) 是in-place 操作， 在python2 中 sorted() 是一种有返回排序好的数组的操作。 </p>
<h2 id="python-operators"><a href="#python-operators" class="headerlink" title="python operators"></a>python operators</h2><p>Python Arithmetic Operator</p>
<blockquote>
<p>Addition(+)  Subtraction(-)  Multiplication(<em>) Division(/) Exponentiation(*</em>) Floor Division(//) 向下取整 Modulus(%)</p>
</blockquote>
<p>Python Relational Operator</p>
<blockquote>
<p>Less than(&lt;) Greater than(&gt;) Less than or equal to(&lt;=) Greater than or equal to(&gt;=) Equal to(= =) Not equal to(!=)</p>
</blockquote>
<p>Python Assignment Operator<br>（python 中没有 ++ 这个符号，这个是c++ 中的符号）</p>
<blockquote>
<p>Assign(=) Add and Assign(+=) Subtract and Assign(-=) Divide and Assign(/=) Divide and Assign(/=) Modulus and Assign(%=) Exponent and Assign(**=) Floor-Divide and Assign(//=)</p>
</blockquote>
<p>Python Logical Operator<br>(会有某种机制简化运算，比如 condition1 or condition2 ，如果condition1 是正确的，那么最后的结果就是正确的。)用于逻辑判断</p>
<blockquote>
<p>and  or not</p>
</blockquote>
<p>Python Membership Operator</p>
<blockquote>
<p>in  ,not in</p>
</blockquote>
<p>Python Identity Operator</p>
<blockquote>
<p>is, is not , </p>
</blockquote>
<p>Python Bitwise Operator</p>
<p>(这其中的 | 表现的是一种二级制’ 和’的 关系，如果在二进制下，0 | 1 那么就是1 ) 属于集合操作。</p>
<blockquote>
<p>Binary AND(&amp;) Binary OR(|) Binary XOR(^) Binary XOR(^) Binary Left-Shift(&lt;&lt;) Binary Right-Shift(&gt;&gt;)</p>
</blockquote>
<h2 id="Working-with-files"><a href="#Working-with-files" class="headerlink" title="Working with files"></a>Working with files</h2><p>** Working with CSV, Json and XML**</p>
<p>Over the years, the list of possible formats that you can store your data in has grown significantly. But, there are 3 that dominate in their everyday usage: CSV, JSON, and XML. In this article, I’m going to share with you the easiest ways to work with these 3 popular data formats in Python!</p>
<p>有两种方式去读写 csv file：一种是 pd.read_csv() ，一种是built-in 的library 中的库函数<br>之前一直使用的pd.read_csv(), 现在才发现python 有built-in 的library。<br>We can do both read and write of a CSV using the built-in Python csv library. Usually, we’ll read the data into a list of lists.</p>
<p>python built-in function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv </span><br><span class="line">filename = <span class="string">"my_data.csv"</span></span><br><span class="line">fields = [] </span><br><span class="line">rows = [] </span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(filename, <span class="string">'r'</span>) <span class="keyword">as</span> csvfile: </span><br><span class="line">    csvreader = csv.reader(csvfile) </span><br><span class="line">    <span class="comment"># 如果单单是这个for，那么内存是消耗比较大的</span></span><br><span class="line">    <span class="comment"># fields = csvreader.next() </span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csvreader: </span><br><span class="line">        rows.append(row)</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> rows[:<span class="number">5</span>]: </span><br><span class="line">    print(row)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing to csv file </span></span><br><span class="line"><span class="keyword">with</span> open(filename, <span class="string">'w+'</span>) <span class="keyword">as</span> csvfile: </span><br><span class="line">    csvwriter = csv.writer(csvfile) </span><br><span class="line">    csvwriter.writerow(fields) </span><br><span class="line">    csvwriter.writerows(rows)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> dicttoxml <span class="keyword">import</span> dicttoxml</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment"># Building our dataframe</span></span><br><span class="line">data = &#123;<span class="string">'Name'</span>: [<span class="string">'Emily'</span>, <span class="string">'Katie'</span>, <span class="string">'John'</span>, <span class="string">'Mike'</span>],</span><br><span class="line">        <span class="string">'Goals'</span>: [<span class="number">12</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">3</span>],</span><br><span class="line">        <span class="string">'Assists'</span>: [<span class="number">18</span>, <span class="number">24</span>, <span class="number">9</span>, <span class="number">14</span>],</span><br><span class="line">        <span class="string">'Shots'</span>: [<span class="number">112</span>, <span class="number">96</span>, <span class="number">101</span>, <span class="number">82</span>]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data, columns=data.keys())</span><br><span class="line"><span class="comment"># Converting the dataframe to a dictionary</span></span><br><span class="line"><span class="comment"># Then save it to file</span></span><br><span class="line">data_dict = df.to_dict(orient=<span class="string">"records"</span>)</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'output.json'</span>, <span class="string">"w+"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data_dict, f, indent=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Converting the dataframe to XML</span></span><br><span class="line"><span class="comment"># Then save it to file</span></span><br><span class="line">xml_data = dicttoxml(data_dict).decode()</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">"output.xml"</span>, <span class="string">"w+"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(xml_data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Read the data from file</span></span><br><span class="line"><span class="comment"># We now have a Python dictionary</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'data.json'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data_listofdict = json.load(f)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># We can do the same thing with pandas</span></span><br><span class="line">data_df = pd.read_json(<span class="string">'data.json'</span>, orient=<span class="string">'records'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># We can write a dictionary to JSON like so</span></span><br><span class="line"><span class="comment"># Use 'indent' and 'sort_keys' to make the JSON</span></span><br><span class="line"><span class="comment"># file look nice</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'new_data.json'</span>, <span class="string">'w+'</span>) <span class="keyword">as</span> json_file:</span><br><span class="line">    json.dump(data_listofdict, json_file, indent=<span class="number">4</span>, sort_keys=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># And again the same thing with pandas</span></span><br><span class="line">export = data_df.to_json(<span class="string">'new_data.json'</span>, orient=<span class="string">'records'</span>)</span><br></pre></td></tr></table></figure>


<p>处理windows 和linux 中文件分割符不兼容的情况</p>
<blockquote>
<p>python 中 open( mode =’rt’) 的选项：<br>w,r,wt,rt都是python里面文件操作的模式。<br>w是写模式，r是读模式。<br>t是windows平台特有的所谓text mode(文本模式）,区别在于会自动识别windows平台的换行符。<br>类Unix平台的换行符是\n，而windows平台用的是\r\n两个ASCII字符来表示换行，python内部采用的是\n来表示换行符。<br>rt模式下，python在读取文本时会自动把\r\n转换成\n.<br>wt模式下，Python写文件时会用\r\n来表示换行。</p>
</blockquote>
<p>参考资料：<br><a href="https://towardsdatascience.com/the-easy-way-to-work-with-csv-json-and-xml-in-python-5056f9325ca9" target="_blank" rel="noopener">https://towardsdatascience.com/the-easy-way-to-work-with-csv-json-and-xml-in-python-5056f9325ca9</a></p>
<h2 id="输入和输出函数"><a href="#输入和输出函数" class="headerlink" title="输入和输出函数"></a>输入和输出函数</h2><h3 id="输入函数"><a href="#输入函数" class="headerlink" title="输入函数"></a>输入函数</h3><p>python2 有 raw_input() 和 input() 函数，前者把所有的接收值当做string，如果想要用int，那么需要自己进行转换。input() 如果得到int，那么就是int，string 类型就是string 类型。<br>python3 中只有input() 函数，所有的接收都是 string，需要自己进行转换。</p>
<p>python3 中的input() 函数就是python2 中的raw_input() 函数。下面的代码使用 python3 实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">"__main__"</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 输入输出 n*n 的arrar</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    n =int(input())</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    arr =[[0]*n] *n</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # 在python3 中需要 exactly 的注意这种分割，输入的时候要及其的小心</span></span><br><span class="line"><span class="string">    for i in range(n):</span></span><br><span class="line"><span class="string">        arr[i] = input().split(" ")</span></span><br><span class="line"><span class="string">        arr[i] =[int(a) for a in arr[i]] # 转成 int 类型</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    print(arr)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># 输入和输出 n*m 的数组</span></span><br><span class="line">    n =int(input())</span><br><span class="line">    m =int(input())</span><br><span class="line"></span><br><span class="line">    arr =[[<span class="number">0</span>]*m]*n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        arr[i] =input().split(<span class="string">" "</span>)</span><br><span class="line">        arr[i] =[int(a) <span class="keyword">for</span> a <span class="keyword">in</span> arr[i]]</span><br><span class="line"></span><br><span class="line">    print(arr)</span><br></pre></td></tr></table></figure>


<p>处理输入和输出问题，就是使用 <code>python3</code> 处理，然后注释使用 <code>list(map(str, []))</code> 和 <code>list(map(int, []))</code> 这种处理手段。涨涨记性吧</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python 中传递的是值 还是引用</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span><span class="params">(nums, l, r)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> l&gt;= r: <span class="keyword">return</span> </span><br><span class="line">    left, right =l, r</span><br><span class="line">    </span><br><span class="line">    key =nums[l]</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r):</span><br><span class="line">        <span class="keyword">while</span>(l &lt;r <span class="keyword">and</span> nums[r] &gt;= key): r -=<span class="number">1</span></span><br><span class="line">        nums[l] =nums[r]</span><br><span class="line">        <span class="keyword">while</span>(l &lt;r <span class="keyword">and</span> nums[l] &lt;= key): l +=<span class="number">1</span></span><br><span class="line">        nums[r] =nums[l]</span><br><span class="line">    nums[l] =key</span><br><span class="line">    </span><br><span class="line">    quick_sort(nums, left, l <span class="number">-1</span>)</span><br><span class="line">    quick_sort(nums, l +<span class="number">1</span>, right)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">"__main__"</span>:</span><br><span class="line">    n =int(input())</span><br><span class="line">    nums =list(map(int, input().split()))</span><br><span class="line">    quick_sort(nums, <span class="number">0</span>, len(nums)<span class="number">-1</span>)</span><br><span class="line">    <span class="comment">#print(nums)</span></span><br><span class="line">    print(<span class="string">" "</span>.join(list(map(str, nums))))</span><br></pre></td></tr></table></figure>


<h3 id="String-Formatting-Syntax"><a href="#String-Formatting-Syntax" class="headerlink" title="String Formatting Syntax"></a>String Formatting Syntax</h3><blockquote>
<p>As of Python 3.6, f-strings are a great new way to format strings. Not only are they more readable, more concise, and less prone to error than other ways of formatting, but they are also faster!</p>
</blockquote>
<p>Option #1: %-formatting</p>
<blockquote>
<p>This is the OG of Python formatting and has been in the language since the very beginning. You can read more in the Python docs. Keep in mind that %-formatting is not recommended by the docs.</p>
</blockquote>
<p>How to Use %-formatting</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">"Eric"</span></span><br><span class="line">age = <span class="number">74</span></span><br><span class="line">print(<span class="string">"Hello, %s. You are %s."</span> % (name, age))</span><br></pre></td></tr></table></figure>

<p>Why %-formatting Isn’t Great</p>
<p>However, once you start using several parameters and longer strings, your code will quickly become much less easily readable. Things are starting to look a little messy already:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">first_name = <span class="string">"Eric"</span></span><br><span class="line">last_name = <span class="string">"Idle"</span></span><br><span class="line">age = <span class="number">74</span></span><br><span class="line">profession = <span class="string">"comedian"</span></span><br><span class="line">affiliation = <span class="string">"Monty Python"</span></span><br><span class="line"><span class="string">"Hello, %s %s. You are %s. You are a %s. You were a member of %s."</span> % (first_name, last_name, age, profession, affiliation)</span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Option <span class="comment">#2: str.format()</span></span><br><span class="line"></span><br><span class="line">This newer way of getting the job done was introduced <span class="keyword">in</span> Python <span class="number">2.6</span>. </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"><span class="string">"Hello, &#123;&#125;. You are &#123;&#125;."</span>.format(name, age) <span class="comment"># 默认的顺序</span></span><br><span class="line"><span class="string">"Hello, &#123;1&#125;. You are &#123;0&#125;."</span>.format(age, name) <span class="comment"># 按照index 的顺序</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 传入的 dict 的顺序</span></span><br><span class="line"> person = &#123;<span class="string">'name'</span>: <span class="string">'Eric'</span>, <span class="string">'age'</span>: <span class="number">74</span>&#125;</span><br><span class="line"> <span class="string">"Hello, &#123;name&#125;. You are &#123;age&#125;."</span>.format(name=person[<span class="string">'name'</span>], age=person[<span class="string">'age'</span>])</span><br></pre></td></tr></table></figure>


<p>Why str.format() Isn’t Great</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print((<span class="string">"Hello, &#123;first_name&#125; &#123;last_name&#125;. You are &#123;age&#125;. "</span> +<span class="string">"You are a &#123;profession&#125;. You were a member of &#123;affiliation&#125;."</span>) .format(first_name=first_name, last_name=last_name, age=age,profession=profession, affiliation=affiliation))</span><br></pre></td></tr></table></figure>


<p>f-Strings: A New and Improved Way to Format Strings in Python</p>
<p>The syntax is similar to the one you used with str.format() but less verbose. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">"Eric"</span></span><br><span class="line">age = <span class="number">74</span></span><br><span class="line"><span class="string">f"Hello, <span class="subst">&#123;name&#125;</span>. You are <span class="subst">&#123;age&#125;</span>."</span></span><br><span class="line">F<span class="string">"Hello, &#123;name&#125;. You are &#123;age&#125;."</span> <span class="comment">#  也可以使用大写的字母F</span></span><br></pre></td></tr></table></figure>

<p>Arbitrary Expressions</p>
<p>Because f-strings are evaluated at runtime, you can put any and all valid Python expressions in them. This allows you to do some nifty things.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">f"<span class="subst">&#123;<span class="number">2</span> * <span class="number">37</span>&#125;</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">to_lowercase</span><span class="params">(input)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> input.lower()</span><br><span class="line">name = <span class="string">"Eric Idle"</span></span><br><span class="line"><span class="string">f"<span class="subst">&#123;to_lowercase(name)&#125;</span> is funny."</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comedian</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, first_name, last_name, age)</span>:</span></span><br><span class="line">        self.first_name = first_name</span><br><span class="line">        self.last_name = last_name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f"<span class="subst">&#123;self.first_name&#125;</span> <span class="subst">&#123;self.last_name&#125;</span> is <span class="subst">&#123;self.age&#125;</span>."</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f"<span class="subst">&#123;self.first_name&#125;</span> <span class="subst">&#123;self.last_name&#125;</span> is <span class="subst">&#123;self.age&#125;</span>. Surprise!</span></span><br></pre></td></tr></table></figure>


<p>The <code>__str__()</code> and <code>__repr__()</code> methods deal with how objects are presented as strings, so you’ll need to make sure you include at least one of those methods in your class definition. If you have to pick one, go with <code>__repr__()</code> because it can be used in place of <code>__str__()</code>.</p>
<p>By default, f-strings will use <code>__str__()</code>, but you can make sure they use <code>__repr__()</code> if you include the conversion flag !r:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f&quot;&#123;new_comedian&#125;&quot;</span><br><span class="line">f&quot;&#123;new_comedian!r&#125;&quot;</span><br></pre></td></tr></table></figure>


<div><div class="fold_hider"><div class="close hider_title">开/合</div></div><div class="fold">
<p>Python: <strong>str</strong>( ) vs. <strong>repr</strong>( )</p>
<p>According to the official documentation,  <code>__repr__()</code> is used to compute an official string representation of an object which, and, if possible, can be used to recreate the object itself, however, <code>__str__()</code> is used to compute an informal string representation of that object.</p>
<p>Although the <strong>repr</strong>() official representation is for developers so they can use it to debug, the <strong>str</strong>() informal representation is for the final users.</p>
<p>代码说明：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    nb = <span class="number">1</span></span><br><span class="line">    <span class="keyword">print</span> (str(nb))</span><br><span class="line">    <span class="comment">#1</span></span><br><span class="line">    <span class="keyword">print</span> (repr(nb))</span><br><span class="line">    <span class="comment">#1</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'*'</span> * <span class="number">20</span></span><br><span class="line"><span class="comment">#********************</span></span><br><span class="line">    chaine = <span class="string">"hello world"</span></span><br><span class="line">    <span class="keyword">print</span> (str(chaine))</span><br><span class="line">    <span class="comment">#hello world</span></span><br><span class="line">    <span class="keyword">print</span> (repr(chaine))</span><br><span class="line">    <span class="comment">#'hello world'</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'*'</span> * <span class="number">20</span></span><br><span class="line"><span class="comment">#********************</span></span><br><span class="line">    d_cur = datetime.now()</span><br><span class="line">    <span class="keyword">print</span> (str(d_cur))</span><br><span class="line">    <span class="comment">#2019-03-14 12:01:44.377000</span></span><br><span class="line">    <span class="keyword">print</span> (repr(d_cur))</span><br><span class="line">    <span class="comment">#datetime.datetime(2019, 3, 14, 12, 1, 44, 377000)</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'*'</span> * <span class="number">20</span></span><br><span class="line">    <span class="comment">#********************</span></span><br></pre></td></tr></table></figure>


<p>参考文献：<a href="https://dzone.com/articles/python-str-vs-repr" target="_blank" rel="noopener">Python: <strong>str</strong>( ) vs. <strong>repr</strong>( )</a></p>

</div></div>





<p>Speed</p>
<p>As you already saw, f-strings are expressions evaluated at runtime rather than constant values. Here’s an excerpt from the docs:</p>
<blockquote>
<p>“F-strings provide a way to embed expressions inside string literals, using a minimal syntax. It should be noted that an f-string is really an expression evaluated at run time, not a constant value. In Python source code, an f-string is a literal string, prefixed with f, which contains expressions inside braces. The expressions are replaced with their values.” (Source)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import timeit</span><br><span class="line">timeit.timeit(&quot;&quot;&quot;name &#x3D; &quot;Eric&quot; age &#x3D; 74 &#39;%s is %s.&#39; % (name, age)&quot;&quot;&quot;, number &#x3D; 10000)</span><br><span class="line"># 0.003324444866599663</span><br><span class="line">timeit.timeit(&quot;&quot;&quot;name &#x3D; &quot;Eric&quot;age &#x3D; 74&#39;&#123;&#125; is &#123;&#125;.&#39;.format(name, age)&quot;&quot;&quot;, number &#x3D; 10000)</span><br><span class="line"># 0.004242089427570761</span><br><span class="line">timeit.timeit(&quot;&quot;&quot;name &#x3D; &quot;Eric&quot;age &#x3D; 74f&#39;&#123;name&#125; is &#123;age&#125;.&#39;&quot;&quot;&quot;, number &#x3D; 10000)</span><br><span class="line"># 0.0024820892040722242</span><br></pre></td></tr></table></figure>

<p>Quotation Marks</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">f'''Eric Idle'''</span></span><br><span class="line"><span class="string">f"""Eric Idle"""</span> <span class="comment"># 注意是三对</span></span><br><span class="line"><span class="comment"># 'Eric Idle'</span></span><br><span class="line"><span class="string">f"The \"comedian\" is <span class="subst">&#123;name&#125;</span>, aged <span class="subst">&#123;age&#125;</span>."</span></span><br><span class="line"><span class="comment"># 'The "comedian" is Eric Idle, aged 74.'</span></span><br></pre></td></tr></table></figure>



<p>Dictionaries</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">comedian = &#123;<span class="string">'name'</span>: <span class="string">'Eric Idle'</span>, <span class="string">'age'</span>: <span class="number">74</span>&#125;</span><br><span class="line"><span class="string">f"The comedian is <span class="subst">&#123;comedian[<span class="string">'name'</span>]&#125;</span>, aged <span class="subst">&#123;comedian[<span class="string">'age'</span>]&#125;</span>."</span></span><br></pre></td></tr></table></figure>


<p>Braces</p>
<p>In order to make a brace appear in your string, you must use double braces:</p>
<p>Note that using triple braces will result in there being only single braces in your string:</p>
<p>However, you can get more braces to show if you use more than triple braces:</p>
<p><a href="https://realpython.com/python-f-strings/" target="_blank" rel="noopener">Python 3’s f-Strings: An Improved String Formatting Syntax (Guide)</a></p>
<h2 id="面向对象-for-python"><a href="#面向对象-for-python" class="headerlink" title="面向对象 (for python)"></a>面向对象 (for python)</h2><p>访问控制有三种级别：私有、受保护、公有。私有。（Private）：只有类自身可以访问 受保护。（Protected）：只有类自身和子类可以访问 公有。（Public）：任何类都可以访问。</p>
<p><strong>公有（Public）</strong></p>
<p>在Python的类中，默认情况下定义的属性都是公有的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">	bar = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, bob)</span>:</span></span><br><span class="line">		self.bob = bob</span><br><span class="line"></span><br><span class="line">print(Foo.bar)  <span class="comment"># 123</span></span><br><span class="line"></span><br><span class="line">foo = Foo(<span class="number">456</span>)</span><br><span class="line">print(foo.bob)  <span class="comment"># 456</span></span><br></pre></td></tr></table></figure>

<p>上面类Foo中的bar属性就是类属性，<strong>init</strong>方法中定义的bob是实例属性，bar和bob都是公有的属性，外部可以访问，分别print类中的bar和实例中的bob，输出了对应的值。</p>
<p><strong>受保护（Protected）</strong></p>
<p>在Python中定义一个受保护的属性，只需要在其名字前加一个下划线_，我们将Foo方法中的bob和bar改为_bob和_bar，他们就变成了受保护的属性了，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">	_bar = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, bob)</span>:</span></span><br><span class="line">		self._bob = bob</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span><span class="params">(Foo)</span>:</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">print_bob</span><span class="params">(self)</span>:</span></span><br><span class="line">		print(self._bob)</span><br><span class="line"></span><br><span class="line"><span class="meta">	@classmethod</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">print_bar</span><span class="params">(cls)</span>:</span></span><br><span class="line">		print(cls._bar)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Son.print_bar()  <span class="comment"># 123</span></span><br><span class="line"></span><br><span class="line">son = Son(<span class="number">456</span>)</span><br><span class="line">son.print_bob()  <span class="comment"># 456</span></span><br></pre></td></tr></table></figure>


<p>定义一个类Son继承自Foo，由于受保护的对象只能在类的内部和子类中被访问，不能直接调用print(Son._bar)或print(son._bob)来输出这两个属性的值，所以定义了print_bar和print_bob方法，实现在子类中输出，这段代码也正常的输出了_bar和_bob的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(Son._bar)  <span class="comment"># 123</span></span><br><span class="line"></span><br><span class="line">son = Son(<span class="number">456</span>)</span><br><span class="line">print(son._bob)  <span class="comment"># 456</span></span><br></pre></td></tr></table></figure>
<p>（假装）惊讶的发现，竟然没有报错，也输出了正确的值。</p>
<p>Python中用加下划线来定义受保护变量，是一种约定的规范，而不是语言层面真的实现了访问控制，所以，我们定义的保护变量，依然可以在外部被访问到（这是个feature，不是bug）。</p>
<p><code>私有（private）</code></p>
<p>Python定义私有属性，需要在属性名前加两个下划线__，把上面的代码修改一下，运行一下会发现下面的代码中的任何一个print都会报错的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">	__bar = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, bob)</span>:</span></span><br><span class="line">		self.__bob = bob</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span><span class="params">(Foo)</span>:</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">print_bob</span><span class="params">(self)</span>:</span></span><br><span class="line">		print(self.__bob)  <span class="comment"># Error</span></span><br><span class="line"></span><br><span class="line"><span class="meta">	@classmethod</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">print_bar</span><span class="params">(cls)</span>:</span></span><br><span class="line">		print(cls.__bar)  <span class="comment"># Error</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Son.__bar)  <span class="comment"># Error</span></span><br><span class="line"></span><br><span class="line">son = Son(<span class="number">456</span>)</span><br><span class="line">print(son._bob)  <span class="comment"># Error</span></span><br></pre></td></tr></table></figure>

<p>深入一下——私有属性真的就访问不到了吗？</p>
<p>要了解私有属性是否真的访问不到，需要从Python是如何实现私有属性入手。CPython中，会把双下划线的属性变为_ClassName__PropertyName的形式，用代码演示一下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">	__bar = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">print(Foo._Foo__bar)  <span class="comment"># 123</span></span><br></pre></td></tr></table></figure>

<p>再比如</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">F</span>:</span></span><br><span class="line">    __name = <span class="string">"xurui"</span></span><br><span class="line">f = F()</span><br><span class="line">result = f._F__name          <span class="comment">##通过这个方式可以从外部访问...</span></span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<p>运行一下可以知道，正常输出了__bar的值，但是不推荐这样去访问私有属性，因为不同的Python解释器对于私有属性的处理不一样。</p>
<p>特例</p>
<p>使用双下划线定义私有属性，有一种特殊情况，当属性后也有两个下划线的时候，这个属性会被Python解释器当做魔术方法，从而不做私有处理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">	__bar__ = <span class="number">123</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Foo.__bar__)  <span class="comment"># 123</span></span><br></pre></td></tr></table></figure>

<p>上面代码输出了123，证明Python解释器并没有把<strong>bar</strong>当做私有属性。当定义私有属性时，需要注意名字最后最多只能有一个下划线。</p>
<p>假如定义的属性名就叫__呢？不妨直接试一下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">	__ = <span class="number">123</span></span><br><span class="line">print(Foo.__)  <span class="comment"># 123</span></span><br></pre></td></tr></table></figure>

<p>可以发现名字叫<strong>的属性也不会被认为是私有属性，名字是多个下划线的属性也不是私有属性（比如_____</strong>）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProtectMe</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">       self.me = <span class="string">"wxx"</span></span><br><span class="line">       self.__name = <span class="string">"zixin"</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span><span class="params">(self)</span>:</span></span><br><span class="line">      <span class="keyword">return</span> self.__name</span><br><span class="line"></span><br><span class="line">p = ProtectMe()</span><br><span class="line"><span class="keyword">print</span> p.name</span><br></pre></td></tr></table></figure>





<p><a href="https://juejin.im/post/5ac18d08f265da237b223d1a" target="_blank" rel="noopener">与面试官谈笑风生 | Python面向对象之访问控制</a></p>
<p>*<em>类class的访问控制 *</em>（这个实际上体现的是封装的思想）</p>
<p>Python中没有访问控制的关键字，例如private、protected等等。但是，在Python编码中，有一些约定来进行访问控制。Python中没有真正的私有属性或方法,可以在你想声明为私有的方法和属性前加上单下划线,以提示该属性和方法不应在外部调用.如果真的调用了也不会出错,但不符合规范.</p>
<ol start="0">
<li>xx： 共有变量</li>
</ol>
<ol>
<li>单下划线 “_”</li>
</ol>
<p>前置单下划线，私有化属性或方法，一般来讲，变量名_xx被看作是“私有 的”，在模块或类外不可以使用。当变量是私有的时候，用_xx 来表示变量是很好的习惯。类对象和子类可以访问,这并不能完全做到真正的私有，只是约定俗成的而已，这样写表示不希望这个变量在外部被直接调用。</p>
<ol start="2">
<li>双下划线”__”</li>
</ol>
<p>前置双下划线，私有化属性或方法，无法在外部直接访问（名字重整所以访问不到,只能是允许这个类本身进行访问了。连子类也不可以）</p>
<ol start="3">
<li>xx_：后置单下划线，用于避免与Python关键词的冲突（这种约定俗称的东西很好，一定要按照这种规范去做）</li>
</ol>
<p>单下划线、双下划线、头尾双下划线说明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__foo__: 定义的是特殊方法，一般是系统定义名字 ，类似 __init__() 之类的。</span><br><span class="line"></span><br><span class="line">_foo: 以单下划线开头的表示的是 protected 类型的变量，即保护类型只能允许其本身与子类进行访问，不能用于 from module import *</span><br><span class="line"></span><br><span class="line">__foo: 双下划线的表示的是私有类型(private)的变量, 只能是允许这个类本身进行访问了。</span><br></pre></td></tr></table></figure>

<p>这种命名方式同样是适用方法的命名。</p>
<p>python 中也是一样的，重载是类本身就有的方法，重写是子类针对父类函数的重写。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Site</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, url)</span>:</span></span><br><span class="line">        self.name = name       <span class="comment"># public</span></span><br><span class="line">        self.__url = url   <span class="comment"># private</span></span><br><span class="line">        <span class="comment"># 这个是系统的方法</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">who</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'name  : '</span>, self.name)</span><br><span class="line">        print(<span class="string">'url : '</span>, self.__url)</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__foo</span><span class="params">(self)</span>:</span>          <span class="comment"># 私有方法</span></span><br><span class="line">        print(<span class="string">'这是私有方法'</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self)</span>:</span>            <span class="comment"># 公共方法</span></span><br><span class="line">        print(<span class="string">'这是公共方法'</span>)</span><br><span class="line">        self.__foo()</span><br></pre></td></tr></table></figure>


<p><strong>继承</strong></p>
<p>Python3的继承机制不同于Python2。其核心原则是下面两条，请谨记！</p>
<ul>
<li>子类在调用某个方法或变量的时候，首先在自己内部查找，如果没有找到，则开始根据继承机制在父类里查找。</li>
<li>根据父类定义中的顺序，以深度优先的方式逐一查找父类！</li>
</ul>
<p>继承参数的书写有先后顺序，写在前面的被优先继承。</p>
<p>super() 函数</p>
<p>我们都知道，在子类中如果有与父类同名的成员，那就会覆盖掉父类里的成员。那如果你想强制调用父类的成员呢？使用super()函数！这是一个非常重要的函数，最常见的就是通过super调用父类的实例化方法<strong>init</strong>！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        print(<span class="string">"父类的__init__方法被执行了！"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"父类的show方法被执行了！"</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age)</span>:</span></span><br><span class="line">        super(B, self).__init__(name=name)</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(self)</span>:</span></span><br><span class="line">        super(B, self).show()</span><br><span class="line"></span><br><span class="line">obj = B(<span class="string">"jack"</span>, <span class="number">18</span>)</span><br><span class="line">obj.show()</span><br></pre></td></tr></table></figure>

<p>继承可以把父类的所有功能都直接拿过来，这样就不必重零做起，子类只需要新增自己特有的方法，也可以把父类不适合的方法覆盖重写。</p>
<p><strong>多态</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kind</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"i am animal"</span>)</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kind</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"i am a dog"</span>)</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kind</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"i am a cat"</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pig</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kind</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"i am a pig"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这个函数接收一个animal参数，并调用它的kind方法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_kind</span><span class="params">(animal)</span>:</span></span><br><span class="line">    animal.kind()</span><br><span class="line"></span><br><span class="line">d = Dog()</span><br><span class="line">c = Cat()</span><br><span class="line">p = Pig()</span><br><span class="line"></span><br><span class="line">show_kind(d)</span><br><span class="line">show_kind(c)</span><br><span class="line">show_kind(p)</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line">打印结果：</span><br><span class="line"></span><br><span class="line">i am a dog</span><br><span class="line">i am a cat</span><br><span class="line">i am a pig</span><br></pre></td></tr></table></figure>


<p>多态的思想，使用一个指针（变量）可以根据位置指向不同的子类。</p>
<h3 id="python-中的三类方法"><a href="#python-中的三类方法" class="headerlink" title="python 中的三类方法"></a>python 中的三类方法</h3><p>一般使用实例方法最多，需要有 self 作为一个传入参数，在子类中可以使用该方法。 类方法使用修饰器 @classmethod ；静态方法使用修饰器 @staticmethod，对于静态方法，调用时并不需要传递类或者实例。其实，静态方法很像我们在类外定义的函数，只不过静态方法可以通过类或者实例来调用而已。</p>
<p>实例方法只能被实例对象调用，静态方法(由@staticmethod装饰的方法)、类方法(由@classmethod装饰的方法)，可以被类或类的实例对象调用。</p>
<p>实例方法，第一个参数必须要默认传实例对象，一般习惯用self。<br>静态方法，参数没有要求。<br>类方法，第一个参数必须要默认传类，一般习惯用cls。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Kls</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        print(<span class="string">'executing foo(%s,%s)'</span> % (self, x))</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">class_foo</span><span class="params">(cls,x)</span>:</span></span><br><span class="line">        print(<span class="string">'executing class_foo(%s,%s)'</span> % (cls,x))</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">static_foo</span><span class="params">(x)</span>:</span></span><br><span class="line">        print(<span class="string">'executing static_foo(%s)'</span> % x)</span><br><span class="line"></span><br><span class="line">ik = Kls()</span><br><span class="line"><span class="comment"># 实例方法</span></span><br><span class="line">ik.foo(<span class="number">1</span>)</span><br><span class="line">print(ik.foo)</span><br><span class="line">print(<span class="string">'=========================================='</span>)</span><br><span class="line"><span class="comment"># 类方法</span></span><br><span class="line">ik.class_foo(<span class="number">1</span>)</span><br><span class="line">Kls.class_foo(<span class="number">1</span>)</span><br><span class="line">print(ik.class_foo)</span><br><span class="line">print(<span class="string">'=========================================='</span>)</span><br><span class="line"><span class="comment"># 静态方法</span></span><br><span class="line">ik.static_foo(<span class="number">1</span>)</span><br><span class="line">Kls.static_foo(<span class="string">'hi'</span>)</span><br><span class="line">print(ik.static_foo)</span><br></pre></td></tr></table></figure>




<p>类方法<br>Python 提供了 classmethod 装饰器让我们实现上述功能，看下面的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    bar = <span class="number">1</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">class_foo</span><span class="params">(cls)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'Hello, '</span>, cls</span><br><span class="line">        <span class="keyword">print</span> cls.bar</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A.class_foo()   <span class="comment"># 直接通过类来调用方法</span></span><br><span class="line">Hello,  &lt;<span class="class"><span class="keyword">class</span> '<span class="title">__main__</span>.<span class="title">A</span>'&gt;</span></span><br><span class="line"><span class="class">1</span></span><br></pre></td></tr></table></figure>

<p>在上面，我们使用了 classmethod 装饰方法 class_foo，它就变成了一个类方法，class_foo 的参数是 cls，代表类本身，当我们使用 A.class_foo() 时，cls 就会接收 A 作为参数。另外，被 classmethod 装饰的方法由于持有 cls 参数，因此我们可以在方法里面调用类的属性、方法，比如 cls.bar。</p>
<p>静态方法</p>
<p>在类中往往有一些方法跟类有关系，但是又不会改变类和实例状态的方法，这种方法是静态方法，我们使用 staticmethod 来装饰，比如下面的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class A(object):</span><br><span class="line">    bar &#x3D; 1</span><br><span class="line">    @staticmethod</span><br><span class="line">    def static_foo():</span><br><span class="line">        print &#39;Hello, &#39;, A.bar</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; a &#x3D; A()</span><br><span class="line">&gt;&gt;&gt; a.static_foo()</span><br><span class="line">Hello, 1</span><br><span class="line">&gt;&gt;&gt; A.static_foo()</span><br><span class="line">Hello, 1</span><br></pre></td></tr></table></figure>
<p>可以看到，静态方法没有 self 和 cls 参数，可以把它看成是一个普通的函数，我们当然可以把它写到类外面，但这是不推荐的，因为这不利于代码的组织和命名空间的整洁。</p>
<h3 id="python-中的单例-多例模式"><a href="#python-中的单例-多例模式" class="headerlink" title="python 中的单例/ 多例模式"></a>python 中的单例/ 多例模式</h3><ol>
<li>定义</li>
</ol>
<p>单例模式(Singleton Pattern)：单例模式确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，它提供全局访问的方法。单例模式的要点有三个：一是某个类只能有一个实例；二是它必须自行创建这个实例；三是它必须自行向整个系统提供这个实例。单例模式是一种对象创建型模式。单例模式又名单件模式或单态模式。</p>
<ol start="2">
<li>单例模式的分类</li>
</ol>
<p>懒汉版（Lazy Singleton）：单例实例在第一次被使用时才进行初始化，这叫做延迟初始化。</p>
<p>Lazy Singleton存在内存泄露的问题，有两种解决方法：</p>
<ul>
<li>使用智能指针</li>
<li>使用静态的嵌套类对象</li>
</ul>
<p>饿汉版（Eager Singleton）：指单例实例在程序运行时被立即执行初始化。由于在main函数之前初始化，所以没有线程安全的问题。</p>
<p>两种分类的总结：<br>Eager Singleton 虽然是线程安全的，但存在潜在问题；<br>Lazy Singleton通常需要加锁来保证线程安全，但局部静态变量版本在C++11后是线程安全的；<br>局部静态变量版本（Meyers Singleton）最优雅。</p>
<ol start="3">
<li>什么情况下使用单例模式</li>
</ol>
<ul>
<li>系统只需要一个实例对象，如系统要求提供一个唯一的序列号生成器，或者需要考虑资源消耗太大而只允许创建一个对象。</li>
<li>客户调用类的单个实例只允许使用一个公共访问点，除了该公共访问点，不能通过其他途径访问该实例。</li>
</ul>
<p>小的例子：<br>某个服务器程序的配置信息存放在一个文件中，客户端通过一个 AppConfig 的类来读取配置文件的信息。如果在程序运行期间，有很多地方都需要使用配置文件的内容，也就是说，很多地方都需要创建 AppConfig 对象的实例，这就导致系统中存在多个 AppConfig 的实例对象，而这样会严重浪费内存资源，尤其是在配置文件内容很多的情况下。事实上，类似 AppConfig 这样的类，我们希望在程序运行期间只存在一个实例对象。</p>
<ol start="4">
<li>python 中的实现</li>
</ol>
<p>有以下四种方式实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">使用模块</span><br><span class="line">使用 __new__</span><br><span class="line">使用装饰器（decorator）</span><br><span class="line">使用元类（metaclass）</span><br></pre></td></tr></table></figure>

<p>使用模块</p>
<blockquote>
<p>其实，Python 的模块就是天然的单例模式，因为模块在第一次导入时，会生成 .pyc 文件，当第二次导入时，就会直接加载 .pyc 文件，而不会再次执行模块代码。因此，我们只需把相关的函数和数据定义在一个模块中，就可以获得一个单例对象了。如果我们真的想要一个单例类，可以考虑这样做：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mysingleton.py</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">My_Singleton</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">my_singleton = My_Singleton()</span><br></pre></td></tr></table></figure>

<p>使用new 关键字, 如果已经有有了该实例，那么就不用生成了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span><span class="params">(object)</span>:</span></span><br><span class="line">    _instance = <span class="literal">None</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, *args, **kw)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> cls._instance:</span><br><span class="line">            cls._instance = super(Singleton, cls).__new__(cls, *args, **kw)  </span><br><span class="line">        <span class="keyword">return</span> cls._instance  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span><span class="params">(Singleton)</span>:</span>  </span><br><span class="line">    a = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>使用修饰器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleton</span><span class="params">(cls)</span>:</span></span><br><span class="line">    instances = &#123;&#125;</span><br><span class="line"><span class="meta">    @wraps(cls)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getinstance</span><span class="params">(*args, **kw)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> cls <span class="keyword">not</span> <span class="keyword">in</span> instances:</span><br><span class="line">            instances[cls] = cls(*args, **kw)</span><br><span class="line">        <span class="keyword">return</span> instances[cls]</span><br><span class="line">    <span class="keyword">return</span> getinstance</span><br><span class="line"><span class="meta">@singleton</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span><span class="params">(object)</span>:</span></span><br><span class="line">    a = <span class="number">1</span></span><br></pre></td></tr></table></figure>



<p><a href="http://funhacks.net/2017/01/17/singleton/" target="_blank" rel="noopener">python中的单例模式</a></p>
<h2 id="数据处理函数"><a href="#数据处理函数" class="headerlink" title="数据处理函数"></a>数据处理函数</h2><p><strong>读取 矩阵文件</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#第一种方法 python 读取矩阵文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单精度是32 位，双精度是64位</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span><span class="params">(file1)</span>:</span></span><br><span class="line"></span><br><span class="line">    f =open(file1)</span><br><span class="line">    matrix=[]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line">        line =f.readline()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> line: <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        line=line.strip()</span><br><span class="line">        line =line.split(<span class="string">","</span>)</span><br><span class="line">        line =map(float, line) <span class="comment"># 这里转化成float 就是ok的</span></span><br><span class="line">        matrix.append(line)</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># matrix =numpy.array(matrix)</span></span><br><span class="line">    <span class="keyword">return</span> matrix</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种方法 基于numpy 的实现</span></span><br><span class="line"></span><br><span class="line">path =<span class="string">"text.txt"</span></span><br><span class="line">matrix =numpy.loadtxt(path)</span><br><span class="line"></span><br><span class="line">b =numpy.reshape(matrix,(<span class="number">100</span>, <span class="number">2</span>) )</span><br><span class="line">b =numpy.reshape(matrix, (<span class="number">-1</span>, <span class="number">3</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>



<p><strong>shuffle 函数</strong></p>
<p>只要是打散，都是会用到 shuffle() 这样的一个函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 纯python 实现</span><br><span class="line">index&#x3D; [i for i in range(len(train_x))]</span><br><span class="line">random.shuffle(index)</span><br><span class="line">train_x &#x3D;train_x[index]</span><br><span class="line">train_y  &#x3D;train_y[index]</span><br><span class="line"></span><br><span class="line"># 基于 numpy 实现</span><br><span class="line"></span><br><span class="line">def shuffle_data(data):</span><br><span class="line">    np.random.shuffle(data)</span><br><span class="line">    </span><br><span class="line">    return data</span><br></pre></td></tr></table></figure>

<p><strong>按照文件名进行排序</strong></p>
<p>这个是按照字典序排序的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"> </span><br><span class="line">img_path=<span class="string">'./img/'</span></span><br><span class="line"> </span><br><span class="line">img_list=sorted(os.listdir(img_path))	<span class="comment">#文件名按字母排序</span></span><br><span class="line">img_nums=len(img_list)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(img_nums):</span><br><span class="line">    img_name=img_path+img_list[i]</span><br><span class="line">    print(img_name)</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/09/15/n2rAbj.png" alt="n2rAbj.png"></p>
<p>注意下面的是按照数字进行排序的，也就是文件名。这种方法更加使用，注意在实现的时候，将 string 转换成了int 类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">img_path=<span class="string">'./img/'</span></span><br><span class="line"> </span><br><span class="line">img_list=os.listdir(img_path)</span><br><span class="line">img_list.sort()</span><br><span class="line">img_list.sort(key = <span class="keyword">lambda</span> x: int(x[:<span class="number">-4</span>])) <span class="comment">##文件名按数字排序</span></span><br><span class="line">img_nums=len(img_list)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(img_nums):</span><br><span class="line">    img_name=img_path+img_list[i]</span><br><span class="line">    print(img_name)</span><br></pre></td></tr></table></figure>


<p><a href="https://imgchr.com/i/n2ruGV" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/09/15/n2ruGV.png" alt="n2ruGV.png"></a></p>
<h2 id="库函数"><a href="#库函数" class="headerlink" title="库函数"></a>库函数</h2><p>（1）heapq<br>在python 中默认的是一个小根堆（在c++ 中默认的是一个大根堆）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">heapq.heappush(heap, item) 把item添加到heap中（heap是一个列表）</span><br><span class="line">heapq.heappop(heap) 把堆顶元素弹出，返回的就是堆顶</span><br><span class="line">heapq.heappushpop(heap, item) 先把item加入到堆中，然后再pop，比heappush()再heappop()要快得多</span><br><span class="line"># 这比较好用，不用自己维护 pushpop 操作</span><br><span class="line">heapq.nlargest(n, iterable, key&#x3D;None) 返回最大的n个元素（Top-K问题）</span><br><span class="line">heapq.nsmallest(n, iterable, key&#x3D;None) 返回最小的n个元素（Top-K问题）</span><br><span class="line"># 如果写成了这样，那么寻找最大K 个元素，瞬间就没有了意义，有没有感觉到</span><br></pre></td></tr></table></figure>

<p>（2）dictionary</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import collections</span><br><span class="line"></span><br><span class="line"># 就类似一个计数器了</span><br><span class="line">hash &#x3D;collections.defaultdict(int);</span><br></pre></td></tr></table></figure>

<p>还有一种方式，直接使用 <code>{}</code> 进行表示</p>
<p>（4）stack</p>
<p>python 中没有专门的处理栈库函数，但是栈的操作可以使用list 全部实现。所以当你在使用stack 的时候，基本上就是在使用list</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python 中的入栈</span></span><br><span class="line">stack =[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">stack.append(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">item =stack.pop() <span class="comment"># 注意这个是直接返回，stack 中不再存在</span></span><br></pre></td></tr></table></figure>

<p>（5）heap</p>
<p>python 中默认实现的是小根堆。使用库函数 <code>heapq</code> 库函数，其中 <code>heappush()</code> 和 <code>heappop()</code></p>
<p>（6）deque</p>
<p>注意python中的deque是队列的实现，使用popleft() 表示队头弹出，当使用append() 和普通的list append() 是相同的。默认实现的是双向队列，两端都是可以编辑的。</p>
<p>队列是一种基于先进先出（FIFO）策略的数据结构。在python 中常见的有三种队列：</p>
<ul>
<li>先进先出队列： 尾部进去，头部出来</li>
<li>优先队列：实现大根堆和小根堆，在python 中默认的是大根堆（貌似），按照级别进行弹出</li>
<li>双向队列： 头部和尾部都是可以弹出和弹入，可以在两段进行编辑，所以既可以用来实现stack 也可以用来实现队列<br>上述三种队列都是有<code>maxlen</code> 属性，那么就可以设置队列的长度。</li>
</ul>
<p>队列中常常使用的方法：</p>
<ul>
<li>入队 <code>q.put(item)</code></li>
<li>出队 <code>item =q.get()</code> ，从队头删除并且返回</li>
<li>返回队列的大小 <code>q.qsize()</code></li>
<li>判断是否为空 <code>q.empty()</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">name=deque([<span class="string">"jean"</span>,<span class="string">"li"</span>,<span class="string">"na"</span>])</span><br><span class="line">name.append(<span class="string">"yang"</span>)</span><br><span class="line">name.append(<span class="string">"chun"</span>)</span><br><span class="line">print(name.popleft())    <span class="comment">#不可以带参数</span></span><br><span class="line">print(name)</span><br><span class="line"> outputs:</span><br><span class="line">jean</span><br><span class="line">deque([<span class="string">'li'</span>, <span class="string">'nana'</span>, <span class="string">'yang'</span>, <span class="string">'chun'</span>])</span><br></pre></td></tr></table></figure>

<p>还有一种比较笨的实现方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">q =[]</span><br><span class="line"><span class="comment"># 这个是入队操作</span></span><br><span class="line">q.append(<span class="string">'a'</span>)</span><br><span class="line"><span class="comment"># 出队</span></span><br><span class="line"><span class="keyword">del</span> q[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>但是时间效率是不一样的， <code>deque.popleft()</code> 是$O(1)$时间复杂度, <code>del q[0]</code> 是$O(n)$ 的时间复杂度。</p>
<h2 id="python-中的数据结构Dict-和Set-类型"><a href="#python-中的数据结构Dict-和Set-类型" class="headerlink" title="python 中的数据结构Dict 和Set 类型"></a>python 中的数据结构Dict 和Set 类型</h2><p>（1） Python 中的Dict</p>
<ol>
<li>获取 Dict长度</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;</span><br><span class="line">    <span class="string">'Adam'</span>: <span class="number">95</span>,</span><br><span class="line">    <span class="string">'Lisa'</span>: <span class="number">85</span>,</span><br><span class="line">    <span class="string">'Bart'</span>: <span class="number">59</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 使用len(d) 可以获取长度</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>访问Dict中的值</li>
</ol>
<p>下面是两种访问方式</p>
<p>if 判断一下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="string">'Paul'</span> <span class="keyword">in</span> d:</span><br><span class="line">	print(d[<span class="string">'Paul'</span>])</span><br></pre></td></tr></table></figure>

<p>使用 dict 自带的 get 方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d.get(<span class="string">"Paul"</span>)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>更新Dict</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[<span class="string">'Paul'</span>] =<span class="number">20</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>遍历整个 Dict</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">	<span class="keyword">print</span> key</span><br></pre></td></tr></table></figure>
</li>
<li><p>Python中 Dict 的特点</p>
</li>
</ol>
<p>Dict 查找速度快，但是占用内存大。list占用内存小，但是查找速度慢。</p>
<p>Dict 中的key 是不能重复的，这个性质和 set 很想。</p>
<p>（2）Python 中的set</p>
<p><strong>由于 set 存储的无序集合，所以不能使用索引进行访问</strong></p>
<p>set 中存储的元素和 Dict 中的key类似，必须是不变对象。</p>
<p>判断是否存在 set 中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'Bill'</span> <span class="keyword">in</span> s</span><br></pre></td></tr></table></figure>
<p>set 的更新主要做两件事情：把新的元素放到 set 中； 把已有元素从set 中删除。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s =set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">s.add(<span class="number">4</span>)</span><br><span class="line">s.remove(<span class="number">4</span>) <span class="comment"># 如果这个时候不存在，那么会保存</span></span><br></pre></td></tr></table></figure>





<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>python 中 in 操作 在不同的数据集合中的时间复杂度<br>这个是取决于操作的数据结构：</p>
<ul>
<li>list (tuple) -average: O(N)</li>
<li>set/dict- average: O(1), worst: O(N)</li>
</ul>
<p>(如果 dictionary 所有的值都相同的话，那么时间复杂度就是 O(n))</p>
<blockquote>
<p>The O(n) worst case for sets and dicts is very uncommon, but it can happen if <strong>hash</strong> is implemented poorly. This only happens if everything in your set has the same hash value.</p>
</blockquote>
<table>
<thead>
<tr>
<th>操作</th>
<th>平均情况</th>
<th>最坏情况</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>列表  list</td>
<td>O(n)</td>
<td>O(n)</td>
<td>list 是由数组实现的</td>
</tr>
<tr>
<td>字典  dict</td>
<td>O(1)</td>
<td>O(n)</td>
<td></td>
</tr>
<tr>
<td>集合 set</td>
<td>O(1)</td>
<td>O(n)</td>
<td>内部实现和 dict 很像</td>
</tr>
</tbody></table>
<p>python 中表示最大和最小的数字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">sys.maxsize #如果是整型</span><br><span class="line">float(‘inf’) # 如果是浮点型</span><br></pre></td></tr></table></figure>


<p>python 中 <code>string</code>的切片的时间复杂度，因为python 中<code>string</code>是不可变的，所以切片操作基本上是通过复制完成的，所以时间复杂度一般是 $O(n)$，复制的时候需要申请一个临时的空间，所以空间复杂度基本上也稳定在 $O(n)$。常见的切片操作有三种：</p>
<ul>
<li>str[:] 完全复制，返回的是exact same 的 copy，前后两个变量没有什么关系了</li>
<li>str[1:1]，  mystr[1:1] is mystr[2:2] is ‘’ 是一个空的对象</li>
<li>str[a: b] 其中 $a&lt; b$，最常见的切片复制, make a copy</li>
<li>[::-1] reverse的操作</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/05/cpp/" rel="next" title="C++ 编程语言">
                <i class="fa fa-chevron-left"></i> C++ 编程语言
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/17/%E5%89%91%E6%8C%87offer-%E5%85%B6%E4%BB%96/" rel="prev" title="剑指offer-其他(1)">
                剑指offer-其他(1) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpeg"
                alt="Jijeng Jia" />
            
              <p class="site-author-name" itemprop="name">Jijeng Jia</p>
              <p class="site-description motion-element" itemprop="description">Solving Problems by Coding</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">168</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">83</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/jijeng" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:jia1509309698@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          <script type="text/javascript" src="//rf.revolvermaps.com/0/0/5.js?i=5kk0u0mm50w&amp;m=0&amp;c=54ff00&amp;cr1=ff0000" async="async"></script>


        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Basic-Skills"><span class="nav-number">1.</span> <span class="nav-text">Basic Skills</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#module"><span class="nav-number">1.1.</span> <span class="nav-text">module###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#packages"><span class="nav-number">1.2.</span> <span class="nav-text">packages###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python-path"><span class="nav-number">1.3.</span> <span class="nav-text">python-path###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while-or-for"><span class="nav-number">1.4.</span> <span class="nav-text">while or for###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#break-continue-or-pass"><span class="nav-number">1.5.</span> <span class="nav-text">break, continue, or pass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yield-or-return"><span class="nav-number">1.6.</span> <span class="nav-text">yield or return###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#recursion"><span class="nav-number">1.7.</span> <span class="nav-text">recursion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list-tuples-or-dictionary"><span class="nav-number">1.8.</span> <span class="nav-text">list, tuples, or dictionary###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterators"><span class="nav-number">1.9.</span> <span class="nav-text">Iterators###</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shallow-vs-deep-copy"><span class="nav-number">2.</span> <span class="nav-text">shallow vs deep copy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#object-oriented-design"><span class="nav-number">2.1.</span> <span class="nav-text">object oriented design###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#garbage-collection"><span class="nav-number">2.2.</span> <span class="nav-text">garbage collection###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#try…catch"><span class="nav-number">2.3.</span> <span class="nav-text">try…catch###</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内置函数中的-all-和-any"><span class="nav-number">2.4.</span> <span class="nav-text">内置函数中的 all() 和 any()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sort-sorted-函数"><span class="nav-number">2.5.</span> <span class="nav-text">sort() sorted() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#python-operators"><span class="nav-number">3.</span> <span class="nav-text">python operators</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Working-with-files"><span class="nav-number">4.</span> <span class="nav-text">Working with files</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#输入和输出函数"><span class="nav-number">5.</span> <span class="nav-text">输入和输出函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#输入函数"><span class="nav-number">5.1.</span> <span class="nav-text">输入函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String-Formatting-Syntax"><span class="nav-number">5.2.</span> <span class="nav-text">String Formatting Syntax</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象-for-python"><span class="nav-number">6.</span> <span class="nav-text">面向对象 (for python)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#python-中的三类方法"><span class="nav-number">6.1.</span> <span class="nav-text">python 中的三类方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python-中的单例-多例模式"><span class="nav-number">6.2.</span> <span class="nav-text">python 中的单例&#x2F; 多例模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据处理函数"><span class="nav-number">7.</span> <span class="nav-text">数据处理函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#库函数"><span class="nav-number">8.</span> <span class="nav-text">库函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#python-中的数据结构Dict-和Set-类型"><span class="nav-number">9.</span> <span class="nav-text">python 中的数据结构Dict 和Set 类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他"><span class="nav-number">10.</span> <span class="nav-text">其他</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jijeng Jia</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>

<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
Total  <span id="busuanzi_value_site_pv"></span> views
You got  <span id="busuanzi_value_site_uv"></span> visitors
</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://https-jijeng-github-io.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://yoursite.com/2019/01/09/python-for-beginners/';
          this.page.identifier = '2019/01/09/python-for-beginners/';
          this.page.title = 'Python from Beginner to Master';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://https-jijeng-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  















  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('10');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
