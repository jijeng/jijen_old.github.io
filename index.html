<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Stay Hungry, Stay Foolish">
<meta property="og:type" content="website">
<meta property="og:title" content="Jijeng&#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Jijeng&#39;s blog">
<meta property="og:description" content="Stay Hungry, Stay Foolish">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jijeng&#39;s blog">
<meta name="twitter:description" content="Stay Hungry, Stay Foolish">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Jijeng's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jijeng's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/27/paper-reading-nlp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/27/paper-reading-nlp/" itemprop="url">NLP Papers Reading</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-27T14:13:14+08:00">
                2019-05-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NLP/" itemprop="url" rel="index">
                    <span itemprop="name">NLP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/27/paper-reading-nlp/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/27/paper-reading-nlp/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>nlp è®ºæ–‡é˜…è¯»ç¬”è®°, éšæ—¶ updateâ€¦</p>
<h2 id="attention-is-all-you-need"><a href="#attention-is-all-you-need" class="headerlink" title="attention is all you need"></a>attention is all you need</h2><p>Self-attention, sometimes called intra-attention is an attention mechanism relating different positions of a single sequence in order to compute a representation of the sequence.</p>
<p>An attention function can be described as mapping a query and a set of key-value pairs to an output, where the query, keys, values, and output are all vectors. The ouput is computed as a weighted sum of the values, where the weight assigned to each value is computed cy a compatibility function of the query with the corresponding key.</p>
<p>ä¸­æ–‡çš„ç†è§£ï¼š<br>æ·±åº¦å­¦ä¹ é‡Œçš„Attentionmodelå…¶å®æ¨¡æ‹Ÿçš„æ˜¯äººè„‘çš„æ³¨æ„åŠ›æ¨¡å‹ï¼Œä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œå½“æˆ‘ä»¬è§‚èµä¸€å¹…ç”»æ—¶ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•´å¹…ç”»çš„å…¨è²Œï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬æ·±å…¥ä»”ç»†åœ°è§‚å¯Ÿæ—¶ï¼Œå…¶å®çœ¼ç›èšç„¦çš„å°±åªæœ‰å¾ˆå°çš„ä¸€å—ï¼Œè¿™ä¸ªæ—¶å€™äººçš„å¤§è„‘ä¸»è¦å…³æ³¨åœ¨è¿™ä¸€å°å—å›¾æ¡ˆä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ—¶å€™äººè„‘å¯¹æ•´å¹…å›¾çš„å…³æ³¨å¹¶ä¸æ˜¯å‡è¡¡çš„ï¼Œæ˜¯æœ‰ä¸€å®šçš„æƒé‡åŒºåˆ†çš„ã€‚è¿™å°±æ˜¯æ·±åº¦å­¦ä¹ é‡Œçš„AttentionModelçš„æ ¸å¿ƒæ€æƒ³ã€‚æ‰€è°“æ³¨æ„åŠ›æœºåˆ¶ï¼Œå°±æ˜¯è¯´åœ¨ç”Ÿæˆæ¯ä¸ªè¯çš„æ—¶å€™ï¼Œå¯¹ä¸åŒçš„è¾“å…¥è¯ç»™äºˆä¸åŒçš„å…³æ³¨æƒé‡ã€‚é€šè¿‡æ³¨æ„åŠ›æœºåˆ¶ï¼Œæˆ‘ä»¬å°†è¾“å…¥å¥å­ç¼–ç ä¸ºä¸€ä¸ªå‘é‡åºåˆ—ï¼Œå¹¶è‡ªé€‚åº”åœ°é€‰æ‹©è¿™äº›å‘é‡çš„ä¸€ä¸ªå­é›†ï¼ŒåŒæ—¶å¯¹è¯‘æ–‡è¿›è¡Œè¯‘ç ï¼Œä¾‹å¦‚where are youâ€”â€”&gt;ä½ åœ¨å“ªï¼Ÿç°åœ¨æˆ‘ä»¬åœ¨ç¿»è¯‘â€œä½ â€çš„æ—¶å€™ç»™â€youâ€æ›´å¤šçš„æƒé‡ï¼Œé‚£ä¹ˆå°±å¯ä»¥æœ‰æ•ˆçš„è§£å†³å¯¹é½é—®é¢˜ã€‚</p>
<p>Background:</p>
<p>ä¸»è¦æ˜¯é¢ä¸´çš„ä¸‰ä¸ªé—®é¢˜ã€‚<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3env74i1dj20rs0f8dge.jpg" alt=""></p>
<p>Model:<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3enz4w1tmj21bu0r0q6v.jpg" alt=""></p>
<p>Encoder: encoderç”±6ä¸ªç›¸åŒçš„å±‚å †å è€Œæˆï¼Œæ¯ä¸ªå±‚æœ‰ä¸¤ä¸ªå­å±‚ã€‚ç¬¬ä¸€ä¸ªå­å±‚æ˜¯å¤šå¤´è‡ªæˆ‘æ³¨æ„åŠ›æœºåˆ¶(multi-head self-attention mechanism)ï¼Œç¬¬äºŒå±‚æ˜¯ç®€å•çš„ä½ç½®çš„å…¨è¿æ¥å‰é¦ˆç½‘ç»œ(position-wise fully connected feed-forward network)ã€‚åœ¨ä¸¤ä¸ªå­å±‚ä¸­ä¼šä½¿ç”¨ä¸€ä¸ªæ®‹å·®è¿æ¥ï¼Œæ¥ç€è¿›è¡Œå±‚æ ‡å‡†åŒ–(layer normalization)ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªå­å±‚çš„è¾“å‡ºéƒ½æ˜¯LayerNorm(x + sublayer(x))ã€‚ç½‘ç»œè¾“å…¥æ˜¯ä¸‰ä¸ªç›¸åŒçš„å‘é‡q, kå’Œvï¼Œæ˜¯word embeddingå’Œposition embeddingç›¸åŠ å¾—åˆ°çš„ç»“æœã€‚ä¸ºäº†æ–¹ä¾¿è¿›è¡Œæ®‹å·®è¿æ¥ï¼Œæˆ‘ä»¬éœ€è¦å­å±‚çš„è¾“å‡ºå’Œè¾“å…¥éƒ½æ˜¯ç›¸åŒçš„ç»´åº¦ã€‚</p>
<p>Decoder: decoderä¹Ÿæ˜¯ç”±Nï¼ˆN=6ï¼‰ä¸ªå®Œå…¨ç›¸åŒçš„Layerç»„æˆï¼Œdecoderä¸­çš„Layerç”±encoderçš„Layerä¸­æ’å…¥ä¸€ä¸ªMulti-Head Attention + Add&amp;Normç»„æˆã€‚è¾“å‡ºçš„embeddingä¸è¾“å‡ºçš„position embeddingæ±‚å’Œåšä¸ºdecoderçš„è¾“å…¥ï¼Œç»è¿‡ä¸€ä¸ªMulti-HeadAttention + Add&amp;Normï¼ˆï¼ˆMA-1ï¼‰å±‚ï¼ŒMA-1å±‚çš„è¾“å‡ºåšä¸ºä¸‹ä¸€Multi-Head Attention + Add&amp;Normï¼ˆMA-2ï¼‰çš„queryï¼ˆQï¼‰è¾“å…¥ï¼ŒMA-2å±‚çš„Keyå’ŒValueè¾“å…¥ï¼ˆä»å›¾ä¸­çœ‹ï¼Œåº”è¯¥æ˜¯encoderä¸­ç¬¬iï¼ˆi = 1,2,3,4,5,6ï¼‰å±‚çš„è¾“å‡ºå¯¹äºdecoderä¸­ç¬¬iï¼ˆi = 1,2,3,4ï¼Œ5,6ï¼‰å±‚çš„è¾“å…¥ï¼‰ã€‚MA-2å±‚çš„è¾“å‡ºè¾“å…¥åˆ°ä¸€ä¸ªå‰é¦ˆå±‚ï¼ˆFFï¼‰ï¼Œç»è¿‡ANæ“ä½œåï¼Œç»è¿‡ä¸€ä¸ªçº¿æ€§+softmaxå˜æ¢å¾—åˆ°æœ€åç›®æ ‡è¾“å‡ºçš„æ¦‚ç‡ã€‚<br> å¯¹äºdecoderä¸­çš„ç¬¬ä¸€ä¸ªå¤šå¤´æ³¨æ„åŠ›å­å±‚ï¼Œéœ€è¦æ·»åŠ maskingï¼Œç¡®ä¿é¢„æµ‹ä½ç½®içš„æ—¶å€™ä»…ä»…ä¾èµ–äºä½ç½®å°äºiçš„è¾“å‡ºã€‚<br> å±‚ä¸å±‚ä¹‹é—´ä½¿ç”¨çš„Position-wise feed forward networkã€‚</p>
<p> ä»æ•´ä½“ä¸Šæ¥çœ‹ï¼ŒTransformerä¾æ—§æ˜¯ä¸€ä¸ªâ€œSequence to Sequenceâ€æ¡†æ¶ï¼Œæ‹¥æœ‰Encoderå’ŒDecoderä¸¤éƒ¨åˆ†ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3eo6o8obxj20l00d6wee.jpg" alt=""></p>
<p>Transformerçš„Encoderå…¶å®æœ‰6å±‚ï¼ŒDecoderä¹Ÿæœ‰6å±‚ï¼Œä»Encoderçš„è§’åº¦ï¼Œä½å±‚çš„Encoderæ˜¯è¡¨å±‚çš„è¯æ³•ä¿¡æ¯ï¼Œé€æ­¥å‘ä¸Šè¿›è¡ŒæŠ½è±¡ä¹‹åï¼Œåœ¨ä¸Šå±‚å°†è¡¨ç¤ºæŠ½è±¡è¯­ä¹‰ä¿¡æ¯ã€‚Encoderéƒ¨åˆ†è¿˜åœ¨æœ€ä¸Šå±‚è¿äº†å‡ æ¡çº¿åˆ°æ¯ä¸ªDecoderçš„éƒ¨åˆ†ï¼Œè¿™æ˜¯ä¸ºäº†åœ¨Decoderä¸­è¿›è¡ŒAttentionæ“ä½œï¼ŒDecoderçš„ç½‘ç»œä¸­å’ŒEncoderä¹Ÿæœ‰ä¿¡æ¯ä¼ é€’å’Œäº¤äº’çš„ã€‚æœ€åä¸€ä¸ªç‰¹ç‚¹æ˜¯Decoderå’ŒEncoderç”»çš„å¤§å°æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºå®ƒä»¬å±‚çš„ç»´åº¦å¤§å°æ˜¯ä¸€æ ·çš„ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3eo7eiu73j20rs0i342d.jpg" alt=""></p>
<p>ä¹Ÿå°±æ˜¯è¯´encoderçš„è¾“å‡ºï¼Œä¼šå’Œæ¯ä¸€å±‚çš„decoderè¿›è¡Œç»“åˆã€‚<br>Encoderå’ŒDecoderçš„å†…éƒ¨ç»“æ„ï¼š<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3enq6lqouj20uq0eoq4u.jpg" alt=""></p>
<p>æ¨¡å‹çš„ç‰¹ç‚¹ï¼š<br>Positional embeddingï¼›ï¼ˆä½ç½®åµŒå…¥å‘é‡â€”â€”å…¶å®ç±»ä¼¼word2vecï¼Œå¤„ç†çš„è¯­åºçš„ä¿¡æ¯ï¼‰ã€‚<br>multi-head attention; (å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶â€”â€”ç‚¹ä¹˜æ³¨æ„åŠ›çš„å‡çº§ç‰ˆæœ¬ï¼Œ è¿™ä¸ªå°±ç±»ä¼¼ensembleçš„æ€æƒ³ï¼Œä¸åŒçš„å­ç©ºé—´çš„attention è¿›è¡Œèåˆï¼‰<br>Position-wise Feed-Forward Networksï¼ˆä½ç½®å…¨é“¾æ¥å‰é¦ˆç½‘ç»œâ€”â€”MLPå˜å½¢ï¼‰</p>
<p>æœ‰ä¸¤ç§å¸¸ç”¨çš„æ³¨æ„åŠ›å‡½æ•°ï¼Œä¸€ç§æ˜¯åŠ æ³•æ³¨æ„åŠ›(additive attention)ï¼Œå¦å¤–ä¸€ç§æ˜¯ç‚¹ä¹˜æ³¨æ„åŠ›(dot-productattention)ï¼Œè®ºæ–‡æ‰€é‡‡ç”¨çš„å°±æ˜¯ç‚¹ä¹˜æ³¨æ„åŠ›ï¼Œè¿™ç§æ³¨æ„åŠ›æœºåˆ¶å¯¹äºåŠ æ³•æ³¨æ„åŠ›è€Œè¨€ï¼Œæ›´å¿«ï¼ŒåŒæ—¶æ›´èŠ‚çœç©ºé—´ã€‚</p>
<p>åŠ æ³•æ³¨æ„åŠ›<br>è¿˜æ˜¯ä»¥ä¼ ç»Ÿçš„RNNçš„seq2seqé—®é¢˜ä¸ºä¾‹å­ï¼ŒåŠ æ€§æ³¨æ„åŠ›æ˜¯æœ€ç»å…¸çš„æ³¨æ„åŠ›æœºåˆ¶ï¼Œå®ƒä½¿ç”¨äº†æœ‰ä¸€ä¸ªéšè—å±‚çš„å‰é¦ˆç½‘ç»œï¼ˆå…¨è¿æ¥ï¼‰æ¥è®¡ç®—æ³¨æ„åŠ›åˆ†é…ï¼š<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3ep38emyqj20bl03o3zj.jpg" alt=""></p>
<p>å…¬å¼:<br>$$<br>\alpha _ { i j } = \frac { \exp \left( e _ { i j } \right) } { \sum _ { k = 1 } ^ { L } e _ { i k } }<br>$$</p>
<p>Scaled Dot-Product<br>è¿™ç¯‡è®ºæ–‡è®¡ç®—queryå’Œkeyç›¸ä¼¼åº¦ä½¿ç”¨äº†dot-product attentionï¼Œå³queryå’Œkeyè¿›è¡Œç‚¹ä¹˜ï¼ˆå†…ç§¯ï¼‰æ¥è®¡ç®—ç›¸ä¼¼åº¦ã€‚<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3ftfz3uxij206e088aa2.jpg" alt=""></p>
<p>Multi-Head Attention:</p>
<p>åœ¨å®é™…ä¸­ä¸ºäº†å¹¶è¡Œè®¡ç®—ï¼Œå¯ä»¥åœ¨ä¸€ç»„queriesä¸Šè®¡ç®—æ³¨æ„åŠ›å‡½æ•°ï¼Œå°†å¤šä¸ªqueryå †å æˆQï¼ŒåŒç†keyså’Œvaluesä¹Ÿè¢«å †å æˆKå’ŒVï¼Œé€šè¿‡ä¸‹é¢çš„å…¬å¼æ¥è®¡ç®—çŸ©é˜µè¾“å‡º:<br>self-attention æ¨¡å‹å°±æ˜¯è‡ªå·±å¯¹è‡ªå·±æ±‚attentionï¼Œå³ğ‘„=ğ¾=ğ‘‰<br>$$<br>\text { Attention } ( Q , K , V ) = \operatorname { softmax } \left( \frac { Q K ^ { T } } { \sqrt { d _ { k } } } \right) V<br>$$<br>ä¹‹æ‰€ä»¥ç”¨å†…ç§¯é™¤ä»¥ç»´åº¦çš„å¼€æ–¹ï¼Œè®ºæ–‡ç»™å‡ºçš„è§£é‡Šæ˜¯ï¼šå‡è®¾Qå’ŒKéƒ½æ˜¯ç‹¬ç«‹çš„éšæœºå˜é‡ï¼Œæ»¡è¶³å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1ï¼Œåˆ™ç‚¹ä¹˜åç»“æœå‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸ºdkã€‚ä¹Ÿå³æ–¹å·®ä¼šéšç»´åº¦dkçš„å¢å¤§è€Œå¢å¤§ï¼Œè€Œå¤§çš„æ–¹å·®å¯¼è‡´æå°çš„æ¢¯åº¦(æˆ‘è®¤ä¸ºå¤§æ–¹å·®å¯¼è‡´æœ‰çš„è¾“å‡ºå•å…ƒaï¼ˆaæ˜¯softmaxçš„ä¸€ä¸ªè¾“å‡ºï¼‰å¾ˆå°ï¼Œsoftmaxåå‘ä¼ æ’­æ¢¯åº¦å°±å¾ˆå°ï¼ˆæ¢¯åº¦å’Œaæœ‰å…³ï¼‰ï¼‰ã€‚ä¸ºäº†é¿å…è¿™ç§å¤§æ–¹å·®å¸¦æ¥çš„è®­ç»ƒé—®é¢˜ï¼Œè®ºæ–‡ä¸­ç”¨å†…ç§¯é™¤ä»¥ç»´åº¦çš„å¼€æ–¹ï¼Œä½¿ä¹‹å˜ä¸ºå‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1ã€‚</p>
<p>é™¤äº†è®¡ç®—ä¸€ä¸ªå•ç‹¬çš„æ³¨æ„åŠ›å‡½æ•°ï¼Œè®ºæ–‡æå‡ºå¯¹queriesï¼Œkeyså’Œvaluesåšhæ¬¡ä¸åŒçš„æŠ•å½±, ç„¶åéƒ½ç»è¿‡Scaled Dot-Product Attentionï¼Œå°†ç»“æœæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªçº¿æ€§æ˜ å°„è¾“å‡ºï¼Œé€šè¿‡å¤šå¤´æ³¨æ„åŠ›ï¼Œæ¨¡å‹èƒ½å¤Ÿè·å¾—ä¸åŒå­ç©ºé—´ä¸‹çš„ä½ç½®ä¿¡æ¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…¬å¼å¦‚ä¸‹:<br>$$<br>\text {MultiHead} ( Q , K , V ) =Concat(head_1, head_2, â€¦, head_h)  W ^ { o }$$</p>
<p>Self-Attention<br>é‚£ä¹ˆé¦–å…ˆè¦æ˜ç™½ä»€ä¹ˆæ˜¯Attentionã€‚ä»è¯­è¨€å­¦çš„è§’åº¦ï¼Œå®ƒæ˜¯è¡¨ç¤ºè¯ä¸è¯ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œåƒä¸‹å›¾æ‰€ç¤ºï¼Œè¿™æ˜¯ä¸€ä¸ªSelf-Attentionçš„ç¤ºæ„ï¼Œå®ƒè¿™ä¸ªitä¼šå’Œå…¶ä»–ä½ç½®çš„è¯å‘ç”Ÿå…³ç³»ï¼Œé¢œè‰²è¶Šæ·±çš„æ˜¯è¯´å…³ç³»è¶Šç´§å¯†ï¼Œä»ä¸­å›¾ä¸­çœ‹åˆ°å®ƒå¾ˆæ­£ç¡®çš„å…³è”åˆ°äº†animalå®ƒå®é™…æŒ‡ä»£çš„ä¸€ä¸ªè¯ã€‚<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3eobewbqoj20c50bhq4y.jpg" alt=""><br>ä»æœºå™¨å­¦ä¹ çš„è§’åº¦ï¼Œè¿™ä¸ªAttentionæ˜¯ç¥ç»ç½‘ç»œéšå±‚ä¹‹é—´ä¸€ä¸ªç›¸ä¼¼åº¦çš„è¡¨ç¤ºï¼Œä»€ä¹ˆæ˜¯Self-Attentionï¼Ÿå°±æ˜¯è¡¨ç¤ºå¥å­å†…éƒ¨è¯ä¸è¯ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå°±åƒè¿™é‡Œçš„itåˆ°animalï¼Œå¯ä»¥ç”¨äºæŒ‡ä»£æ¶ˆè§£ç­‰é—®é¢˜ã€‚</p>
<p>Positional Encoding<br>Position Embeddingï¼Œä¹Ÿå°±æ˜¯â€œä½ç½®å‘é‡â€ï¼Œå°†æ¯ä¸ªä½ç½®ç¼–å·ï¼Œç„¶åæ¯ä¸ªç¼–å·å¯¹åº”ä¸€ä¸ªå‘é‡ï¼Œé€šè¿‡ç»“åˆä½ç½®å‘é‡å’Œè¯å‘é‡ï¼Œå°±ç»™æ¯ä¸ªè¯éƒ½å¼•å…¥äº†ä¸€å®šçš„ä½ç½®ä¿¡æ¯ï¼Œè¿™æ ·Attentionå°±å¯ä»¥åˆ†è¾¨å‡ºä¸åŒä½ç½®çš„è¯äº†ã€‚</p>
<p>Residual connectionå’Œlayer-normalization<br>ï¼ˆè¿™ä¸¤ä¸ªæ“ä½œä¸»è¦æ˜¯åº”å¯¹ æ·±åº¦ç½‘ç»œè€Œæå‡ºçš„ï¼‰<br>å¯¹äºå­¦ä¹ CVçš„äººä¼°è®¡å¯¹è¿™ä¸ªç»“æ„ä¸€ç‚¹ä¹Ÿä¸é™Œç”Ÿï¼ŒResidual connectionæ˜¯å¯¹äºè¾ƒä¸ºæ·±å±‚çš„ç¥ç»ç½‘ç»œæœ‰æ¯”è¾ƒå¥½çš„ä½œç”¨ï¼Œæ¯”å¦‚ç½‘ç»œå±‚å¾ˆæ·±æ—¶ï¼Œæ•°å€¼çš„ä¼ æ’­éšç€weightä¸æ–­çš„å‡å¼±ï¼ŒResidual connectionæ˜¯ä»è¾“å…¥çš„éƒ¨åˆ†ï¼Œå°±æ˜¯å›¾ä¸­è™šçº¿çš„éƒ¨åˆ†ï¼Œå®é™…è¿åˆ°å®ƒè¾“å‡ºå±‚çš„éƒ¨åˆ†ï¼ŒæŠŠè¾“å…¥çš„ä¿¡æ¯åŸå°ä¸åŠ¨copyåˆ°è¾“å‡ºçš„éƒ¨åˆ†ï¼Œå‡å°‘ä¿¡æ¯çš„æŸå¤±ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3eof674adj20ii0dfgoe.jpg" alt=""><br>layer-normalizationè¿™ç§å½’ä¸€åŒ–å±‚æ˜¯ä¸ºäº†é˜²æ­¢åœ¨æŸäº›å±‚ä¸­ç”±äºæŸäº›ä½ç½®è¿‡å¤§æˆ–è€…è¿‡å°å¯¼è‡´æ•°å€¼è¿‡å¤§æˆ–è¿‡å°ï¼Œå¯¹ç¥ç»ç½‘ç»œæ¢¯åº¦å›ä¼ æ—¶æœ‰è®­ç»ƒçš„é—®é¢˜ï¼Œä¿è¯è®­ç»ƒçš„ç¨³å®šæ€§ï¼Œè¿™æ˜¯ç¥ç»ç½‘ç»œè®¾è®¡æ¯”è¾ƒå¸¸ç”¨çš„caseã€‚</p>
<p>ç»“è®ºï¼š<br>self-attentionå±‚çš„å¥½å¤„æ˜¯èƒ½å¤Ÿä¸€æ­¥åˆ°ä½æ•æ‰åˆ°å…¨å±€çš„è”ç³»ï¼Œè§£å†³äº†é•¿è·ç¦»ä¾èµ–ï¼Œå› ä¸ºå®ƒç›´æ¥æŠŠåºåˆ—ä¸¤ä¸¤æ¯”è¾ƒï¼ˆä»£ä»·æ˜¯è®¡ç®—é‡å˜ä¸º O(n2)ï¼Œå½“ç„¶ç”±äºæ˜¯çº¯çŸ©é˜µè¿ç®—ï¼Œè¿™ä¸ªè®¡ç®—é‡ç›¸å½“ä¹Ÿä¸æ˜¯å¾ˆä¸¥é‡ï¼‰ï¼Œè€Œä¸”æœ€é‡è¦çš„æ˜¯å¯ä»¥è¿›è¡Œå¹¶è¡Œè®¡ç®—ã€‚<br>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒRNN éœ€è¦ä¸€æ­¥æ­¥é€’æ¨æ‰èƒ½æ•æ‰åˆ°ï¼Œå¹¶ä¸”å¯¹äºé•¿è·ç¦»ä¾èµ–å¾ˆéš¾æ•æ‰ã€‚è€Œ CNN åˆ™éœ€è¦é€šè¿‡å±‚å æ¥æ‰©å¤§æ„Ÿå—é‡ï¼Œè¿™æ˜¯ Attention å±‚çš„æ˜æ˜¾ä¼˜åŠ¿ã€‚</p>
<h2 id="A-simple-but-tough-to-beat-baseline-for-sentence-embeddings"><a href="#A-simple-but-tough-to-beat-baseline-for-sentence-embeddings" class="headerlink" title="A simple but tough-to-beat baseline for sentence embeddings"></a>A simple but tough-to-beat baseline for sentence embeddings</h2><p>è¿™ç§motivation è¿˜æ˜¯å¾ˆå€¼å¾—å¥½å¥½çœ‹çš„ï¼ŒéªŒè¯è®ºæ–‡çš„å¥½åæ˜¯å¯ä»¥é€šè¿‡çœ‹æœ€åçš„æ•ˆæœ/ ç»“æœæ˜¯å¦æŒ‰ç…§ motivation é‚£æ ·çš„ã€‚  â€œrelative weightsâ€ æ˜¯é’ˆå¯¹ word2vec ä¸­çš„æ•ˆæœæ”¹è¿›çš„ï¼Œä»motivation çš„è§’åº¦æ²¡æœ‰è€ƒè™‘åˆ° melo or BERT ä¸­çš„ context . å½“ç„¶è®ºæ–‡çš„åˆ›æ–°ç‚¹åœ¨äº æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œå½“åˆ«äººéƒ½åœ¨è½¬å‘æœ‰ç›‘ç£å’Œå¤šä»»åŠ¡çš„æ—¶å€™ï¼Œåœ¨ç¼©çŸ­è¿è¡Œæ—¶é—´çš„åŒæ—¶ï¼Œæœ€åçš„æ•ˆæœå’Œç¥ç»ç½‘ç»œæ——é¼“ç›¸å½“ã€‚</p>
<p>Taking the average of the word embeddings in a sentence tends to give too much weight to words that are quite irrelevant, semantically speaking. Smooth Inverse Frequency tries to solve this problem in two ways:</p>
<ul>
<li>Weighting: like our tf-idf baseline above, SIF takes the weighted average of the word embeddings in the sentence. Every word embedding is weighted by a/(a + p(w)), where a is a parameter that is typically set to 0.001 and p(w) is the estimated frequency of the word in a reference corpus.</li>
<li>Common component removal: next, SIF computes the principal component of the resulting embeddings for a set of sentences. It then subtracts from these sentence embeddings their projections on their first principal component. This should remove variation related to frequency and syntax that is less relevant semantically.<br>As a result, SIF downgrades unimportant words such as but, just, etc., and keeps the information that contributes most to the semantics of the sentence.</li>
</ul>
<p>æœ¬æ–‡æ˜¯ç”¨æ— ç›‘ç£æ–¹æ³•åšå¥å­çº§åˆ«çš„ embeddingï¼Œç”¨çš„æ˜¯ä¸€ä¸ªååˆ†ç®€å•ä½†å´åˆå¾ˆæœ‰æ•ˆçš„ä¼ ç»Ÿæ–¹æ³•ï¼Œè¿™åœ¨ç¥ç»ç½‘ç»œæ³›æ»¥çš„å¹´ä»£ç®—æ˜¯ä¸€è‚¡æ¸…æµäº†ã€‚<br>è¿™å¼ å›¾ä¸Šçš„ä¿¡æ¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ‰€ä»¥å¥½å¥½å½’çº³æ•´ç†ä¸€ä¸‹ã€‚<br>å°½ç®¡é•¿æœŸä»¥æ¥å¥å­çš„æ— ç›‘ç£è¡¨ç¤ºå­¦ä¹ æ˜¯ä¸»æµï¼Œæœ€è¿‘å‡ ä¸ªæœˆï¼ˆ2017å¹´æœ«/2018å¹´åˆï¼‰ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†è®¸å¤šéå¸¸æœ‰è¶£çš„å·¥ä½œï¼Œæ˜¾ç¤ºäº†å‘ç›‘ç£å­¦ä¹ å’Œå¤šä»»åŠ¡å­¦ä¹ è½¬å‘çš„è¶‹åŠ¿ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3dvg2o3wwj20qo0grdgp.jpg" alt=""></p>
<ul>
<li>å¼ºåŠ›/è¿…é€Ÿçš„åŸºçº¿ï¼šFastTextã€è¯è¢‹ï¼ˆBag-of-Wordsï¼‰</li>
<li>å½“å‰æœ€å…ˆè¿›æ¨¡å‹ï¼šELMoã€Skip-Thoughtsã€Quick-Thoughtsã€ InferSentã€MILA/MSRçš„General Purpose Sentence Representationsã€Googleçš„Universal Sentence Encoder</li>
</ul>
<p>å…³äºnlp ä¸­çš„word embedding æ˜¯å¯ä»¥æœ‰ phrases, sentences, and paragraphs ä¸‰ä¸ªä¸åŒç±»åˆ«çš„ embeddingï¼Œæ‰€ä»¥è¿˜æ˜¯æŒºå¥½çš„ã€‚</p>
<p>è¿‘äº”å¹´æ¥æå‡ºäº†å¤§é‡è¯åµŒå…¥æ–¹æ³•ã€‚å…¶ä¸­æœ€å¸¸ç”¨çš„æ¨¡å‹æ˜¯word2vecå’ŒGloVeï¼Œè¿™ä¸¤ä¸ªæ¨¡å‹éƒ½æ˜¯åŸºäºåˆ†å¸ƒå‡è¯´ï¼ˆdistributional hypothesisï¼‰çš„æ— ç›‘ç£æ–¹æ³•ã€‚ï¼ˆæ ¹æ®åˆ†å¸ƒå‡è¯´ï¼Œå‡ºç°åœ¨ç›¸åŒä¸Šä¸‹æ–‡ä¸­çš„å•è¯å€¾å‘äºå…·æœ‰ç›¸ä¼¼çš„å«ä¹‰ï¼‰ã€‚<br>å°½ç®¡æœ‰ä¸€äº›å·¥ä½œé€šè¿‡å¹¶å…¥è¯­ä¹‰æˆ–è¯­æ³•çŸ¥è¯†ç­‰å¢å¼ºè¿™äº›æ— ç›‘ç£æ–¹æ³•ï¼Œçº¯æ— ç›‘ç£æ–¹æ³•åœ¨2017-2018å¹´æœŸé—´å–å¾—äº†æœ‰è¶£çš„è¿›å±•ï¼Œå…¶ä¸­æœ€é‡å¤§çš„æ˜¯FastTextï¼ˆword2vecçš„æ‰©å±•ï¼‰å’ŒELMoï¼ˆå½“å‰æœ€å…ˆè¿›çš„ä¸Šä¸‹æ–‡è¯å‘é‡ï¼‰ã€‚</p>
<p>åœ¨ELMoä¸­ï¼ŒåµŒå…¥åŸºäºä¸€ä¸ªåŒå±‚çš„åŒå‘è¯­è¨€æ¨¡å‹ï¼ˆbiLMï¼‰çš„å†…éƒ¨çŠ¶æ€è®¡ç®—ï¼ŒELMoä¹Ÿæ˜¯å› æ­¤å¾—åçš„ï¼šEmbeddings from Language Modelsï¼ˆæ¥è‡ªè¯­è¨€æ¨¡å‹çš„åµŒå…¥ï¼‰ã€‚<br>ELMoçš„ç‰¹æ€§ï¼š<br>ELMoçš„è¾“å…¥æ˜¯å­—ç¬¦è€Œä¸æ˜¯å•è¯ã€‚è¿™ä½¿å¾—å®ƒå¯ä»¥åˆ©ç”¨å­å­—ï¼ˆsub-wordï¼‰å•å…ƒä¸ºè¯æ±‡è¡¨ä»¥å¤–çš„å•è¯è®¡ç®—æœ‰æ„ä¹‰çš„è¡¨ç¤ºï¼ˆå’ŒFastTextç±»ä¼¼ï¼‰ã€‚<br>ELMoæ˜¯biLMçš„å¤šå±‚æ¿€æ´»çš„è¿æ¥ï¼ˆconcatenationï¼‰ã€‚è¯­è¨€æ¨¡å‹çš„ä¸åŒå±‚ç¼–ç äº†å•è¯çš„ä¸åŒä¿¡æ¯ã€‚è¿æ¥æ‰€æœ‰å±‚ä½¿å¾—ELMoå¯ä»¥ç»„åˆå¤šç§è¯è¡¨ç¤ºï¼Œä»¥æå‡ä¸‹æ¸¸ä»»åŠ¡çš„è¡¨ç°ã€‚</p>
<p>æ™®é€‚å¥åµŒå…¥<br>è¯è¢‹æ–¹æ³•<br>è¿™ä¸€é¢†åŸŸçš„ä¸€èˆ¬å…±è¯†æ˜¯ï¼Œç›´æ¥å¹³å‡ä¸€ä¸ªå¥å­çš„è¯å‘é‡è¿™ä¸€ç®€å•æ–¹æ³•ï¼ˆæ‰€è°“è¯è¢‹æ–¹æ³•ï¼‰ï¼Œä¸ºè®¸å¤šä¸‹æ¸¸ä»»åŠ¡æä¾›äº†å¼ºåŠ›çš„åŸºçº¿ã€‚<br>Aroraç­‰å»å¹´åœ¨ICLRå‘è¡¨çš„è®ºæ–‡A Simple but Tough-to-Beat Baseline for Sentence Embeddingsæä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ç®—æ³•ï¼šé€‰æ‹©ä¸€ç§æµè¡Œçš„è¯åµŒå…¥ï¼Œç¼–ç å¥å­ä¸ºè¯å‘é‡çš„çº¿æ€§åŠ æƒç»„åˆï¼Œç„¶åè¿›è¡Œç›¸åŒæˆåˆ†ç§»é™¤ï¼ˆæ ¹æ®é¦–è¦ä¸»æˆåˆ†ç§»é™¤å‘é‡æŠ•å½±ï¼‰ã€‚è¿™ä¸€é€šç”¨æ–¹æ³•å…·æœ‰æ·±åˆ»è€Œå¼ºå¤§çš„ç†è®ºåŠ¨æœºï¼ŒåŸºäºåœ¨è¯­ç¯‡å‘é‡ä¸Šéšæœºè¡Œèµ°ä»¥ç”Ÿæˆæ–‡æœ¬çš„ç”Ÿæˆå¼æ¨¡å‹ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3dw277xiyj20pi0c10ww.jpg" alt=""></p>
<p>ï¼ˆæœ‰äººå®è·µï¼‰è¿™ä¸ªæ–¹æ³•åœ¨çŸ­æ–‡æœ¬ä¸Šæ•ˆæœæ›´å¥½ï¼Œåœ¨è¯­æ–™ä¸è¶³çš„æ—¶å€™æ•ˆæœä¸èƒ½ä¿è¯ã€‚è¿™ç§æ¨¡å‹æ²¡æœ‰è€ƒè™‘è¯é¡ºåºï¼ˆä¹Ÿå¯ä»¥è¯´åªèƒ½ç†è§£è¯æ„æ€ï¼Œä½†æ˜¯ä¸èƒ½ç†è§£è¯­ä¹‰ï¼‰ï¼Œè€Œæ·±åº¦ç½‘ç»œæ¨¡å‹æ˜¯å¯ä»¥è€ƒè™‘è¯­ä¹‰çš„ã€‚å¯èƒ½å†ç›¸ä¼¼åº¦é—®é¢˜ä¸Šå¯ä»¥å–å¾—æ¯”è¾ƒå¥½çš„æ•ˆæœï¼Œä½†æ˜¯åœ¨æ–‡æœ¬åˆ†ç±»ï¼Œæƒ…æ„Ÿåˆ†ç±»ä¸Šæ•ˆæœä¸€èˆ¬ã€‚</p>
<blockquote>
<p>æ€è€ƒï¼šä»ç›´è§‰ä¸Šç†è§£, çŸ­æ–‡æœ¬ä¸Šçš„ word2vecã€SIF è¿™ç§æ²¡æœ‰ handle è¯­åºçš„æ¨¡å‹å¾—åˆ°çš„æ•ˆæœå°±å·²ç»è¶³å¤Ÿçš„å¥½ï¼Œå¯¹äºä¸­é•¿æ–‡æœ¬ï¼ˆå¥å­ã€æ®µè½ç­‰ï¼‰elmo å’ŒBERT è¿™ç§æ¨¡å‹çš„æ•ˆæœæ˜¯æ›´åŠ çš„ã€‚</p>
</blockquote>
<p>ç¨‹åºçš„è¿è¡Œåªéœ€è¦åå‡ åˆ†é’Ÿï¼Œä¸ç¥ç»ç½‘ç»œçš„æ•ˆæœæ——é¼“ç›¸å½“ã€‚</p>
<h2 id="Supervised-Learning-of-Universal-Sentence-Representations-from-Natural-Language-Inference-Data"><a href="#Supervised-Learning-of-Universal-Sentence-Representations-from-Natural-Language-Inference-Data" class="headerlink" title="Supervised Learning of Universal Sentence Representations from Natural Language Inference Data"></a>Supervised Learning of Universal Sentence Representations from Natural Language Inference Data</h2><p>æ–‡ç« æˆåŠŸçš„æ‰¾åˆ°äº†NLPé¢†åŸŸçš„ImageNet â€” SNLI (Stanford Natural Language Inference dataset), å¹¶ä¸”è¯•éªŒäº†ä¸åŒçš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œæœ€ç»ˆç¡®å®šbi-LSTM max pooled ä¸ºæœ€ä½³æ¨¡å‹ã€‚</p>
<table>
<thead>
<tr>
<th>åŸŸ</th>
<th>æ•°æ®</th>
<th>ä»»åŠ¡</th>
<th>æ¨¡å‹(ç¼–ç å™¨)</th>
</tr>
</thead>
<tbody>
<tr>
<td>CV</td>
<td>ImageNet</td>
<td>image classification</td>
<td>Le-Net, VGG-Net, Google-Net, ResNet, DenseNet</td>
</tr>
<tr>
<td>NLP</td>
<td>SNLI</td>
<td>NLI</td>
<td>?</td>
</tr>
</tbody>
</table>
<p>åŸºäºç›‘ç£å­¦ä¹ æ–¹æ³•å­¦ä¹ sentence embeddingså¯ä»¥å½’çº³ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š<br>ç¬¬ä¸€æ­¥é€‰æ‹©ç›‘ç£è®­ç»ƒæ•°æ®ï¼Œè®¾è®¡ç›¸åº”çš„åŒ…å«å¥å­ç¼–ç å™¨Encoderçš„æ¨¡å‹æ¡†æ¶ï¼›<br>ç¬¬äºŒæ­¥é€‰æ‹©ï¼ˆè®¾è®¡ï¼‰å…·ä½“çš„å¥å­ç¼–ç å™¨ï¼ŒåŒ…æ‹¬DANã€åŸºäºLSTMã€åŸºäºCNNå’ŒTransformerç­‰ã€‚</p>
<p>æ•°æ®é›†ï¼š</p>
<p>æœ¬æ–‡é‡‡ç”¨çš„æ˜¯Stanford Natural Language Inference Datasetsï¼Œç®€ç§°SNLI ï¼ˆNLPé¢†åŸŸçš„ImageNet ï¼‰ã€‚SNLIåŒ…å«570Kä¸ªäººç±»äº§ç”Ÿçš„å¥å­å¯¹ï¼Œæ¯ä¸ªå¥å­å¯¹éƒ½å·²ç»åšå¥½äº†æ ‡ç­¾ï¼Œæ ‡ç­¾æ€»å…±åˆ†ä¸ºä¸‰ç±»ï¼šè•´å«ã€çŸ›ç›¾å’Œä¸­ç«‹ï¼ˆEntailmentã€contradiction and neutralï¼‰ã€‚ä¸‹é¢æ˜¯è¿™äº›æ•°æ®é›†çš„ä¸€ä¸ªä¾‹å­ï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3eqwkv9tlj20kd097gm4.jpg" alt=""><br>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ªå¥å­å¯¹ä¸ºï¼ˆtext, hypothesisï¼‰,ä¸­é—´çš„judgmentsä¸ºå®ƒä»¬çš„æ ‡ç­¾ã€‚å¯ä»¥çœ‹åˆ°æ ‡ç­¾æ˜¯ç»¼åˆäº†5ä¸ªä¸“å®¶çš„æ„è§ï¼Œæ ¹æ®å°‘æ•°æœä»å¤šæ•°çš„åŸåˆ™å¾—åˆ°çš„ã€‚</p>
<p>7ç§ä¸åŒçš„architecturesï¼š </p>
<ol>
<li>standard recurrent encoders with LSTM ï¼Œå–æœ€åä¸€ä¸ªéšçŠ¶æ€</li>
<li>standard recurrent encoders with GRU ï¼Œå–æœ€åä¸€ä¸ªéšçŠ¶æ€<br>ä¸Šè¿°ä¸¤ç§æ˜¯åŸºç¡€çš„recurrent encoderï¼Œåœ¨å¥å­å»ºæ¨¡ä¸­é€šå¸¸å°†ç½‘ç»œä¸­çš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€ä½œä¸ºsentence representationï¼› </li>
<li>conncatenation of last hidden states of forward and backward GRU<br>è¿™ç§æ–¹æ³•æ˜¯å°†å•å‘çš„ç½‘ç»œå˜æˆäº†åŒå‘çš„ç½‘ç»œï¼Œç„¶åç”¨å°†å‰å‘å’Œåå‘çš„æœ€åä¸€ä¸ªçŠ¶æ€è¿›è¡Œè¿æ¥ï¼Œå¾—åˆ°å¥å­å‘é‡ï¼› </li>
<li>Bi-directional LSTMs (BiLSTM) with mean pooling </li>
<li>Bi-directional LSTMs (BiLSTM) with max pooling<br>è¿™ä¸¤ç§æ–¹æ³•ä½¿ç”¨äº†åŒå‘LSTMç»“åˆä¸€ä¸ªpoolingå±‚çš„æ–¹æ³•æ¥è·å–å¥å­è¡¨ç¤ºï¼Œå…·ä½“å…¬å¼å¦‚ä¸‹ï¼š </li>
<li>self-attentive network<br>è¿™ä¸ªç½‘ç»œåœ¨åŒå‘LSTMçš„åŸºç¡€ä¸ŠåŠ å…¥äº†attentionæœºåˆ¶ï¼Œå…·ä½“ç½‘ç»œç»“æ„å¦‚ä¸‹ï¼š </li>
<li>hierarchical convolutional networks </li>
</ol>
<p>Now that we have discussed the various sentence encoding architectures used in the paper, letâ€™s go through the part of the network which takes these sentence embeddings and predicts the output label.</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3eqyoxmknj20ey0d640u.jpg" alt=""><br>After the sentence vectors are fed as input to this model, 3 matching methods are applied to extract relations between the text, u and hypothesis, v â€“</p>
<ul>
<li>concatenation of the two representations (u, v)</li>
<li>element-wise product u * v</li>
<li>and, absolute element-wise difference |u â€“ v |</li>
</ul>
<p>The resulting vector captures information from both the text, u and the hypothesis, v, and is fed into a 3-class classifier consisting of multiple fully connected layers followed by a softmax layer.</p>
<h2 id="Universal-Sentence-Encoder"><a href="#Universal-Sentence-Encoder" class="headerlink" title="Universal Sentence Encoder"></a>Universal Sentence Encoder</h2><p>è¿™ç¯‡æ–‡ç« åŸºäºInferSentï¼Œ ä¹Ÿæ˜¯æƒ³æ‰¾åˆ°ä¸€ä¸ªuniversal encoderã€‚ä¸åŒä¹‹å¤„åœ¨äºæ–‡ç« æŠŠInferSentçš„bi-lstmæ¢æˆäº†DANï¼ˆæˆ–è€…Transformer)ï¼Œè€Œä½¿ç”¨DANè¿™æ ·â€œç®€å•â€çš„encoderçš„æ•ˆæœç«Ÿç„¶ç›¸å½“å¥½ï¼ˆå°¤å…¶æ˜¯æ—¶é—´å’Œå†…å­˜æ¶ˆè€—å’Œå…¶ä»–ç®—æ³•æ¯”å°å¾ˆå¤šã€‚ï¼‰</p>
<p>The Google Sentence Encoder is Googleâ€™s answer to Facebookâ€™s InferSent. It comes in two forms:</p>
<ul>
<li>an advanced model that takes the element-wise sum of the context-aware word representations produced by the encoding subgraph of a Transformer model.</li>
<li>a simpler Deep Averaging Network (DAN) where input embeddings for words and bigrams are averaged together and passed through a feed-forward deep neural network.<br>The Transformer-based model tends to give better results, but at the time of writing, only the DAN-based encoder was available. In contrast to InferSent, the Google Sentence Encoder was trained on a combination of unsupervised data (in a skip-thought-like task) and supervised data (the SNLI corpus).</li>
</ul>
<p>DAN<br>å…¶å®DAN(Deep Averaging Networks)åº”è¯¥å±äºBag of Wordsç±»çš„ç®—æ³•ã€‚å› ä¸ºæ¯”è¾ƒç‰¹æ®Šï¼Œå•ç‹¬åˆ—å‡ºæ¥ã€‚ å®ƒæ˜¯åœ¨å¯¹æ‰€æœ‰è¯è¯­å–å¹³å‡åï¼Œåœ¨ä¸Šé¢åŠ ä¸Šå‡ å±‚ç¥ç»ç½‘ç»œã€‚ç‰¹æ®Šçš„åœ°æ–¹åœ¨äºå®ƒåœ¨sentiment analysisä¸­è¡¨ç°ä¹Ÿä¸é”™ï¼Œè¿™åœ¨BOWç±»æ–¹æ³•ä¸­æ¯”è¾ƒç½•è§ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3esxw2nilj20dh08ujth.jpg" alt=""></p>
<table>
<thead>
<tr>
<th>æ–°æ–¹æ³•</th>
<th>ç±»å‹</th>
<th>åŸºäºçš„æ—§ç®—æ³•</th>
<th>è´¡çŒ®</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIF</td>
<td>æ— ç›‘ç£</td>
<td>BOW</td>
<td>ä¸€ä¸ªç®€å•è€Œæœ‰æ•ˆçš„baselineç®—æ³•</td>
</tr>
<tr>
<td>InferSent</td>
<td>ç›‘ç£</td>
<td>NA</td>
<td>æ‰¾åˆ°äº†NLPé¢†åŸŸçš„ImageNet â€“ SNLIï¼Œ å¹¶ç»™å‡ºäº†ä¸€ä¸ªstate-of-art ç®—æ³•</td>
</tr>
<tr>
<td>P-mean</td>
<td>æ— ç›‘ç£</td>
<td>BOW</td>
<td>æ¯”SIFæ›´ç®€å•ä¸”æœ‰æ•ˆçš„ä¸€ä¸ªç®—æ³•ä¸”é€‚ç”¨äºcross-lingual</td>
</tr>
<tr>
<td>Universal-sentence-encoder</td>
<td>ç›‘ç£</td>
<td>InferSent</td>
<td>æ›´åŠ ç®€å•çš„encoder</td>
</tr>
</tbody>
</table>
<p>æ–‡ç« å…±æå‡ºä¸¤ç§åŸºäºä¸åŒç½‘ç»œæ¶æ„çš„Universal Sentence Encoderï¼šTransformer and Deep Averaging Network (DAN).<br>Our two encoders have different design goals. One based on the transformer architecture targets high accuracy at the cost of greater model complexity and resource consumption. The other targets efficient inference with slightly reduced accuracy.</p>
<h2 id="deep-contextualized-word-representations"><a href="#deep-contextualized-word-representations" class="headerlink" title="deep contextualized word representations"></a>deep contextualized word representations</h2><p>introduction:</p>
<p>è¿™ç§embedding -context å¿…è¦æ€§çš„ä»‹ç»ï¼Œæ„Ÿè§‰æ˜¯æœ‰æ›´å¥½ï¼Œæ²¡æœ‰ä¹Ÿæ˜¯èƒ½å¤Ÿç†è§£çš„ã€‚<br>Why do we need contextualized representations?<br>As an illustrative example, take the following two sentences:</p>
<blockquote>
<p>â€œThe bank on the other end of the street was robbedâ€<br>â€œWe had a picnic on the bank of the riverâ€</p>
</blockquote>
<p>Both sentences use the word â€œbankâ€, but the meaning of the word differs completely between them. This phenomenon where two identical words change meaning depending on the context is known as â€œpolysemyâ€œ, and has been an issue in the NLP deep learning community ever since word embeddings really took off. Most current neural networks are bad at handling polysemy because they use a single vector to represent the meaning of the word â€œbankâ€, regardless of the context. In reality, the vector representing any word should change depending on the words around it.</p>
<p>ä»€ä¹ˆæ˜¯ä¸€ä¸ªå¥½çš„è¯å‘é‡ï¼š<br>ELMoèƒ½å¤Ÿå­¦ä¹ åˆ°è¯æ±‡ç”¨æ³•çš„å¤æ‚æ€§ï¼Œæ¯”å¦‚è¯­æ³•ã€è¯­ä¹‰ã€‚<br>ELMoèƒ½å¤Ÿå­¦ä¹ ä¸åŒä¸Šä¸‹æ–‡æƒ…å†µä¸‹çš„è¯æ±‡å¤šä¹‰æ€§ã€‚</p>
<p>ä¹‹å‰çš„åšæ³•çš„ç¼ºç‚¹æ˜¯å¯¹äºæ¯ä¸€ä¸ªå•è¯éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªembeddingè¡¨ç¤º, è€Œå¯¹äºå¤šä¹‰è¯æ˜¾ç„¶è¿™ç§åšæ³•ä¸ç¬¦åˆç›´è§‰, è€Œå•è¯çš„æ„æ€åˆå’Œä¸Šä¸‹æ–‡ç›¸å…³, ELMoçš„åšæ³•æ˜¯æˆ‘ä»¬åªé¢„è®­ç»ƒlanguage model, è€Œword embeddingæ˜¯é€šè¿‡è¾“å…¥çš„å¥å­å®æ—¶è¾“å‡ºçš„, è¿™æ ·å•è¯çš„æ„æ€å°±æ˜¯ä¸Šä¸‹æ–‡ç›¸å…³çš„äº†, è¿™æ ·å°±å¾ˆå¤§ç¨‹åº¦ä¸Šç¼“è§£äº†æ­§ä¹‰çš„å‘ç”Ÿ.</p>
<p>è¿™ç§ç®—æ³•çš„ç‰¹ç‚¹æ˜¯ï¼šæ¯ä¸€ä¸ªword representationéƒ½æ˜¯æ•´ä¸ªè¾“å…¥è¯­å¥çš„å‡½æ•°ã€‚å…·ä½“åšæ³•å°±æ˜¯å…ˆåœ¨å¤§è¯­æ–™ä¸Šä»¥language modelä¸ºç›®æ ‡è®­ç»ƒå‡ºbidirectional LSTMæ¨¡å‹ï¼Œç„¶ååˆ©ç”¨LSTMäº§ç”Ÿè¯è¯­çš„è¡¨å¾ã€‚ELMoæ•…è€Œå¾—å(Embeddings from Language Models)ã€‚ä¸ºäº†åº”ç”¨åœ¨ä¸‹æ¸¸çš„NLPä»»åŠ¡ä¸­ï¼Œä¸€èˆ¬å…ˆåˆ©ç”¨ä¸‹æ¸¸ä»»åŠ¡çš„è¯­æ–™åº“(æ³¨æ„è¿™é‡Œå¿½ç•¥æ‰label)è¿›è¡Œlanguage modelçš„å¾®è°ƒ,è¿™ç§å¾®è°ƒç›¸å½“äºä¸€ç§domain transfer; ç„¶åæ‰åˆ©ç”¨labelçš„ä¿¡æ¯è¿›è¡Œsupervised learningã€‚</p>
<p>ï¼ˆè¿™ä¸ªæè¿°è·Ÿ cv æ˜¯æƒŠäººçš„ç›¸ä¼¼ï¼‰<br>ELMoè¡¨å¾æ˜¯â€œæ·±â€çš„ï¼Œå°±æ˜¯è¯´å®ƒä»¬æ˜¯biLMçš„æ‰€æœ‰å±‚çš„å†…éƒ¨è¡¨å¾çš„å‡½æ•°ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯èƒ½å¤Ÿäº§ç”Ÿä¸°å¯Œçš„è¯è¯­è¡¨å¾ã€‚é«˜å±‚çš„LSTMçš„çŠ¶æ€å¯ä»¥æ•æ‰è¯è¯­æ„ä¹‰ä¸­å’Œè¯­å¢ƒç›¸å…³çš„é‚£æ–¹é¢çš„ç‰¹å¾(æ¯”å¦‚å¯ä»¥ç”¨æ¥åšè¯­ä¹‰çš„æ¶ˆæ­§)ï¼Œè€Œä½å±‚çš„LSTMå¯ä»¥æ‰¾åˆ°è¯­æ³•æ–¹é¢çš„ç‰¹å¾(æ¯”å¦‚å¯ä»¥åšè¯æ€§æ ‡æ³¨)ã€‚å¦‚æœæŠŠå®ƒä»¬ç»“åˆåœ¨ä¸€èµ·ï¼Œåœ¨ä¸‹æ¸¸çš„NLPä»»åŠ¡ä¸­ä¼šä½“ç°ä¼˜åŠ¿ã€‚</p>
<p>Salient features<br>ELMo representations are:</p>
<ul>
<li>Contextual: The representation for each word depends on the entire context in which it is used.</li>
<li>Deep: The word representations combine all layers of a deep pre-trained neural network.</li>
<li>Character based: ELMo representations are purely character based, allowing the network to use morphological clues to form robust representations for out-of-vocabulary tokens unseen in training.</li>
</ul>
<p>related work:</p>
<p>é’ˆå¯¹ä¼ ç»Ÿè¯å‘é‡æ˜¯å›ºå®šçš„ï¼Œä¸ä¸Šä¸‹æ–‡è¯­å¢ƒæ— å…³çš„ç¼ºç‚¹ï¼Œå…ˆå‰çš„å·¥ä½œå¤šé€šè¿‡ä¸¤ç§æ–¹å¼æ¥è§£å†³ï¼š<br> (1) é€šè¿‡å¼•å…¥å­—ç¬¦çº§(subword)ä¿¡æ¯ä¸°å¯Œè¯å‘é‡è¡¨è¾¾ï¼›<br> (2) å­¦ä¹ æ¯ä¸ªå•è¯ä¸åŒå«ä¹‰çš„ç‹¬ç«‹å‘é‡ï¼›<br> ELMoä¹Ÿåˆ©ç”¨äº†å­—ç¬¦å·ç§¯ï¼ˆCharacter-Convolutionsï¼‰å¼•å…¥å­—ç¬¦çº§ä¿¡æ¯ï¼Œå¹¶åŒæ—¶ç»“åˆäº†æ·±åº¦åŒå‘è¯­è¨€æ¨¡å‹çš„å„å±‚éšçŠ¶æ€æ¥ä¸°å¯Œè¯å‘é‡è¡¨è¾¾ã€‚</p>
<p>P.s.ï¼šåŸºäºå­—ç¬¦çš„æ¨¡å‹ä¸ä»…èƒ½å¤Ÿé€šè¿‡å¼•å…¥å­—ç¬¦çº§ä¿¡æ¯ä¸°å¯Œè¯å‘é‡è¡¨è¾¾ï¼Œä¹Ÿèƒ½å¤Ÿåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè§£å†³NLPé¢†åŸŸçš„OOVï¼ˆOut-Of-Vocabularyï¼‰é—®é¢˜ã€‚</p>
<p>ELMoç”¨åˆ°ä¸Šæ–‡æåˆ°çš„åŒå‘çš„language model, ç»™å®šNä¸ªtokens (t1, t2,â€¦,tN), language modelé€šè¿‡ç»™å®šå‰é¢çš„k-1ä¸ªä½ç½®çš„tokenåºåˆ—è®¡ç®—ç¬¬kä¸ªtokençš„å‡ºç°çš„æ¦‚ç‡:<br>$$<br>p \left( t _ { 1 } , t _ { 2 } , \ldots , t _ { N } \right) = \prod _ { k = 1 } ^ { N } p \left( t _ { k } | t _ { 1 } , t _ { 2 } , \ldots , t _ { k - 1 } \right)<br>$$<br>åå‘çš„è®¡ç®—æ–¹æ³•ä¸å‰å‘ç›¸ä¼¼:</p>
<p>$$<br>p \left( t _ { 1 } , t _ { 2 } , \ldots , t _ { N } \right) = \prod _ { k = 1 } ^ { N } p \left( t _ { k } | t _ { k + 1 } , t _ { k + 2 } , \ldots , t _ { N } \right)<br>$$<br>biLMè®­ç»ƒè¿‡ç¨‹ä¸­çš„ç›®æ ‡å°±æ˜¯æœ€å¤§åŒ–:<br>$$<br>\sum _ { k = 1 } ^ { N } \left( \log p \left( t _ { k } | t _ { 1 } , \ldots , t _ { k - 1 } ; \Theta _ { x } , \vec { \Theta } _ { L S T M } , \Theta _ { s } \right) + \log p \left( t _ { k } | t _ { k + 1 } , \ldots , t _ { N } ; \Theta _ { x } , \overline { \Theta } _ { L S T M } , \Theta _ { s } \right) \right)<br>$$</p>
<p>ELMoå¯¹äºæ¯ä¸ªtoken $t_k$, é€šè¿‡ä¸€ä¸ªLå±‚çš„biLMè®¡ç®—å‡º2L+1ä¸ªè¡¨ç¤º:<br>$$<br>R_{ k } = \left{ x _ { k } ^ { L M } , \vec { h } _ { k , j } ^ { L M } , h _ { k , j } ^ { L M } | j = 1 , \ldots , L \right} = \left{ h _ { k , j } ^ { L M } | j = 0 , \ldots , L \right}<br>$$<br>å…¶ä¸­$h _ { k , 0 } ^ { L M }$æ˜¯å¯¹tokenè¿›è¡Œç›´æ¥ç¼–ç çš„ç»“æœ(è¿™é‡Œæ˜¯å­—ç¬¦é€šè¿‡CNNç¼–ç ), $h _ { k , j } ^ { L M } = \left[ \vec { h } _ { k , j } ^ { L M } ; \overline { h } _ { k , j } \right]$ æ˜¯æ¯ä¸ªbiLSTMå±‚è¾“å‡ºçš„ç»“æœ. åœ¨å®éªŒä¸­è¿˜å‘ç°ä¸åŒå±‚çš„biLMçš„è¾“å‡ºçš„tokenè¡¨ç¤ºå¯¹äºä¸åŒçš„ä»»åŠ¡æ•ˆæœä¸åŒ.</p>
<p>åº”ç”¨ä¸­å°†ELMoä¸­æ‰€æœ‰å±‚çš„è¾“å‡ºRå‹ç¼©ä¸ºå•ä¸ªå‘é‡, ELMok=E(Rk;Î˜Ïµ), æœ€ç®€å•çš„å‹ç¼©æ–¹æ³•æ˜¯å–æœ€ä¸Šå±‚çš„ç»“æœåšä¸ºtokençš„è¡¨ç¤º:$E \left( R _ { k } \right) = h _ { k , L } ^ { L M }$ æ›´é€šç”¨çš„åšæ³•æ˜¯é€šè¿‡ä¸€äº›å‚æ•°æ¥è”åˆæ‰€æœ‰å±‚çš„ä¿¡æ¯:<br>$$E L M o _ { k } ^ { t a s k } = E \left( R _ { k } ; \Theta ^ { t a s k } \right) = \gamma ^ { t a s k } \sum _ { j = 0 } ^ { L } s _ { j } ^ { t a s k } h _ { k , j } ^ { L M }$$</p>
<p>å…¶ä¸­$s_j$æ˜¯ä¸€ä¸ªsoftmaxå‡ºæ¥çš„ç»“æœ, $Î³$æ˜¯ä¸€ä¸ªä»»åŠ¡ç›¸å…³çš„scaleå‚æ•°, æˆ‘è¯•äº†å¹³å‡æ¯ä¸ªå±‚çš„ä¿¡æ¯å’Œå­¦å‡ºæ¥$s_j$å‘ç°å­¦ä¹ å‡ºæ¥çš„æ•ˆæœä¼šå¥½å¾ˆå¤š. æ–‡ä¸­æåˆ°$Î³$åœ¨ä¸åŒä»»åŠ¡ä¸­å–ä¸åŒçš„å€¼æ•ˆæœä¼šæœ‰è¾ƒå¤§çš„å·®å¼‚, éœ€è¦æ³¨æ„, åœ¨SQuADä¸­è®¾ç½®ä¸º0.01å–å¾—çš„æ•ˆæœè¦å¥½äºè®¾ç½®ä¸º1æ—¶.</p>
<p>ELMo: Context Matters</p>
<p>Instead of using a fixed embedding for each word, ELMo looks at the entire sentence before assigning each word in it an embedding. It uses a bi-directional LSTM trained on a specific task to be able to create those embeddings.<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3fub67ulaj20u20h3wfx.jpg" alt=""></p>
<p>ELMo provided a significant step towards pre-training in the context of NLP. The ELMo LSTM would be trained on a massive dataset in the language of our dataset, and then we can use it as a component in other models that need to handle language.</p>
<p>Whatâ€™s ELMoâ€™s secret?</p>
<p>ELMo gained its language understanding from being trained to predict the next word in a sequence of words - a task called Language Modeling. This is convenient because we have vast amounts of text data that such a model can learn from without needing labels.</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3fubpu9ibj20li0m1q5b.jpg" alt=""></p>
<p>We can see the hidden state of each unrolled-LSTM step peaking out from behind ELMoâ€™s head. Those come in handy in the embedding proecss after this pre-training is done.</p>
<p>ELMo actually goes a step further and trains a bi-directional LSTM â€“ so that its language model doesnâ€™t only have a sense of the next word, but also the previous word.<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3fuc693mrj211z0hbjur.jpg" alt=""><br>ELMo comes up with the contextualized embedding through grouping together the hidden states (and initial embedding) in a certain way (concatenation followed by weighted summation).<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3fuci4xodj213j0kitcq.jpg" alt=""></p>
<p>lstm-based language model<br>In case you are unfamiliar with language models, a language model is simply a model that can predict how â€œlikelyâ€ a certain sequence of words is to be a real piece of text. This is generally done by training a model to take a part of sentence (say, the first n words) and predict the next word â€“ or more precisely, output the probability of each word in the vocabulary being the next word (In this blog post, weâ€™ll focus on LSTM-based language models which are the focus of this paper). </p>
<p>One trick that this paper uses is to train a language model with reversed sentences that the authors call the â€œbackwardâ€ language model.<br>è¿™ç§æ¨¡å‹ï¼šä¸Šä¸€ä¸ªæ¨¡å‹çš„è¾“å‡ºåˆ°ä¸‹ä¸€ä¸ªæ¨¡å‹è¾“å…¥<br>Furthermore, instead of using a single-layer LSTM, this paper uses a stacked, multi-layer LSTM. Whereas a single-layer LSTM would take the sequence of words as input, a multi-layer LSTM trains multiple LSTMs to take the output sequence of the LSTM in the previous layer as input (of course, the first layer takes the sequence of words as input). This is best illustrated in the following illustration:<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3flokoc0mj20ab07474a.jpg" alt=""></p>
<p>æœ€åçš„embedding æ˜¯æ˜¯å°†ä¸åŒçš„å±‚ combinationèµ·æ¥ï¼Œè¿™ä¸ªç³»æ•°æ˜¯é€šè¿‡å­¦ä¹ å‡ºæ¥çš„ã€‚<br>In ELMo, the part that is task specific is the combination of the task-agnostic representations. The weight is learned for each task and normalized using the softmax function. The parameter $\gamma$ is a task-dependent value that allows for scaling the entire vector, which is important during optimization.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/27/Dynamic-Programming-Examples/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/27/Dynamic-Programming-Examples/" itemprop="url">Dynamic Programming Examples</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-27T14:10:41+08:00">
                2019-05-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/27/Dynamic-Programming-Examples/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/27/Dynamic-Programming-Examples/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong><em>knapsack problem:</em></strong></p>
<p><a href="https://leetcode.com/problems/partition-equal-subset-sum/" target="_blank" rel="noopener">https://leetcode.com/problems/partition-equal-subset-sum/</a></p>
<p>Given a non-empty array containing only positive integers, find if the array can be partitioned into two subsets such that the sum of elements in both subsets is equal.</p>
<p>Actually, this is a 0/1 knapsack problem, for each number, we can pick it or not. Let us assume dp[i][j] means whether the specific sum j can be gotten from the first i numbers. If we can pick such a series of numbers from 0-i whose sum is j, dp[i][j] is true, otherwise it is false.<br>Base case: dp[0][0] is true; (zero number consists of sum 0 is true)<br>Transition function: For each number, if we donâ€™t pick it, dp[i][j] = dp[i-1][j], which means if the first i-1 elements has made it to j, dp[i][j] would also make it to j (we can just ignore nums[i]). If we pick nums[i]. dp[i][j] = dp[i-1][j-nums[i]], which represents that j is composed of the current value nums[i] and the remaining composed of other previous numbers. Thus, the transition function is dp[i][j] = dp[i-1][j] || dp[i-1][j-nums[i]]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canPartition</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n =len(nums)</span><br><span class="line">        s = sum(nums)</span><br><span class="line">        <span class="keyword">if</span> s &amp;<span class="number">1</span> ==<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        dp =[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(s+<span class="number">1</span>)]</span><br><span class="line">        dp[<span class="number">0</span>] =<span class="number">1</span></span><br><span class="line">        <span class="comment">#import ipdb</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(s, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">                <span class="comment"># ipdb.set_trace()</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> dp[i]:</span><br><span class="line">                    dp[i+num] =<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> dp[s//<span class="number">2</span>]:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p><strong><em>longest commone substring</em></strong></p>
<p>Given two strings â€˜Xâ€™ and â€˜Yâ€™, find the length of the longest common substring.</p>
<blockquote>
<p>Input : X = â€œGeeksforGeeksâ€, y = â€œGeeksQuizâ€<br>Output : 5</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Given two strings â€˜Xâ€™ and â€˜Yâ€™, find the length of the longest common substring.</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDistance</span><span class="params">(self, word1, word2)</span>:</span></span><br><span class="line"></span><br><span class="line">        m  =len(word1)</span><br><span class="line">        n =len(word2)</span><br><span class="line">        <span class="comment">#dp=[ [None] for _ in range(n+1) for _ in range(m+1)]</span></span><br><span class="line">        dp = [[<span class="keyword">None</span>] *(n +<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(m+<span class="number">1</span>) ]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n+<span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> i ==<span class="number">0</span> <span class="keyword">or</span> j ==<span class="number">0</span>:</span><br><span class="line">                    dp[i][j] =<span class="number">0</span></span><br><span class="line">                <span class="comment"># è¿™ä¸ªæ˜¯python ä¸­è¯­æ³•å†³å®šçš„ word1[len(word1)] æ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œè¿™ä¸ªè®¿é—®æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥åªèƒ½æ˜¯è¿™æ ·çš„</span></span><br><span class="line">                <span class="keyword">elif</span> word1[i<span class="number">-1</span>] == word2[j<span class="number">-1</span>]:</span><br><span class="line">                    dp[i][j] =dp[i<span class="number">-1</span>][j<span class="number">-1</span>] +<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j] =max(dp[i<span class="number">-1</span>][j], dp[i][j<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[m][n]</span><br><span class="line"></span><br><span class="line">solution =Solution()</span><br><span class="line">word1 =<span class="string">'abcdaf'</span></span><br><span class="line">word2 =<span class="string">'acbcf'</span></span><br><span class="line">result =solution.minDistance(word1, word2)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<p><strong><em>matrix chain multiplication</em></strong></p>
<p>Given a sequence of matrices, find the most efficient way to multiply these matrices together. The problem is not actually to perform the multiplications, but merely to decide in which order to perform the multiplications.</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3ft7nakbnj20lq0laads.jpg" alt=""><br>dp çš„æ€æƒ³å°±æ˜¯å€ŸåŠ©ä¹‹å‰çš„ subquestion çš„ç»“æœï¼Œç„¶åè®¡ç®—æ›´å¤§çš„questionï¼Œè¿™ä¸ªçš„æ ¸å¿ƒåœ¨äºå‡å°‘äº†é‡å¤å­å•å…ƒçš„è®¡ç®—ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="comment"># å°±æ˜¯è¿™ä¸ª l å’Œ1 æ˜¯å¾ˆä¸å®¹æ˜“åˆ†æ¸…æ¥šçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ˜¯æ…é‡ä½¿ç”¨çš„ </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MatrixChainOrder</span><span class="params">(list1, len1)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :param list1:  list of matrix style</span></span><br><span class="line"><span class="string">    :param l:  len1gth of list</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(len1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(len1)]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len1):</span><br><span class="line">        dp[i][i] = <span class="number">0</span></span><br><span class="line">    <span class="comment"># l ä¸ªmatrix è¿æˆçš„æ„æ€</span></span><br><span class="line">    <span class="keyword">for</span> ll <span class="keyword">in</span> range(<span class="number">2</span>, len1):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len1 - ll + <span class="number">1</span>):</span><br><span class="line">            j = i + ll - <span class="number">1</span></span><br><span class="line">            dp[i][j] = sys.maxint</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(i, j):</span><br><span class="line">                tmp = dp[i][k] + dp[k + <span class="number">1</span>][j] + list1[i - <span class="number">1</span>] * list1[k] * list1[j]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> tmp &lt; dp[i][j]:</span><br><span class="line">                    dp[i][j] = tmp</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">1</span>][len1 - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Driver program to test above function</span></span><br><span class="line">arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arr1 = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">size = len(arr)</span><br><span class="line">size1 = len(arr1)</span><br><span class="line">print(<span class="string">"Minimum number of multiplications is "</span> +</span><br><span class="line">      str(MatrixChainOrder(arr, size)))</span><br><span class="line">print(<span class="string">"Minimum number of multiplications is "</span> +</span><br><span class="line">      str(MatrixChainOrder(arr1, size1)))</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/22/beyond-word-embedding/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/22/beyond-word-embedding/" itemprop="url">Beyond  Word Embedding</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-22T15:23:37+08:00">
                2019-05-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NLP/" itemprop="url" rel="index">
                    <span itemprop="name">NLP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/22/beyond-word-embedding/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/22/beyond-word-embedding/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Traditional-Word-Vectors"><a href="#Traditional-Word-Vectors" class="headerlink" title="Traditional Word Vectors"></a>Traditional Word Vectors</h2><p>Before diving directly into Word2Vec itâ€™s worth while to do a brief overview of some of the traditional methods that pre-date neural embeddings.</p>
<p>è¿™ä¸ªæ˜¯ç”¨æ¥æè¿°æ–‡ç« çš„ï¼Œæœ‰ä¸€ä¸ªå¤§çš„dictï¼Œç„¶åä¸€ç‰‡æ–‡ç« æ˜¯å¦‚ä½•è¿›è¡Œè¡¨ç¤ºã€<br><strong>Bag of Words</strong> or BoW vector representations are the most common used traditional vector representation. Each word or n-gram is linked to a vector index and marked as 0 or 1 depending on whether it occurs in a given document.</p>
<p>An example of a one hot bag of words representation for documents with one word.</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3a0alr102j20l104jt9t.jpg" alt=""><br>å±€é™æ€§: ä¸€æ–¹é¢åªæ˜¯ä¸€ç§counterï¼Œæ²¡æœ‰è€ƒè™‘è¯­ä¹‰ä¿¡æ¯ï¼›å¦ä¸€æ–¹é¢æœ‰äº› words æ˜¯æ˜æ˜¾çš„ relevant than others.<br>BoW representations are often used in methods of document classification where the frequency of each word, bi-word or tri-word is a useful feature for training classifiers. One challenge with bag of word representations is that they donâ€™t encode any information with regards to the meaning of a given word.<br>In BoW word occurrences are evenly weighted independently of how frequently or what context they occur. However in most NLP tasks some words are more relevant than others.</p>
<p>è¿™ä¸ªæ˜¯å¯ä»¥è®¤è¯†æ˜¯å¯¹äº bag of words â€œrelevantâ€ ä¸Šçš„æ”¹è¿›ï¼šä½¿å¾— é€‰æ‹©çš„words æ›´åŠ çš„ â€œrepresentativeâ€ æ–‡ç« çš„è°ƒæ€§ã€‚<br>TF-IDF, short for term frequencyâ€“inverse document frequency, is a numerical statistic that is intended to reflect how important a word or n-gram is to a document in a collection or corpus. They provide some weighting to a given word based on the context it occurs.The tfâ€“idf value increases proportionally to the number of times a word appears in a document and is offset by the number of documents in the corpus that contain the word, which helps to adjust for the fact that some words appear more frequently than others.</p>
<p>ä½†æ˜¯å¯¹äº bag of words ä¸­â€œæ²¡æœ‰ä½“ç°è¯­ä¹‰â€ çš„ç¼ºé™·è¿˜æ˜¯æ²¡æœ‰ deal withã€‚<br>However even though tf-idf BoW representations provide weights to different words they are unable to capture the word meaning.</p>
<p>è¿™ä¸ªåå­—åªæ˜¯å› ä¸ºæœ‰å®šä¹‰è€Œå­˜åœ¨çš„åå­—ï¼ˆç½‘ç»œæ¨¡å‹ or æ·±åº¦ç½‘ç»œçš„å‡ºç°å°±æ˜¯ä¸ºäº† handle è¯­ä¹‰ä¿¡æ¯ï¼‰<br><strong>Distributional Embeddings</strong> enable word vectors to encapsulate contextual context. Each embedding vector is represented based on the mutual information it has with other words in a given corpus.<br>é‡ç‚¹å°±æ˜¯è¿™ç§æ–¹å¼æ˜¯è¦ predict a target word from context wordsï¼Œä¸€å®šæ˜¯è¦èƒ½å¤Ÿä½“ç°è¯­å¢ƒçš„ã€‚<br><strong>Predictive models</strong> learn their vectors in order to improve their predictive ability of a loss such as the loss of predicting the vector for a target word from the vectors of the surrounding context words.<br>word2vec æ˜¯ä¸€ç§æ€æƒ³ï¼Œæœ‰ä¸¤ç§CBOW å’Œskip-gram ä¸¤ç§å®ç°ã€‚<br><strong>Word2Vec</strong> is a predictive embedding model. There are two main Word2Vec architectures that are used to produce a distributed representation of words:</p>
<p>CBOWä¸­çš„ context words æ²¡æœ‰ä½“ç° words orderï¼Œä½†æ˜¯è®­ç»ƒé€Ÿåº¦å¿«ã€‚<br>Continuous bag-of-words (CBOW)â€Šâ€”â€ŠThe order of context words does not influence prediction (bag-of-words assumption).</p>
<p>skip-gram  weights nearbt context words heavily æ•ˆæœç›¸å¯¹äº cbow æ›´åŠ ï¼Œ ä½†è®­ç»ƒé€Ÿåº¦ç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚<br>Continuous skip-gram weighs nearby context words more heavily than more distant context words. While order still is not captured each of the context vectors are weighed and compared independently vs CBOW which weighs against the average context.</p>
<p>CBOW is faster while skip-gram is slower but does a better job for infrequent words.</p>
<p><strong>glove</strong> ï¼ˆg lou vï¼‰<br>è¿™ä¸ªä¸å±äº word2vecï¼Œå…¶åªæ˜¯è€ƒè™‘äº† local contextï¼Œæ²¡æœ‰è€ƒè™‘ global context<br>Both CBOW and Skip-Grams are â€œpredictiveâ€ models, in that they only take local contexts into account.  word2vec does not take advantage of global context.<br>(ç»†èŠ‚ èƒ½çœ‹æ‡‚å°±çœ‹)<br> GloVe embeddings by contrast leverage the same intuition behind the co-occurrence matrix (å…±ç”ŸçŸ©é˜µ) used distributional embeddings, but uses neural methods to decompose the co-occurrence matrix into more expressive and dense word vectors.<br>æ•ˆæœï¼šå’Œword2vec ç›¸æ¯”æ²¡æœ‰  definitively better results<br>While GloVe vectors are faster to train, neither GloVe or Word2Vec has been shown to provide definitively better results rather they should both be evaluated for a given dataset.</p>
<p><strong>fasttext</strong><br>è¿™ä¸ªä¸»è¦æ˜¯ each word + n-gram within each wordï¼Œ æœ€åçš„æ•ˆæœæ˜¯å¥½äº word2vec çš„ã€‚<br>FastText, builds on Word2Vec by learning vector representations for each word and the n-grams found within each word. The values of the representations are then averaged into one vector at each training step. While this adds a lot of additional computation to training it enables word embeddings to encode sub-word information. FastText vectors have been shown to be more accurate than Word2Vec vectors by a number of different measures.</p>
<h2 id="overview-of-Neural-NLP-Architectures"><a href="#overview-of-Neural-NLP-Architectures" class="headerlink" title="overview of Neural NLP Architectures"></a>overview of Neural NLP Architectures</h2><p>Deep Feed Forward Networks</p>
<p>1D CNNs</p>
<p>RNNs (LSTM/GRU)</p>
<p>encoder- decoder ç»“æ„</p>
<p>attention and copy mechanisms<br>è¿™ä¸ªæ˜¯ attention æœºåˆ¶æå‡ºçš„èƒŒæ™¯ï¼šè§£å†³ å¥å­ä¸­çš„é•¿ä¾èµ–ï¼›contextual impact (specific words may carry more importance at different steps)<br>While in theory they can capture long term dependencies they tend to struggle modeling longer sequences, this is still an open problem.</p>
<p>One cause for sub-optimal performance standard RNN encoder-decoder models for sequence to sequence tasks such as NER or translation is that they weight the impact each input vector evenly on each output vector when in reality specific words in the input sequence may carry more importance at different time steps.<br>Attention mechanisms provide a means of weighting the contextual impact of each input vector on each output prediction of the RNN. These mechanisms are responsible for much of the current or near current state of the art in Natural language processing.</p>
<p><strong>attention</strong></p>
<p>In sum, algorithms can allocate attention, and they can learn how to do so, by adjusting the weights they assign to various inputs. Imagine a heat map over a photo. The heat is attention.</p>
<p>è¿™ä¸ªæ˜¯è¦å¼•å‡ºæ¥ context word embeddings.<br>One of the limits of traditional word vectors is that they presume that a wordâ€™s meaning is relatively stable across sentences.<br>å¹¶ä¸æ˜¯ç‰©ç†ä¸Šçš„äºŒç»´å…³ç³»èƒ½å¤Ÿè¡¨ç¤ºè¯è¯­ä¹‹é—´çš„ relationshipï¼Œæœ‰æ—¶å€™æ˜¯éœ€è¦é«˜çº¬ç©ºé—´è¿›è¡Œè¡¨ç¤ºçš„ã€‚<br>In fact, the strongest relationships binding a given word to the rest of the sentence may be with words quite distant from it.<br>ä» credit assignmentçš„è§’åº¦é˜è¿°äº† neural networks å°±æ˜¯ allocating importance to input featuresã€‚<br>The fundamental task of all neural networks is credit assignment. Credit assignment is allocating importance to input features through the weights of the neural networkâ€™s model. Learning is the process by which neural networks figure out which input features correlate highly with the outcomes the net tries to predict, and their learnings are embodied in the adjusted quantities of the weights that result in accurate decisions about the data theyâ€™re exposed to.<br>è¿™ä¸ªæ˜¯ä¼ ç»Ÿçš„ LSTM ï¼ˆencoder -decoderï¼‰ æ¨¡å‹ï¼Œé—®é¢˜åœ¨äºå½“å¥å­è¿‡é•¿ï¼ˆæ¯”å¦‚è¯´å¤§äº20 wordsï¼‰ä¹‹åï¼Œencoder æ˜¯æ— æ³• memory ä¹‹å‰çš„æ‰€æœ‰ wordsï¼Œæ‰€ä»¥æ•ˆæœå°±ä¼šå˜å¾—å·®ä¸€äº›ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3a478w59aj21hc0ixmzq.jpg" alt=""></p>
<p>ä½†æ˜¯ attention å°±æ˜¯æ¨¡ä»¿äº†äººç¿»è¯‘è¿‡ç¨‹ï¼Œä¸€æ®µä½œä¸ºä¸€ä¸ªå•ä½ï¼Œç„¶åè¿›è¡Œç¿»è¯‘ã€‚è¿™æ ·å°±å¯ä»¥æŒç»­ä¿è¯è¾ƒé«˜ä¸­ç¡®ç‡çš„è¾“å‡ºã€‚<br>In neural networks, attention primarily serves as a memory-access mechanism.<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3a47iu166j20ck072t90.jpg" alt=""><br> æ¯æ¬¡çš„è¾“å‡ºéƒ½æ˜¯å…³æ³¨ä¸åŒçš„åœ°æ–¹ï¼Œä½†æ˜¯è‡³äºå“ªé‡Œæ›´åŠ é‡è¦ï¼Œè¿™ä¸ªäº¤ç»™äº† feedback mechanism åå‘ä¼ æ’­ã€‚ä¸‹é¢çš„å›¾ç‰‡ååˆ†æ¸…æ™°çš„å±•ç¤ºäº† åœ¨ç¿»è¯‘çš„è¿‡ç¨‹ä¸­ â€œfocusâ€ æ˜¯ä¸æ–­åœ°å˜åŒ–çš„ã€‚<br>Above, a model highlights which pixels it is focusing on as it predicts the underlined word in the respective captions. Below, a language model highlights the words from one language, French, that were relevant as it produced the English words in the translation. As you can see, attention provides us with a route to interpretability. We can render attention as a heat map over input data such as words and pixels, and thus communicate to human operators how a neural network made a decision. (This could be the basis of a feedback mechanism whereby those humans tell the network to pay attention to certain features and not others.)<br> (This could be the basis of a feedback mechanism whereby those humans tell the network to pay attention to certain features and not others.)<br> <img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g3a487h7rej2078079mx1.jpg" alt=""></p>
<p>Additionally in Machine Reading Comprehension and Summarization systems RNNs often tend to generate results, that while on first glance look structurally correct are in reality hallucinated or incorrect. One mechanism that helps mitigate some of these issues is the Copy Mechanism.<br>copy mechanism ç®€å•è¯´æ¥å°±æ˜¯ word embedding or raw text.<br>The copy mechanism is an additional layer applied during decoding that decides whether it is better to generate the next word from the source sentence or from the general embedding vocabulary.</p>
<p><strong>reading comprehension and summary</strong></p>
<p>ä¸Šé¢æ˜¯è¯´çš„åœ¨ machine translationï¼Œä¸‹é¢è¯´çš„æ˜¯ é˜…è¯»ç†è§£ å’Œ summaryé¢†åŸŸã€‚<br>Additionally in Machine Reading Comprehension and Summarization systems RNNs often tend to generate results, that while on first glance look structurally correct are in reality hallucinated or incorrect. One mechanism that helps mitigate some of these issues is the Copy Mechanism.<br>copy mechanism ç®€å•è¯´æ¥å°±æ˜¯ decide word embedding from model or raw text.<br>The copy mechanism is an additional layer applied during decoding that decides whether it is better to generate the next word from the source sentence or from the general embedding vocabulary.</p>
<p>Taming Recurrent Neural Networks for Better Summarization<br>æœ‰ä¸¤ç§ä¸åŒçš„ summarization:<br>Two types of summarizationï¼šExtractive ï¼ˆYou might think of these approaches as like a highlighter.ï¼‰ Abstractiveï¼ˆBy the same analogy, these approaches are like a pen.ï¼‰<br>The great majority of existing approaches to automatic summarization are extractive â€“ mostly because it is much easier to select text than it is to generate text from scratch.<br>ä½†æ˜¯ä¸€ä¸ªé—®é¢˜åœ¨äºï¼Œåªæ˜¯ä½¿ç”¨ extrative way å¯èƒ½å¾—åˆ°ç›¸åŒçš„wordsï¼Œ<br>Problem 1: The summaries sometimes reproduce factual details inaccurately (e.g. Germany beat Argentina 3-2). This is especially common for rare or out-of-vocabulary words such as 2-0.<br>Problem 2: The summaries sometimes repeat themselves (e.g. Germany beat Germany beat Germany beatâ€¦)<br>Easier Copying with Pointer-Generator Networksã€‚è¿™ä¸ªè·Ÿ attention ä¸æ˜¯å¾ˆç›¸å…³ï¼Œç®€å•è¯´å°±æ˜¯In this way, the pointer-generator network is a best of both worlds, combining both extraction (pointing) and abstraction (generating).</p>
<p>To tackle Problem 2 (repetitive summaries), we use a technique called coverage. The idea is that we use the attention distribution to keep track of whatâ€™s been covered so far, and penalize the network for attending to same parts again.</p>
<p><strong>elmo (e l  mo)</strong><br>elmo äº§ç”Ÿä¸€ä¸ª embedding æ˜¯æ ¹æ® context äº§ç”Ÿçš„ã€‚<br>ELMo is a model generates embeddings for a word based on the context it appears thus generating slightly different embeddings for each of its occurrence.<br>ï¼ˆæ„Ÿè§‰ç†è§£ä¸€ä¸ªæ¦‚å¿µéƒ½æ˜¯ æ ¹æ®å…¶ for example è¿›è¡Œç†è§£çš„ï¼‰<br>For example, the word â€œplayâ€ in the sentence above using standard word embeddings encodes multiple meanings such as the verb to play or in the case of the sentence a theatre production. In standard word embeddings such as Glove, Fast Text or Word2Vec each instance of the word play would have the same representation.</p>
<p>å‚è€ƒblog:<br><a href="https://towardsdatascience.com/beyond-word-embeddings-part-2-word-vectors-nlp-modeling-from-bow-to-bert-4ebd4711d0ec" target="_blank" rel="noopener">https://towardsdatascience.com/beyond-word-embeddings-part-2-word-vectors-nlp-modeling-from-bow-to-bert-4ebd4711d0ec</a></p>
<p><a href="http://www.abigailsee.com/2017/04/16/taming-rnns-for-better-summarization.html" target="_blank" rel="noopener">http://www.abigailsee.com/2017/04/16/taming-rnns-for-better-summarization.html</a></p>
<p><a href="https://skymind.ai/wiki/word2vec" target="_blank" rel="noopener">https://skymind.ai/wiki/word2vec</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/22/Hyperparameter-optimization-for-machine-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/22/Hyperparameter-optimization-for-machine-learning/" itemprop="url">Hyper-parameter Optimization for Machine Learning</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-22T15:18:44+08:00">
                2019-05-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æœºå™¨å­¦ä¹ /" itemprop="url" rel="index">
                    <span itemprop="name">æœºå™¨å­¦ä¹ </span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/22/Hyperparameter-optimization-for-machine-learning/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/22/Hyperparameter-optimization-for-machine-learning/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Following are four common methods of hyperparameter optimization for machine learning in order of increasing efficiency:</p>
<ul>
<li>Manual</li>
<li>Grid search</li>
<li>Random search</li>
<li>Bayesian model-based optimization</li>
</ul>
<h2 id="Random-Search"><a href="#Random-Search" class="headerlink" title="Random Search"></a>Random Search</h2><p>First we will implement a common technique for hyperparameter optimization: random search. Each iteration, we choose a random set of model hyperparameters from a search space. Empirically, random search is very effective, returning nearly as good results as grid search with a significant reduction in time spent searching. However, it is still an uninformed method in the sense that it does not use past evaluations of the objective function to inform the choices it makes for the next evaluation.</p>
<p>Random search uses the following four parts, which also are used in Bayesian hyperparameter optimization:</p>
<ul>
<li>Domain: values over which to search</li>
<li>Optimization algorithm: pick the next values at random! (yes this qualifies as an algorithm)</li>
<li>Objective function to minimize: in this case our metric is cross validation ROC AUC</li>
<li>Results history that tracks the hyperparameters tried and the cross validation metric</li>
</ul>
<p>Random search can be implemented in the Scikit-Learn library using RandomizedSearchCV, however, because we are using Early Stopping (to determine the optimal number of estimators), we will have to implement the method ourselves (more practice!). This is pretty straightforward, and many of the ideas in random search will transfer over to Bayesian hyperparameter optimization.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Load libraries</span></span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> uniform</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model, datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> RandomizedSearchCV</span><br><span class="line"></span><br><span class="line"><span class="comment"># data and model</span></span><br><span class="line"><span class="comment"># Load data</span></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">X = iris.data</span><br><span class="line">y = iris.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create logistic regression</span></span><br><span class="line">logistic = linear_model.LogisticRegression()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Hyperparameter Search Space</span></span><br><span class="line"><span class="comment"># Create regularization penalty space</span></span><br><span class="line"><span class="comment"># å¦‚æœæ¯”è¾ƒå°‘ï¼Œé‚£ä¹ˆä¹…æšä¸¾å‡ºæ¥</span></span><br><span class="line">penalty = [<span class="string">'l1'</span>, <span class="string">'l2'</span>]</span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯æœ‰è§„å¾‹çš„è¿ç»­çš„ï¼Œå°±ä½¿ç”¨è¿™ç§æ–¹å¼åˆ—ä¸¾å‡ºæ¥</span></span><br><span class="line"><span class="comment"># Create regularization hyperparameter distribution using uniform distribution</span></span><br><span class="line">C = uniform(loc=<span class="number">0</span>, scale=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create hyperparameter options</span></span><br><span class="line">hyperparameters = dict(C=C, penalty=penalty)</span><br><span class="line"></span><br><span class="line"><span class="comment"># cv: cross validation, This approach involves randomly dividing the set of observations into k groups, or folds, of approximately equal size. The first fold is treated as a validation set, and the method is fit on the remaining k âˆ’ 1 folds.</span></span><br><span class="line"><span class="comment"># Create randomized search 5-fold cross validation and 100 iterations</span></span><br><span class="line">clf = RandomizedSearchCV(logistic, hyperparameters, random_state=<span class="number">1</span>, n_iter=<span class="number">100</span>, cv=<span class="number">5</span>, verbose=<span class="number">0</span>, n_jobs=<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fit randomized search</span></span><br><span class="line">best_model = clf.fit(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># View best hyperparameters</span></span><br><span class="line"><span class="comment"># æ³¨æ„è¿™ç§è·å–best params çš„æ–¹å¼</span></span><br><span class="line">print(<span class="string">'Best Penalty:'</span>, best_model.best_estimator_.get_params()[<span class="string">'penalty'</span>])</span><br><span class="line">print(<span class="string">'Best C:'</span>, best_model.best_estimator_.get_params()[<span class="string">'C'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Predict target vector</span></span><br><span class="line">best_model.predict(X)</span><br></pre></td></tr></table></figure>
<p><strong>grid search and random search</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> randint <span class="keyword">as</span> sp_randint</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> RandomizedSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line"></span><br><span class="line"><span class="comment"># get some data</span></span><br><span class="line">digits = load_digits()</span><br><span class="line">X, y = digits.data, digits.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># build a classifier</span></span><br><span class="line">clf = RandomForestClassifier(n_estimators=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Utility function to report best scores</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">report</span><span class="params">(results, n_top=<span class="number">3</span>)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_top + <span class="number">1</span>):</span><br><span class="line">        candidates = np.flatnonzero(results[<span class="string">'rank_test_score'</span>] == i)</span><br><span class="line">        <span class="keyword">for</span> candidate <span class="keyword">in</span> candidates:</span><br><span class="line">            print(<span class="string">"Model with rank: &#123;0&#125;"</span>.format(i))</span><br><span class="line">            print(<span class="string">"Mean validation score: &#123;0:.3f&#125; (std: &#123;1:.3f&#125;)"</span>.format(</span><br><span class="line">                  results[<span class="string">'mean_test_score'</span>][candidate],</span><br><span class="line">                  results[<span class="string">'std_test_score'</span>][candidate]))</span><br><span class="line">            print(<span class="string">"Parameters: &#123;0&#125;"</span>.format(results[<span class="string">'params'</span>][candidate]))</span><br><span class="line">            print(<span class="string">""</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># specify parameters and distributions to sample from</span></span><br><span class="line">param_dist = &#123;<span class="string">"max_depth"</span>: [<span class="number">3</span>, <span class="keyword">None</span>],</span><br><span class="line">              <span class="string">"max_features"</span>: sp_randint(<span class="number">1</span>, <span class="number">11</span>),</span><br><span class="line">              <span class="string">"min_samples_split"</span>: sp_randint(<span class="number">2</span>, <span class="number">11</span>),</span><br><span class="line">              <span class="string">"bootstrap"</span>: [<span class="keyword">True</span>, <span class="keyword">False</span>],</span><br><span class="line">              <span class="string">"criterion"</span>: [<span class="string">"gini"</span>, <span class="string">"entropy"</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># run randomized search</span></span><br><span class="line">n_iter_search = <span class="number">20</span></span><br><span class="line">random_search = RandomizedSearchCV(clf, param_distributions=param_dist,</span><br><span class="line">                                   n_iter=n_iter_search, cv=<span class="number">5</span>, iid=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line">start = time()</span><br><span class="line">random_search.fit(X, y)</span><br><span class="line">print(<span class="string">"RandomizedSearchCV took %.2f seconds for %d candidates"</span></span><br><span class="line">      <span class="string">" parameter settings."</span> % ((time() - start), n_iter_search))</span><br><span class="line">report(random_search.cv_results_)</span><br><span class="line"></span><br><span class="line"><span class="comment"># use a full grid over all parameters</span></span><br><span class="line">param_grid = &#123;<span class="string">"max_depth"</span>: [<span class="number">3</span>, <span class="keyword">None</span>],</span><br><span class="line">              <span class="string">"max_features"</span>: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">10</span>],</span><br><span class="line">              <span class="string">"min_samples_split"</span>: [<span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>],</span><br><span class="line">              <span class="string">"bootstrap"</span>: [<span class="keyword">True</span>, <span class="keyword">False</span>],</span><br><span class="line">              <span class="string">"criterion"</span>: [<span class="string">"gini"</span>, <span class="string">"entropy"</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># run grid search</span></span><br><span class="line">grid_search = GridSearchCV(clf, param_grid=param_grid, cv=<span class="number">5</span>, iid=<span class="keyword">False</span>)</span><br><span class="line">start = time()</span><br><span class="line">grid_search.fit(X, y)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"GridSearchCV took %.2f seconds for %d candidate parameter settings."</span></span><br><span class="line">      % (time() - start, len(grid_search.cv_results_[<span class="string">'params'</span>])))</span><br><span class="line">report(grid_search.cv_results_)</span><br></pre></td></tr></table></figure>
<p><strong>Random search without in-built function:</strong><br>write it yourself, more information.<br><a href="https://github.com/WillKoehrsen/hyperparameter-optimization/blob/master/Bayesian%20Hyperparameter%20Optimization%20of%20Gradient%20Boosting%20Machine.ipynb" target="_blank" rel="noopener">https://github.com/WillKoehrsen/hyperparameter-optimization/blob/master/Bayesian%20Hyperparameter%20Optimization%20of%20Gradient%20Boosting%20Machine.ipynb</a></p>
<h2 id="Bayesian-Hyperparameter-Optimization"><a href="#Bayesian-Hyperparameter-Optimization" class="headerlink" title="Bayesian Hyperparameter Optimization"></a>Bayesian Hyperparameter Optimization</h2><p>The one-sentence summary of Bayesian hyperparameter optimization is: build a probability model of the objective function and use it to select the most promising hyperparameters to evaluate in the true objective function.</p>
<p>The basic idea is: spend a little more time selecting the next hyperparameters in order to make fewer calls to the objective function. </p>
<p>In the case of hyperparameter optimization, the objective function is the validation error of a machine learning model using a set of hyperparameters. The aim is to find the hyperparameters that yield the lowest error on the validation set in the hope that these results generalize to the testing set. Evaluating the objective function is expensive because it requires training the machine learning model with a specific set of hyperparameters. Ideally, we want a method that can explore the search space while also limiting evaluations of poor hyperparameter choices. Bayesian hyperparameter tuning uses a continually updated probability model to â€œconcentrateâ€ on promising hyperparameters by reasoning from past results.</p>
<p>æœ‰å¾ˆå¤šåŸºäºè¿™ç§æ€æƒ³çš„å®ç°ï¼Œhyperopt åªæ˜¯å…¶ä¸­ä¸€ç§<br>There are several Bayesian optimization libraries in Python which differ in the algorithm for the surrogate of the objective function. In this article, we will work with Hyperopt, which uses the Tree Parzen Estimator (TPE) Other Python libraries include Spearmint (Gaussian Process surrogate) and SMAC (Random Forest Regression). </p>
<p>There are four parts to a Bayesian Optimization problem:</p>
<ul>
<li>Objective Function: what we want to minimize, in this case the validation error of a machine learning model with respect to the hyperparameters ï¼ˆåŸæ¥model ä¸­çš„ objective functionï¼‰</li>
<li>Domain Space: hyperparameter values to search over ï¼ˆè°ƒå‚ç©ºé—´ï¼‰</li>
<li>Optimization algorithm: method for constructing the surrogate model and choosing the next hyperparameter values to evaluate ï¼ˆloss å’Œè°ƒå‚ç©ºé—´çš„ æ–°çš„å…³ç³»ï¼‰</li>
<li>Result history: stored outcomes from evaluations of the objective function consisting of the hyperparameters and validation loss ï¼ˆresult æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ï¼‰</li>
</ul>
<p>å…¶ä¸­çš„ Bayesian Hyperparameter Optimization using Hyperoptæ˜¯å¯ä»¥å¥½å¥½å­¦ä¹ çš„ã€‚ data scientists  è¿™ç§ä¸œè¥¿æ›´åŠ è´´è¿‘äº data scientist çœŸçš„ã€‚<br>å‚è€ƒä¸€ï¼š<br><a href="https://github.com/WillKoehrsen/hyperparameter-optimization/blob/master/Bayesian%20Hyperparameter%20Optimization%20of%20Gradient%20Boosting%20Machine.ipynb" target="_blank" rel="noopener">https://github.com/WillKoehrsen/hyperparameter-optimization/blob/master/Bayesian%20Hyperparameter%20Optimization%20of%20Gradient%20Boosting%20Machine.ipynb</a></p>
<p>å‚è€ƒäºŒï¼š<br><a href="https://github.com/WillKoehrsen/hyperparameter-optimization/blob/master/Introduction%20to%20Bayesian%20Optimization%20with%20Hyperopt.ipynb" target="_blank" rel="noopener">https://github.com/WillKoehrsen/hyperparameter-optimization/blob/master/Introduction%20to%20Bayesian%20Optimization%20with%20Hyperopt.ipynb</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/21/Introduction-to-Natural-Language-Processing-for-Text/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/21/Introduction-to-Natural-Language-Processing-for-Text/" itemprop="url">Introduction to Natural Language Processing for Text</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-21T10:05:39+08:00">
                2019-05-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NLP/" itemprop="url" rel="index">
                    <span itemprop="name">NLP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/21/Introduction-to-Natural-Language-Processing-for-Text/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/21/Introduction-to-Natural-Language-Processing-for-Text/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Natural Language Processing is used to apply machine learning algorithms to text and speech. For example, we can use it to create systems like speech recognition, document summarization, machine translation, spam detection, named entity recognition, question answering, autocomplete, predictive typing and so on.</p>
<p>NLTK (Natural Language Toolkit) is a leading platform for building Python programs to work with human language data. It provides easy-to-use interfaces to many corpora and lexical resources. Also, it contains a suite of text processing libraries for classification, tokenization, stemming, tagging, parsing, and semantic reasoning. Best of all, NLTK is a free, open source, community-driven project.</p>
<p>In this article, weâ€™ll cover the following topics.<br>è¿™äº›åŠŸèƒ½éƒ½æ˜¯å¯ä»¥ä½¿ç”¨nltk è¿›è¡Œå®ç°çš„ã€‚<br><strong>text Lemmatization</strong> æ¯”å¦‚ï¼Œå•è¯â€œcarsâ€è¯å½¢è¿˜åŸåçš„å•è¯ä¸ºâ€œcarâ€ï¼Œå•è¯â€œateâ€è¯å½¢è¿˜åŸåçš„å•è¯ä¸ºâ€œeatâ€ã€‚</p>
<p><strong>Sentence Tokenization</strong><br>æ®µè½æˆå¥ã€‚<br>Sentence tokenization (also called sentence segmentation) is the problem of dividing a string of written language into its component sentences. The idea here looks very simple. In English and some other languages, we can split apart the sentences whenever we see a punctuation mark.ï¼ˆæ ‡ç‚¹ç¬¦å·ï¼‰</p>
<p><strong>Word Tokenization</strong><br>å¥å­æˆè¯ï¼Œé¢—ç²’åº¦å˜å¾—æ›´å°ã€‚<br>Word tokenization (also called word segmentation) is the problem of dividing a string of written language into its component words. In English and many other languages using some form of Latin alphabet, space is a good approximation of a word divider.</p>
<p><strong>Text Lemmatization and Stemming</strong><br>è¿™ç§æ“ä½œå¦‚æœè¢«è®¤ä¸ºæ˜¯ä¸€ç§ normalizationï¼Œé‚£ä¹ˆä¸€ä¸ªä¼˜ç‚¹å°±æ˜¯åŠ å¿«äº†è¿è¡Œçš„é€Ÿåº¦ã€‚ä»ä¸åŒçš„å½¢å¼åˆ°ç»Ÿä¸€çš„å½¢å¼ï¼Œè¿™å¯ä»¥è®¤ä¸ºå‡å°‘äº†å˜é‡ã€‚æ„Ÿè§‰è¿™ä¸ªæ›´åŠ æ¶‰åŠè¯­æ³•ï¼Œè¯­æ³•æ ‘ä¹‹ç±»çš„ä¸œè¥¿ã€‚<br>For grammatical reasons, documents can contain different forms of a word such as drive, drives, driving. Also, sometimes we have related words with a similar meaning, such as nation, national, nationality.</p>
<p>Stemming and lemmatization are special cases of normalization. However, they are different from each other.</p>
<blockquote>
<p>Stemming usually refers to a crude heuristic process that chops off the ends of words in the hope of achieving this goal correctly most of the time, and often includes the removal of derivational affixes.<br>Lemmatization usually refers to doing things properly with the use of a vocabulary and morphological analysis of words, normally aiming to remove inflectional endings only and to return the base or dictionary form of a word, which is known as the lemma.</p>
</blockquote>
<p><strong>Stop Words</strong><br>å› ä¸º stop wordså¾€å¾€æ˜¯å¸¦äº† noise rather than useful informationï¼Œæ‰€ä»¥è¿™ä¸ªæ˜¯è¦å»æ‰çš„ã€‚<br>Stop words are words which are filtered out before or after processing of text. When applying machine learning to text, these words can add a lot of noise. Thatâ€™s why we want to remove these irrelevant words.</p>
<p>stop words dictionary å¯ä»¥ç†è§£æˆä¸€ç§è¿‡æ»¤è¯è¡¨ï¼Œæ˜¯å¯ä»¥æ ¹æ®åº”ç”¨çš„ä¸åŒï¼Œç„¶å changeçš„ã€‚<br>Stop words usually refer to the most common words such as â€œandâ€, â€œtheâ€, â€œaâ€ in a language, but there is no single universal list of stopwords. The list of the stop words can change depending on your application.</p>
<p>åœ¨å­˜å‚¨ stopword çš„æ—¶å€™ä½¿ç”¨ set rather than list ä¸»è¦åŸå› æ˜¯  much faster than search operations in a set.<br>You might wonder why we convert our list into a set. Set is an abstract data type that can store unique values, without any particular order. The search operation in a set is much faster than the search operation in a list. For a small number of words, there is no big difference, but if you have a large number of words itâ€™s highly recommended to use the set type.</p>
<p><strong>Regex</strong><br>A kind of search pattern. A regular expression, regex, or regexp is a sequence of characters that define a search pattern. Letâ€™s see some basics.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">. - match any character <span class="keyword">except</span> newline</span><br><span class="line">\w - match word</span><br><span class="line">\d - match digit</span><br><span class="line">\s - match whitespace</span><br><span class="line">\W - match <span class="keyword">not</span> word</span><br><span class="line">\D - match <span class="keyword">not</span> digit</span><br><span class="line">\S - match <span class="keyword">not</span> whitespace</span><br><span class="line">[abc] - match any of a, b, <span class="keyword">or</span> c</span><br><span class="line">[^abc] - <span class="keyword">not</span> match a, b, <span class="keyword">or</span> c</span><br><span class="line">[a-g] - match a character between a &amp; g</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªè§£é‡Šè¯´æ˜äº†ä¸ºä»€ä¹ˆåœ¨æ­£åˆ™è¡¨è¾¾å¼ ä¸­ä½¿ç”¨ râ€â€ ä½œä¸ºä¸€ç§å‰ç¼€ã€‚å› ä¸ºæ­£åˆ™è¡¨è¾¾æ˜¯ä¸­ â€\â€œ çš„ä½¿ç”¨å’Œ python ä¸­çš„â€\â€ ä½¿ç”¨æœ‰å†²çªã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœåŠ ä¸Šäº† râ€â€ é‚£ä¹ˆè¿™ä¸ªå°±æ˜¯ä¸€ç§å®Œå…¨çš„ æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•äº†ã€‚</p>
<blockquote>
<p>Regular expressions use the backslash character (â€˜\â€™) to indicate special forms or to allow special characters to be used without invoking their special meaning. This collides with Pythonâ€™s usage of the same character for the same purpose in string literals; for example, to match a literal backslash, one might have to write â€˜\\â€˜ as the pattern string, because the regular expression must be \, and each backslash must be expressed as \ inside a regular Python string literal.<br>The solution is to use Pythonâ€™s raw string notation for regular expression patterns; backslashes are not handled in any special way in a string literal prefixed with â€˜râ€™. So râ€\nâ€ is a two-character string containing â€˜\â€™ and â€˜nâ€™, while â€œ\nâ€ is a one-character string containing a newline. Usually, patterns will be expressed in Python code using this raw string notation.</p>
</blockquote>
<p>An example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">sentence = <span class="string">"The development of snowboarding was inspired by skateboarding, sledding, surfing and skiing."</span></span><br><span class="line">pattern = <span class="string">r"[^\w]"</span></span><br><span class="line">print(re.sub(pattern, <span class="string">" "</span>, sentence))</span><br></pre></td></tr></table></figure>
<p><strong>Bag of words</strong></p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g38517f1imj20du0e4aa4.jpg" alt=""><br>Machine learning algorithms cannot work with raw text directly, we need to convert the text into vectors of numbers. This is called feature extraction.<br>The bag-of-words model is a popular and simple feature extraction technique used when we work with text. It describes the occurrence of each word within a document.</p>
<p>è¿™ä¸ªæ˜¯ bag  of wordsçš„â€ç‰¹ç‚¹â€œï¼š order or structure of words æ²¡æœ‰ä½“ç°å‡ºæ¥ã€‚<br>Any information about the order or structure of words is discarded. Thatâ€™s why itâ€™s called a bag of words. This model is trying to understand whether a known word occurs in a document, but donâ€™t know where is that word in the document.</p>
<p><strong>The intuition is that similar documents have similar contents</strong>. Also, from a content, we can learn something about the meaning of the document.</p>
<p>To use this model, we need to:</p>
<ul>
<li>Design a vocabulary of known words (also called tokens)</li>
<li>Choose a measure of the presence of known words</li>
</ul>
<p>1) æœ€ç®€å•çš„æ–¹å¼æ˜¯ â€œoccurrenceâ€ ï¼Œå¦‚æœå‡ºç°äº† æ ‡ä¸º1 å¦åˆ™æ ‡ä¸º0ï¼›<br>è¿™ç§æ˜¯æœ€ä¸ºç®€å•çš„ bag of words æœ€çš„æ–¹å¼ï¼Œè¿™å››ä¸ªæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚æ³¨æ„ä½“ä¼šã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g38p4a4jq9j20va08it8z.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g38p4hhhltj20o607uq3f.jpg" alt=""></p>
<p>The complexity of the bag-of-words model comes in deciding how to design the vocabulary of known words (tokens) and how to score the presence of known words.</p>
<p>bag of words ä¸­ä½¿ç”¨ â€œoccurrenceâ€ çš„æ–¹å¼çš„ç¼ºç‚¹ï¼šç¨€ç–çŸ©é˜µï¼ˆå½“dict å¾ˆå¤§çš„æ—¶å€™ï¼Œæ–‡ç« çš„ representationä¸­æœ‰ç›¸å½“æˆåˆ†çš„0ï¼‰ã€‚</p>
<p>In some cases, we can have a huge amount of data and in this cases, the length of the vector that represents a document might be thousands or millions of elements. Furthermore, each document may contain only a few of the known words in the vocabulary.<br>Therefore the vector representations will have a lot of zeros. These vectors which have a lot of zeros are called sparse vectors. They require more memory and computational resources.<br>We can decrease the number of the known words when using a bag-of-words model to decrease the required memory and computational resources. We can use the text cleaning techniques weâ€™ve already seen in this article before we create our bag-of-words model:</p>
<p>å‡å°‘ dictionary size çš„æ–¹å¼ã€‚</p>
<blockquote>
<p>Ignoring punctuation<br>Removing the stop words from our documents<br>Reducing the words to their base form (Text Lemmatization and Stemming)<br>Fixing misspelled words</p>
</blockquote>
<p>n-gram çš„æ€æƒ³æ˜¯å¾ˆå¹¿æ³›ï¼šé€šè¿‡ sequence of wordsï¼Œè¿™ä¸ªæ˜¯å¯ä»¥å¢åŠ æ–‡æœ¬çš„è¡¨è¾¾åŠ›çš„ã€‚<br>An n-gram is a sequence of a number of items (words, letter, numbers, digits, etc.). In the context of text corpora, n-grams typically refer to a sequence of words. A unigram is one word, a bigram is a sequence of two words, a trigram is a sequence of three words etc.</p>
<p>å…³äºå¦‚ä½•å» score the presence  of wordï¼š è¿™é‡Œæ˜¯æœ‰ä¸‰ç§æ–¹å¼çš„ã€‚<br>We saw one very simple approach - the binary approach (1 for presence, 0 for absence).<br>Some additional scoring methods are:<br>2) Counts. Count the number of times each word appears in a document.<br>3) Frequencies. Calculate the frequency that each word appears in document out of all the words in the document.</p>
<p>TF-IDF è¿™ä¸ªè¯­å¢ƒ æ˜¯ç›¸å¯¹äº frequency è€Œè¨€çš„ï¼Œå…³é”®è¯æ˜¯ä¸ä¸€å®šæœ‰ é¢‘ç‡æ‰€å†³å®šï¼Œè€Œä¸€äº› rarer or domain-specific words å¯èƒ½æ˜¯æ›´åŠ å¸¸è§çš„ã€‚<br>One problem with scoring word frequency is that the most frequent words in the document start to have the highest scores. These frequent words may not contain as much â€œinformational gainâ€ to the model compared with some rarer and domain-specific words. One approach to fix that problem is to penalize words that are frequent across all the documents. This approach is called TF-IDF.</p>
<p>TF-IDF çš„å…³é”®åœ¨äºä½“ç°äº†â€œè¯­æ–™åº“â€ã€‚<br>TF-IDF, short for term frequency-inverse document frequency is a statistical measure used to evaluate the importance of a word to a document in a collection or corpus.</p>
<p><strong>å‚è€ƒèµ„æ–™</strong><br><a href="https://towardsdatascience.com/introduction-to-natural-language-processing-for-text-df845750fb63" target="_blank" rel="noopener">https://towardsdatascience.com/introduction-to-natural-language-processing-for-text-df845750fb63</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/17/å‰‘æŒ‡offer-å…¶ä»–/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/17/å‰‘æŒ‡offer-å…¶ä»–/" itemprop="url">å‰‘æŒ‡offer-å…¶ä»–</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-17T20:41:38+08:00">
                2019-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/17/å‰‘æŒ‡offer-å…¶ä»–/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/17/å‰‘æŒ‡offer-å…¶ä»–/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™æ˜¯å‰‘æŒ‡offer ç³»åˆ—å››éƒ¨æ›²ä¸­çš„æœ€åä¸€éƒ¨ï¼Œå› ä¸ºæœ‰äº›ç®—æ³•é¢˜ç›®ç±»åˆ«æ•°é‡å¤ªå°‘å°±æ±‡æ€»åˆ°äº†â€å…¶ä»–â€œ, æ¯”å¦‚ä½è¿ç®—ã€æ­£åˆ™åŒ¹é…ç­‰ã€‚ç¬¬ä¸€éƒ¨å…³äº<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87Offer-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%95%B0%E7%BB%84/" target="_blank" rel="noopener">å­—ç¬¦ä¸²å’Œæ•°ç»„</a>ï¼Œç¬¬äºŒéƒ¨æ˜¯<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87Offer-%E6%A0%88-%E9%98%9F%E5%88%97-%E9%93%BE%E8%A1%A8%E5%92%8C%E6%A0%91/" target="_blank" rel="noopener">æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨å’Œæ ‘</a>ï¼Œ ç¬¬ä¸‰éƒ¨<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87offer-%E9%80%92%E5%BD%92-%E5%9B%9E%E6%BA%AF%E5%92%8C%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" target="_blank" rel="noopener">é€’å½’ã€å›æº¯å’ŒåŠ¨æ€è§„åˆ’</a>ã€‚</p>
<ul>
<li>äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å‡ºè¯¥æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°ã€‚å…¶ä¸­è´Ÿæ•°ç”¨è¡¥ç è¡¨ç¤ºã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">NumberOf1</span><span class="params">(self, n)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> n ==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    counts =<span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> n&gt; <span class="number">0</span>:</span><br><span class="line">        counts =self.number_of_positive(n)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        n = abs(n)<span class="number">-1</span></span><br><span class="line">        counts =<span class="number">32</span> - self.number_of_positive(n)</span><br><span class="line">    <span class="keyword">return</span> counts</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">number_of_positive</span><span class="params">(self, n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n ==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    counts =<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n:</span><br><span class="line">        counts += (n&amp;<span class="number">1</span>)</span><br><span class="line">        n =n &gt;&gt;<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure></p>
</blockquote>
<ul>
<li>æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</li>
</ul>
<blockquote>
<p>ç»™å®šä¸€ä¸ªdoubleç±»å‹çš„æµ®ç‚¹æ•°baseå’Œintç±»å‹çš„æ•´æ•°exponentã€‚æ±‚baseçš„exponentæ¬¡æ–¹ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">è¿™ä¸ªå°±æ˜¯è¾¹ç•Œæ¡ä»¶æ¯”è¾ƒå¤šè€Œå·²ï¼Œéœ€è¦åˆ†åˆ«åˆ¤æ–­ base å’Œ exponent çš„æ­£è´Ÿ</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Power</span><span class="params">(self, base, exponent)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> base ==<span class="number">0</span> <span class="keyword">and</span> exponent != <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> base != <span class="number">0</span> <span class="keyword">and</span> exponent ==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    flag =<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> base &lt;=<span class="number">0</span> <span class="keyword">and</span> (exponent %<span class="number">2</span> ==<span class="number">1</span>):</span><br><span class="line">        flag =<span class="number">-1</span></span><br><span class="line">    base = abs(base)</span><br><span class="line">    result =<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> exponent &gt; <span class="number">0</span>:</span><br><span class="line">        reverse =<span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        reverse  =<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    exponent =abs(exponent)</span><br><span class="line">    <span class="keyword">if</span> exponent %<span class="number">2</span> ==<span class="number">0</span>:</span><br><span class="line">        result = base * base</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(exponent//<span class="number">2</span> <span class="number">-1</span>):</span><br><span class="line">            result = result * result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result = base * base</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(exponent//<span class="number">2</span> <span class="number">-1</span>):</span><br><span class="line">            result = result * result</span><br><span class="line">        result = result * base</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> reverse:</span><br><span class="line">        result = <span class="number">1.0</span>/ result</span><br><span class="line">    <span class="keyword">return</span> result* flag</span><br></pre></td></tr></table></figure>
<ul>
<li>æœ€å°çš„Kä¸ªæ•°</li>
</ul>
<blockquote>
<p>è¾“å…¥nä¸ªæ•´æ•°ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„Kä¸ªæ•°ã€‚ä¾‹å¦‚è¾“å…¥4,5,1,6,2,7,3,8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1,2,3,4,ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># æƒ³è¯´çš„æ˜¯æ—¢ç„¶æ˜¯ä½¿ç”¨è¿™ç§å¼€æºçš„åº“å‡½æ•° é‚£ä¹ˆå°±è®°ä½è¿™ç§å‡½æ•°åå­—</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetLeastNumbers_Solution</span><span class="params">(self, tinput, k)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> len(tinput) &lt;k:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">import</span> heapq</span><br><span class="line">    </span><br><span class="line">    res = heapq.nsmallest(k, tinput)</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼ˆä»1åˆ°næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼‰</li>
</ul>
<blockquote>
<p>æ±‚å‡º1~13çš„æ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°,å¹¶ç®—å‡º100~1300çš„æ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼Ÿä¸ºæ­¤ä»–ç‰¹åˆ«æ•°äº†ä¸€ä¸‹1~13ä¸­åŒ…å«1çš„æ•°å­—æœ‰1ã€10ã€11ã€12ã€13å› æ­¤å…±å‡ºç°6æ¬¡,ä½†æ˜¯å¯¹äºåé¢é—®é¢˜ä»–å°±æ²¡è¾™äº†ã€‚ACMerå¸Œæœ›ä½ ä»¬å¸®å¸®ä»–,å¹¶æŠŠé—®é¢˜æ›´åŠ æ™®éåŒ–,å¯ä»¥å¾ˆå¿«çš„æ±‚å‡ºä»»æ„éè´Ÿæ•´æ•°åŒºé—´ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼ˆä»1 åˆ° n ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼‰ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># æ•°å­—çš„åŸºæœ¬ç»“æ„åˆ†æˆ  weights +working_num + n%base è¿™ä¸‰ä¸ªéƒ¨åˆ†</span></span><br><span class="line">    <span class="comment"># ç„¶åä¸€ä¸ªwhile å¾ªç¯æ˜¯å¤„ç†ä¸€ä¸ªæ•°å­—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">NumberOf1Between1AndN_Solution</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> n &lt;<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        num =n</span><br><span class="line">        counts =<span class="number">0</span></span><br><span class="line">        base =<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> num:</span><br><span class="line">            weights =num%<span class="number">10</span></span><br><span class="line">            num = num//<span class="number">10</span></span><br><span class="line">            counts += base * num</span><br><span class="line">            <span class="keyword">if</span> weights ==<span class="number">1</span>:</span><br><span class="line">                counts += (n%base) +<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> weights &gt;<span class="number">1</span>:</span><br><span class="line">                counts += base</span><br><span class="line">            base *=<span class="number">10</span></span><br><span class="line">        <span class="keyword">return</span> counts </span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">- æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°</span><br><span class="line"></span><br><span class="line">&gt; è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚ä¾‹å¦‚è¾“å…¥æ•°ç»„&#123;<span class="number">3</span>ï¼Œ<span class="number">32</span>ï¼Œ<span class="number">321</span>&#125;ï¼Œåˆ™æ‰“å°å‡ºè¿™ä¸‰ä¸ªæ•°å­—èƒ½æ’æˆçš„æœ€å°æ•°å­—ä¸º<span class="number">321323</span>ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PrintMinNumber</span><span class="params">(self, numbers)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        </span><br><span class="line">        sorted_list =sorted(numbers, cmp= <span class="keyword">lambda</span> a,b :cmp(str(a)+ str(b), str(b)+str(a)))</span><br><span class="line">        <span class="comment"># è¿™ä¸ªæ—¶å€™å·²ç»æ’å¥½åºï¼Œç„¶ååªè¦ä¸€ä¸ªä¸ªè¿æ¥èµ·æ¥å°±è¡Œäº†</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(map(str, sorted_list))</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸‘æ•°</li>
</ul>
<blockquote>
<p>æŠŠåªåŒ…å«è´¨å› å­2ã€3å’Œ5çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚ä¾‹å¦‚6ã€8éƒ½æ˜¯ä¸‘æ•°ï¼Œä½†14ä¸æ˜¯ï¼Œå› ä¸ºå®ƒåŒ…å«è´¨å› å­7ã€‚ ä¹ æƒ¯ä¸Šæˆ‘ä»¬æŠŠ1å½“åšæ˜¯ç¬¬ä¸€ä¸ªä¸‘æ•°ã€‚æ±‚æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºçš„ç¬¬Nä¸ªä¸‘æ•°ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># åœ¨è¿›è¡Œ append æ“ä½œçš„æ—¶å€™å»é‡ï¼Œ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetUglyNumber_Solution</span><span class="params">(self, index)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> index &lt;<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    list1 =[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># æ„å‘³ç€åªèƒ½æ˜¯ append() æ“ä½œäº†</span></span><br><span class="line">    i, j, k =<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> len(list1) &lt; index:</span><br><span class="line">        num =min( list1[i] *<span class="number">2</span>, list1[j]*<span class="number">3</span>, list1[k] *<span class="number">5</span>)</span><br><span class="line">        <span class="keyword">if</span> num &gt; list1[<span class="number">-1</span>]:</span><br><span class="line">            list1.append(num)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> num ==list1[i] *<span class="number">2</span>:</span><br><span class="line">            i +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> num ==list1[j] *<span class="number">3</span>:</span><br><span class="line">            j +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            k +=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> list1[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</li>
</ul>
<blockquote>
<p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…æ‹¬â€™.â€™å’Œâ€™<em>â€˜çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¨¡å¼ä¸­çš„å­—ç¬¦â€™.â€™è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œâ€™</em>â€˜è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°ä»»æ„æ¬¡ï¼ˆåŒ…å«0æ¬¡ï¼‰ã€‚ åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€aaaâ€ä¸æ¨¡å¼â€a.aâ€å’Œâ€ab<em>ac</em>aâ€åŒ¹é…ï¼Œä½†æ˜¯ä¸â€aa.aâ€å’Œâ€ab*aâ€å‡ä¸åŒ¹é…</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># s, patternéƒ½æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"># æ€æƒ³å°±æ˜¯ dp, è½¬æ¢æ–¹ç¨‹ dp[i][j] i è¡¨ç¤º string çš„index jè¡¨ç¤º pattern çš„index</span></span><br><span class="line"><span class="comment"># æœ‰ä¸‰ç§è½¬æ¢æ–¹ç¨‹ dp[i][j] ==dp[i-1][j-1] or dp[i][j] =dp[i][j-2] or dp[i][j-1] </span></span><br><span class="line"><span class="comment"># https://www.youtube.com/watch?v=l3hda49XcDE å¿ƒä¸­ä¸€å®šè¦æœ‰è¿™ä¸ªè¡¨æ ¼, a[i][j] è¿™ä¸ªæ›´åƒæ˜¯ä¸€ç§æŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">match</span><span class="params">(self, s, pattern)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(s) ==<span class="number">0</span> <span class="keyword">and</span> len(pattern) ==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    dp =[[ <span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(pattern) +<span class="number">1</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(len(s) +<span class="number">1</span>)]</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] =<span class="keyword">True</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, len(pattern)+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> pattern[j<span class="number">-1</span>] ==<span class="string">"*"</span>:</span><br><span class="line">            </span><br><span class="line">            dp[<span class="number">0</span>][j] =dp[<span class="number">0</span>][j<span class="number">-2</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(s)+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, len(pattern)+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> pattern[j<span class="number">-1</span>] ==s[i<span class="number">-1</span>] <span class="keyword">or</span> pattern[j<span class="number">-1</span>] ==<span class="string">"."</span>:</span><br><span class="line">                dp[i][j] =dp[i<span class="number">-1</span>][j<span class="number">-1</span>]</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">elif</span> pattern[j<span class="number">-1</span>] ==<span class="string">"*"</span>:</span><br><span class="line">                </span><br><span class="line">                dp[i][j] =dp[i][j<span class="number">-2</span>]</span><br><span class="line">                <span class="keyword">if</span> s[i<span class="number">-1</span>] ==pattern[j<span class="number">-2</span>] <span class="keyword">or</span> pattern[j<span class="number">-2</span>] ==<span class="string">"."</span>:</span><br><span class="line">                    dp[i][j] =dp[i][j] <span class="keyword">or</span> dp[i<span class="number">-1</span>][j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] =<span class="keyword">False</span></span><br><span class="line">    <span class="keyword">return</span> dp[len(s)][len(pattern)]</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•°æ®æµä¸­çš„ä¸­ä½æ•°</li>
</ul>
<blockquote>
<p>å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨Insert()æ–¹æ³•è¯»å–æ•°æ®æµï¼Œä½¿ç”¨GetMedian()æ–¹æ³•è·å–å½“å‰è¯»å–æ•°æ®çš„ä¸­ä½æ•°ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å¯¹äºæ•°æ®æµ è¿™ä¸ªåº”è¯¥æ˜¯ç¬¬äºŒæ¬¡æ¥è§¦äº†ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªå…¨å±€å˜é‡</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># è™½ç„¶çŸ¥é“è¿™ä¸ªä½¿ç”¨ å †çš„æ€æƒ³æ˜¯æ›´ä¼˜çš„ï¼Œæœç´¢æ—¶é—´å¯ä»¥Oï¼ˆ1ï¼‰ï¼Œ å †çš„è°ƒæ•´æ˜¯ O(log n)</span></span><br><span class="line">    <span class="comment"># ä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆå¾ˆå¥½çš„æ•™ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ²¡æœ‰å­¦ä¼šå•Š</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.list1 = []</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Insert</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        self.list1.append(num)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">GetMedian</span><span class="params">(self, ch)</span>:</span></span><br><span class="line">        length = len(self.list1)</span><br><span class="line">        <span class="comment"># æˆ‘è®°å¾—æœ‰ä¸€ä¸ªæ›´åŠ å¿«ä¸€äº›</span></span><br><span class="line">        self.list1 = sorted(self.list1)</span><br><span class="line">        <span class="keyword">if</span> length % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> (self.list1[length // <span class="number">2</span>] + self.list1[length // <span class="number">2</span> - <span class="number">1</span>]) / <span class="number">2.0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.list1[length // <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</li>
</ul>
<blockquote>
<p>ç»™å®šä¸€ä¸ªæ•°ç»„å’Œæ»‘åŠ¨çª—å£çš„å¤§å°ï¼Œæ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œæ•°å€¼çš„æœ€å¤§å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥æ•°ç»„{2,3,4,2,6,2,5,1}åŠæ»‘åŠ¨çª—å£çš„å¤§å°3ï¼Œé‚£ä¹ˆä¸€å…±å­˜åœ¨6ä¸ªæ»‘åŠ¨çª—å£ï¼Œä»–ä»¬çš„æœ€å¤§å€¼åˆ†åˆ«ä¸º{4,4,6,6,6,5}ï¼› é’ˆå¯¹æ•°ç»„{2,3,4,2,6,2,5,1}çš„æ»‘åŠ¨çª—å£æœ‰ä»¥ä¸‹6ä¸ªï¼š {[2,3,4],2,6,2,5,1}ï¼Œ {2,[3,4,2],6,2,5,1}ï¼Œ {2,3,[4,2,6],2,5,1}ï¼Œ {2,3,4,[2,6,2],5,1}ï¼Œ {2,3,4,2,[6,2,5],1}ï¼Œ {2,3,4,2,6,[2,5,1]}ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># æœ€ç®€å•çš„æ¨¡æ‹Ÿæ»‘åŠ¨çª—å£ çš„è¿‡ç¨‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxInWindows</span><span class="params">(self, num, size)</span>:</span></span><br><span class="line">    slip =[]</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> num <span class="keyword">or</span> len(num) &lt; size <span class="keyword">or</span> size ==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(num) -size +<span class="number">1</span>):</span><br><span class="line">        slip.append(max(num[i:i+size]))</span><br><span class="line">    <span class="keyword">return</span> slip</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/17/å‰‘æŒ‡offer-é€’å½’-å›æº¯å’ŒåŠ¨æ€è§„åˆ’/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/17/å‰‘æŒ‡offer-é€’å½’-å›æº¯å’ŒåŠ¨æ€è§„åˆ’/" itemprop="url">å‰‘æŒ‡offer-é€’å½’ã€å›æº¯å’ŒåŠ¨æ€è§„åˆ’</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-17T20:40:33+08:00">
                2019-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/17/å‰‘æŒ‡offer-é€’å½’-å›æº¯å’ŒåŠ¨æ€è§„åˆ’/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/17/å‰‘æŒ‡offer-é€’å½’-å›æº¯å’ŒåŠ¨æ€è§„åˆ’/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™æ˜¯å‰‘æŒ‡offer ç³»åˆ—å››éƒ¨æ›²ä¸­çš„ç¬¬ä¸‰éƒ¨ï¼šé€’å½’ã€å›æº¯å’ŒåŠ¨æ€è§„åˆ’ã€‚ç¬¬ä¸€éƒ¨å…³äº<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87Offer-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%95%B0%E7%BB%84/" target="_blank" rel="noopener">å­—ç¬¦ä¸²å’Œæ•°ç»„</a>ï¼Œç¬¬äºŒéƒ¨æ˜¯<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87Offer-%E6%A0%88-%E9%98%9F%E5%88%97-%E9%93%BE%E8%A1%A8%E5%92%8C%E6%A0%91/" target="_blank" rel="noopener">æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨å’Œæ ‘</a>ï¼Œ æœ€åä¸€éƒ¨åˆ†åœ¨<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87offer-%E5%85%B6%E4%BB%96/" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p>
<ul>
<li>æ–æ³¢é‚£å¥‘æ•°åˆ—</li>
</ul>
<blockquote>
<p>å¤§å®¶éƒ½çŸ¥é“æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œç°åœ¨è¦æ±‚è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¯·ä½ è¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ï¼ˆä»0å¼€å§‹ï¼Œç¬¬0é¡¹ä¸º0ï¼‰ã€‚<br>n&lt;=39</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># python ä¸­list çš„åˆå§‹åŒ–ï¼Œæœ€å¼€å§‹çš„æ˜¯ä»0 å¼€å§‹ï¼Œæ‰€ä»¥æ˜¯éœ€è¦å¤šè¿›è¡Œä¸€ä¸ªåˆå§‹åŒ–çš„</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fibonacci</span><span class="params">(self, n)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> n ==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> n ==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    arr = [<span class="number">0</span>]*(n+<span class="number">1</span>)</span><br><span class="line">    arr[<span class="number">0</span>] =<span class="number">0</span></span><br><span class="line">    arr[<span class="number">1</span>] =<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n+<span class="number">1</span>):</span><br><span class="line">        arr[i] =arr[i<span class="number">-1</span>] + arr[i<span class="number">-2</span>]</span><br><span class="line">    <span class="keyword">return</span> arr[n]</span><br></pre></td></tr></table></figure>
<ul>
<li>è·³å°é˜¶</li>
</ul>
<blockquote>
<p>ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ï¼ˆå…ˆåæ¬¡åºä¸åŒç®—ä¸åŒçš„ç»“æœï¼‰ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jumpFloor</span><span class="params">(self, number)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> number ==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> number ==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    </span><br><span class="line">    arr =[<span class="number">0</span>]*(number +<span class="number">1</span>)</span><br><span class="line">    arr[<span class="number">1</span>] =<span class="number">1</span></span><br><span class="line">    arr[<span class="number">2</span>] =<span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>, number +<span class="number">1</span>):</span><br><span class="line">        arr[i] =arr[i<span class="number">-1</span>] + arr[i<span class="number">-2</span>]</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> arr[number]</span><br></pre></td></tr></table></figure>
<ul>
<li>è·³å°é˜¶2</li>
</ul>
<blockquote>
<p>ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§â€¦â€¦å®ƒä¹Ÿå¯ä»¥è·³ä¸Šnçº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">åœ¨ä½¿ç”¨ forå¾ªç¯çš„æ—¶å€™ï¼Œæ³¨æ„ range() è¿™ç§å–å€¼ï¼Œç©¶ç«Ÿæ˜¯ä½¿ç”¨ range() ä½œä¸ºæ¬¡æ•°çš„è®¡é‡ï¼›</span></span><br><span class="line"><span class="string">è¿˜æ˜¯è¦ä½¿ç”¨range ä¸­çš„index ã€‚ä¸¤è€…æ˜¯ä¸ç›¸åŒçš„æ“ä½œï¼Œå°¤å…¶æ˜¯å¯¹äºå‰åçš„å–å€¼ã€‚</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jumpFloorII</span><span class="params">(self, number)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> number ==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    nums =<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(number<span class="number">-1</span>):</span><br><span class="line">        nums = nums *<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>
<ul>
<li>çŸ©å½¢è¦†ç›–</li>
</ul>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥ç”¨2<em>1çš„å°çŸ©å½¢æ¨ªç€æˆ–è€…ç«–ç€å»è¦†ç›–æ›´å¤§çš„çŸ©å½¢ã€‚è¯·é—®ç”¨nä¸ª2</em>1çš„å°çŸ©å½¢æ— é‡å åœ°è¦†ç›–ä¸€ä¸ª2*nçš„å¤§çŸ©å½¢ï¼Œæ€»å…±æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Ÿ</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">æ—¢ç„¶ç»“æœåªæ˜¯æœ€åä¸€ä¸ªè§£ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦ä¿å­˜ä¸­é—´å˜é‡ï¼Œæ‰€ä»¥åªæ˜¯ï¼Œ</span></span><br><span class="line"><span class="string">æ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä»Oï¼ˆnï¼‰ -&gt; O(1) ï¼Œè¿™ä¸ªæ˜¯è¶…çº§niceçš„</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rectCover</span><span class="params">(self, number)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> number &lt;=<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> number &lt;=<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> number</span><br><span class="line">        <span class="comment"># åªæ˜¯ä¸¤ä¸ªå˜é‡ç½¢äº†</span></span><br><span class="line">        a ,b = <span class="number">1</span>,<span class="number">2</span></span><br><span class="line">        <span class="keyword">while</span> number &gt;<span class="number">2</span>:</span><br><span class="line">            a, b = b, a+b</span><br><span class="line">            number -=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> b</span><br></pre></td></tr></table></figure>
<ul>
<li>æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</li>
</ul>
<blockquote>
<p>åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œå’Œnåˆ—çš„æ–¹æ ¼ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡0,0çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œæ¯ä¸€æ¬¡åªèƒ½å‘å·¦ï¼Œå³ï¼Œä¸Šï¼Œä¸‹å››ä¸ªæ–¹å‘ç§»åŠ¨ä¸€æ ¼ï¼Œä½†æ˜¯ä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºkçš„æ ¼å­ã€‚ ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ï¼ˆ35,37ï¼‰ï¼Œå› ä¸º3+5+3+7 = 18ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ï¼ˆ35,38ï¼‰ï¼Œå› ä¸º3+5+3+8 = 19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿè¾¾åˆ°å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">movingCount</span><span class="params">(self, threshold ,rows, cols)</span>:</span></span><br><span class="line">        visited =[<span class="keyword">False</span>] *(rows*cols)</span><br><span class="line">        count =self.movingCountCore(threshold, rows, cols, <span class="number">0</span>, <span class="number">0</span>, visited)</span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">movingCountCore</span><span class="params">(self, threshold, rows, cols, row, col, visited)</span>:</span></span><br><span class="line">        count =<span class="number">0</span></span><br><span class="line">        <span class="comment"># å°±æ˜¯è¿™ä¸ªè®¿é—®è®°å½•æ˜¯éœ€è¦è¿›è¡Œå˜åŒ–çš„ï¼Œ å¦‚æœæ˜¯false ï¼Œç„¶åè®¿é—®ä¹‹å æ˜¯éœ€è¦è®¾ç½®ä¸º trueçš„</span></span><br><span class="line">        <span class="keyword">if</span> self.check(threshold, rows, cols, row, col, visited):</span><br><span class="line">            visited[row*cols +col] =<span class="keyword">True</span></span><br><span class="line">            count = <span class="number">1</span>+ self.movingCountCore(threshold, rows, cols, row, col<span class="number">-1</span>, visited)+\</span><br><span class="line">                    self.movingCountCore(threshold, rows, cols, row, col +<span class="number">1</span>, visited) + \</span><br><span class="line">                    self.movingCountCore(threshold, rows, cols, row+<span class="number">1</span>, col, visited) + \</span><br><span class="line">                    self.movingCountCore(threshold, rows, cols, row<span class="number">-1</span>, col, visited)</span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">(self, threshold, rows, cols, row, col, visited)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> row&gt;=<span class="number">0</span> <span class="keyword">and</span> row&lt; rows <span class="keyword">and</span> col&gt;=<span class="number">0</span> <span class="keyword">and</span> col&lt;cols <span class="keyword">and</span> self.judge(threshold, row, col) <span class="keyword">and</span> <span class="keyword">not</span> visited[row*cols +col]:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">judge</span><span class="params">(self, threshold, i, j)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> sum(map(int, str(i)+str(j))) &lt;= threshold:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">```            </span><br><span class="line"></span><br><span class="line">- çŸ©é˜µä¸­çš„è·¯å¾„</span><br><span class="line"></span><br><span class="line">&gt; è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚è·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„ä¸€ä¸ªæ ¼å­å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ï¼Œå‘å³ï¼Œå‘ä¸Šï¼Œå‘ä¸‹ç§»åŠ¨ä¸€ä¸ªæ ¼å­ã€‚å¦‚æœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µä¸­çš„æŸä¸€ä¸ªæ ¼å­ï¼Œåˆ™ä¹‹åä¸èƒ½å†æ¬¡è¿›å…¥è¿™ä¸ªæ ¼å­ã€‚ ä¾‹å¦‚ a b c e s f c s a d e e è¿™æ ·çš„<span class="number">3</span> X <span class="number">4</span> çŸ©é˜µä¸­åŒ…å«ä¸€æ¡å­—ç¬¦ä¸²<span class="string">"bcced"</span>çš„è·¯å¾„ï¼Œä½†æ˜¯çŸ©é˜µä¸­ä¸åŒ…å«<span class="string">"abcb"</span>è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­ä¹‹åï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># é€’å½’ è¿™ä¸ªæ˜¯ true or false åˆ¤æ–­ç±»å‹çš„ã€‚</span></span><br><span class="line">    <span class="comment"># æ€è·¯ï¼šå…ˆæ˜¯ rows* cols è¿™æ ·çš„å…¨éƒ¨éå†</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasPath</span><span class="params">(self, matrix, rows, cols, path)</span>:</span></span><br><span class="line">        <span class="comment"># å¦‚æœä½¿ç”¨ [ for _in range(rows) ] for _ in range(cols) ï¼Œ è¿™ä¸ªæ˜¯æœ‰ç»“æ„çš„ rows* cols</span></span><br><span class="line">        assist =[<span class="keyword">True</span>] * rows*cols</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(cols):</span><br><span class="line">                <span class="keyword">if</span> self.rightPath( matrix, rows, cols, i, j, path, assist):</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rightPath</span><span class="params">(self, matrix, rows, cols, i, j, path, assist)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> path:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        index =i*cols +j</span><br><span class="line">        <span class="keyword">if</span> i&lt;<span class="number">0</span> <span class="keyword">or</span> i&gt;= rows <span class="keyword">or</span> j&lt;<span class="number">0</span> <span class="keyword">or</span> j&gt;=cols <span class="keyword">or</span> matrix[index]!=path[<span class="number">0</span>] <span class="keyword">or</span> assist[index] ==<span class="keyword">False</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        assist[index] =<span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> (self.rightPath(matrix, rows, cols, i+<span class="number">1</span>, j, path[<span class="number">1</span>:], assist) <span class="keyword">or</span></span><br><span class="line">            self.rightPath(matrix, rows, cols, i<span class="number">-1</span>, j, path[<span class="number">1</span>:], assist)<span class="keyword">or</span></span><br><span class="line">            self.rightPath(matrix, rows, cols, i, j<span class="number">-1</span>, path[<span class="number">1</span>:], assist) <span class="keyword">or</span></span><br><span class="line">            self.rightPath(matrix, rows, cols, i, j+<span class="number">1</span>, path[<span class="number">1</span>:], assist)):</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        assist[index] =<span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/17/å‰‘æŒ‡Offer-æ ˆ-é˜Ÿåˆ—-é“¾è¡¨å’Œæ ‘/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/17/å‰‘æŒ‡Offer-æ ˆ-é˜Ÿåˆ—-é“¾è¡¨å’Œæ ‘/" itemprop="url">å‰‘æŒ‡Offer-æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨å’Œæ ‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-17T20:35:57+08:00">
                2019-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/17/å‰‘æŒ‡Offer-æ ˆ-é˜Ÿåˆ—-é“¾è¡¨å’Œæ ‘/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/17/å‰‘æŒ‡Offer-æ ˆ-é˜Ÿåˆ—-é“¾è¡¨å’Œæ ‘/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™æ˜¯å‰‘æŒ‡offer ç³»åˆ—å››éƒ¨æ›²ä¸­çš„ç¬¬äºŒéƒ¨ï¼šæ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨å’Œæ ‘ã€‚ç¬¬ä¸€éƒ¨å…³äº<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87Offer-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%95%B0%E7%BB%84/" target="_blank" rel="noopener">å­—ç¬¦ä¸²å’Œæ•°ç»„</a>ï¼Œç¬¬ä¸‰éƒ¨æ˜¯<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87offer-%E9%80%92%E5%BD%92-%E5%9B%9E%E6%BA%AF%E5%92%8C%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" target="_blank" rel="noopener">é€’å½’ã€å›æº¯å’ŒåŠ¨æ€è§„åˆ’</a>ï¼Œ æœ€åä¸€éƒ¨åˆ†åœ¨<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87offer-%E5%85%B6%E4%BB%96/" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p>
<ul>
<li>ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼ŒæŒ‰é“¾è¡¨å€¼ä»å°¾åˆ°å¤´çš„é¡ºåºè¿”å›ä¸€ä¸ªArrayListã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class ListNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># è¿”å›ä»å°¾éƒ¨åˆ°å¤´éƒ¨çš„åˆ—è¡¨å€¼åºåˆ—ï¼Œä¾‹å¦‚[1,2,3]</span></span><br><span class="line">        <span class="comment"># += , -= è¿™ä¸ªéƒ½æ˜¯åŒä¸€ç§ç±»å‹çš„</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">printListFromTailToHead</span><span class="params">(self, listNode)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            arraylist =[]</span><br><span class="line">            head =listNode</span><br><span class="line">            <span class="keyword">while</span> head !=<span class="keyword">None</span>:</span><br><span class="line">                arraylist += [head.val]</span><br><span class="line">                <span class="comment"># è¿™ä¸ªåœ¨è¿™é‡Œç­‰æ•ˆäº arraylist.append(head.val)</span></span><br><span class="line">                head = head.next</span><br><span class="line">            <span class="keyword">return</span> arraylist[::<span class="number">-1</span>]</span><br><span class="line">            </span><br><span class="line">```     </span><br><span class="line">        </span><br><span class="line">- é‡å»ºäºŒå‰æ ‘</span><br><span class="line"></span><br><span class="line">&gt; è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·é‡å»ºå‡ºè¯¥äºŒå‰æ ‘ã€‚å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥å‰åºéå†åºåˆ—&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>&#125;å’Œä¸­åºéå†åºåˆ—&#123;<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">6</span>&#125;ï¼Œåˆ™é‡å»ºäºŒå‰æ ‘å¹¶è¿”å›ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class TreeNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.left = None</span></span><br><span class="line">    <span class="comment">#         self.right = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># è¿”å›æ„é€ çš„TreeNodeæ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment"># éœ€è¦ç†è§£åœ¨å‰åºéå†ä¸­æ˜¯å…ˆéå†å·¦å­æ ‘çš„ï¼Œå¹¶ä¸”ä¸­åºå’Œå‰åºä¸­å·¦å­æ ‘çš„ä¸ªæ•°æ˜¯ä¸ä¼šå˜çš„</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">reConstructBinaryTree</span><span class="params">(self, pre, tin)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            <span class="keyword">if</span> len(pre) ==<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">            root =TreeNode(pre[<span class="number">0</span>])</span><br><span class="line">            <span class="comment"># è¿™ä¸ªindex å‡½æ•°æ˜¯éœ€è¦è®°ä½çš„</span></span><br><span class="line">            index =tin.index(pre[<span class="number">0</span>])</span><br><span class="line">            <span class="comment"># è¿™é‡Œä¹Ÿæ˜¯éœ€è¦ä¿®æ”¹çš„</span></span><br><span class="line">            <span class="comment"># pre å’Œ tinéƒ½æ˜¯éœ€è¦ç©ºå‡ºä¸€ä¸ª root.value çš„ä½ç½®ï¼Œåªä¸è¿‡é€‰æ‹©ç©ºçš„ä½ç½®æ˜¯ä¸ä¸€æ ·çš„</span></span><br><span class="line">            root.left = self.reConstructBinaryTree(pre[<span class="number">1</span>:index+<span class="number">1</span>], tin[:index])</span><br><span class="line">            root.right =self.reConstructBinaryTree(pre[index+<span class="number">1</span>:], tin[index+<span class="number">1</span>:])</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line">```         </span><br><span class="line"></span><br><span class="line">- ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</span><br><span class="line"></span><br><span class="line">&gt; ç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå®Œæˆé˜Ÿåˆ—çš„Pushå’ŒPopæ“ä½œã€‚ é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ºintç±»å‹ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># é¦–å…ˆæ˜¯éœ€è¦ä¸¤ä¸ªå‡½æ•°å…¬å…±å¯ä»¥è®¿é—®çš„stackï¼Œä¹Ÿå°±æ˜¯list</span></span><br><span class="line">    <span class="comment"># å‡½æ•°ä¸­å¦‚ä½•å»æ“ä½œ å…¬å…±å˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.stack1 =[]</span><br><span class="line">        self.stack2 =[]</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        self.stack1 += [node]</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># å°±æ˜¯è¿™ä¸ªpop æ˜¯å¿…é¡»çš„æ“ä½œï¼Œæ‰€ä»¥ä½ éœ€è¦æå‰è§£å†³è¿™ä¸ªå¼‚å¸¸</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.stack2 ==[] <span class="keyword">and</span> self.stack1 ==[]:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> self.stack1 != [] <span class="keyword">and</span> self.stack2 ==[]:</span><br><span class="line">            <span class="keyword">while</span> self.stack1:</span><br><span class="line">                self.stack2 += [self.stack1.pop()]</span><br><span class="line">        <span class="keyword">return</span> self.stack2.pop()</span><br></pre></td></tr></table></figure>
<ul>
<li>é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªç»“ç‚¹</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªç»“ç‚¹ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">å°è¯•ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆç‰ˆæœ¬</span></span><br><span class="line"><span class="string">p1 p2 å¹¶ä¸”è¿™ç§ length åœ¨å‘½åä¸Šæ˜¯éœ€è¦è§„èŒƒçš„, å¹¶ä¸”è¿™ç§æŒ‡é’ˆæ“ä½œï¼Œæœ€å¥½æ˜¯æ‹·è´å‡ºæ¥è¿›è¡Œæ“ä½œ</span></span><br><span class="line"><span class="string">ä¸ç®¡æ€ä¹ˆè¯´ï¼Œè¿˜æ˜¯åº”è¯¥æ±‚è§£å‡ºæ¥ length of listNodeï¼Œè¿™ç§æ‰æ˜¯æ­£é€”</span></span><br><span class="line"><span class="string">å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œ</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FindKthToTail</span><span class="params">(self, head, k)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> head ==<span class="keyword">None</span> <span class="keyword">or</span> k&lt;=<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        p1 =head</span><br><span class="line">        p2 =head</span><br><span class="line">        len1 =<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> p1:</span><br><span class="line">            len1 +=<span class="number">1</span></span><br><span class="line">            p1 =p1.next</span><br><span class="line">        <span class="keyword">if</span> k&gt; len1:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        p1 =head</span><br><span class="line">        <span class="keyword">while</span> k:</span><br><span class="line">            p1 =p1.next</span><br><span class="line">            k -=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> p1:</span><br><span class="line">            p1 =p1.next</span><br><span class="line">            p2 =p2.next</span><br><span class="line">        <span class="keyword">return</span> p2</span><br></pre></td></tr></table></figure>
<ul>
<li>åè½¬é“¾è¡¨</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œåè½¬é“¾è¡¨åï¼Œè¾“å‡ºæ–°é“¾è¡¨çš„è¡¨å¤´ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">ä¿®æ”¹é“¾è¡¨æ˜¯éœ€è¦ä¸‰ä¸ªæŒ‡é’ˆçš„ pre, cur, next_node </span></span><br><span class="line"><span class="string">å¦‚æœå¯¹ä¸‰ä¸ªæŒ‡é’ˆåè¿›è¡Œå‘½åå¥½äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå°±æ˜¯æˆåŠŸçš„ä¸€èˆ¬äº†ï¼Œ è¿™ä¸ªä¸å®¹æ˜“æƒ³åˆ°çš„æ˜¯</span></span><br><span class="line"><span class="string">è®¾ç½®pre =None ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªç»†èŠ‚ç»éªŒæ€§çš„é—®é¢˜</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># è¿”å›ListNode</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ReverseList</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pHead ==<span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">            </span><br><span class="line">        pre =<span class="keyword">None</span></span><br><span class="line">        cur =pHead</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            next_node =cur.next</span><br><span class="line">            cur.next =pre</span><br><span class="line">            </span><br><span class="line">            pre, cur =cur, next_node</span><br><span class="line">        <span class="keyword">return</span> pre</span><br></pre></td></tr></table></figure>
<ul>
<li>åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸¤ä¸ªå•è°ƒé€’å¢çš„é“¾è¡¨ï¼Œè¾“å‡ºä¸¤ä¸ªé“¾è¡¨åˆæˆåçš„é“¾è¡¨ï¼Œå½“ç„¶æˆ‘ä»¬éœ€è¦åˆæˆåçš„é“¾è¡¨æ»¡è¶³å•è°ƒä¸å‡è§„åˆ™ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">å°±æ˜¯åœ¨ä½¿ç”¨ä¸¤ä¸ªæˆ–è€…å¤šä¸ª index (p1 or p2) éå†çš„æ—¶å€™ï¼Œä¸€ä¸ªå¸¸è§çš„é”™è¯¯å°±æ˜¯å¿˜è®°äº†ä¸æ–­æ›´æ–°index</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># è¿”å›åˆå¹¶ååˆ—è¡¨</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Merge</span><span class="params">(self, pHead1, pHead2)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pHead1 ==<span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">return</span> pHead2</span><br><span class="line">        <span class="keyword">if</span> pHead2 ==<span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">return</span> pHead1</span><br><span class="line">        head =ListNode(<span class="number">-1</span>)</span><br><span class="line">        head1 =head</span><br><span class="line">        p1 =pHead1</span><br><span class="line">        p2 =pHead2</span><br><span class="line">        <span class="keyword">while</span> p1 <span class="keyword">and</span> p2:</span><br><span class="line">            <span class="keyword">if</span> p1.val &lt; p2.val:</span><br><span class="line">                head.next =p1</span><br><span class="line">                p1 =p1.next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                head.next =p2</span><br><span class="line">                p2 =p2.next</span><br><span class="line">            head =head.next</span><br><span class="line">        <span class="keyword">if</span> p1 ==<span class="keyword">None</span>:</span><br><span class="line">            head.next =p2</span><br><span class="line">        <span class="keyword">if</span> p2 ==<span class="keyword">None</span>:</span><br><span class="line">            head.next =p1</span><br><span class="line">        <span class="keyword">return</span> head1.next</span><br></pre></td></tr></table></figure>
<ul>
<li>æ ‘çš„å­ç»“æ„</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aï¼ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚ï¼ˆpsï¼šæˆ‘ä»¬çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„ï¼‰</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">åˆ†æˆä¸¤éƒ¨ï¼šé¦–å…ˆå¯»æ‰¾ä¸¤ä¸ªæ ¹èŠ‚ç‚¹çš„å€¼æ˜¯å¦ç›¸åŒï¼›ç„¶ååˆ¤æ–­å­æ ‘æ˜¯å¦å®Œå…¨ç›¸åŒ</span></span><br><span class="line"><span class="string">subTree è¿™ä¸ªå‡½æ•°å°±æ˜¯åˆ¤æ–­å­æ ‘æ˜¯å¦å®Œå…¨ç›¸åŒçš„ï¼Œæ‰€ä»¥å‡½æ•°çš„åŠŸèƒ½ä¸€å®šè¦æå¥½</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">HasSubtree</span><span class="params">(self, pRoot1, pRoot2)</span>:</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pRoot1:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pRoot2:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        result =<span class="keyword">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> pRoot1.val ==pRoot2.val:</span><br><span class="line">            result =self.subTree(pRoot1, pRoot2)</span><br><span class="line">        <span class="keyword">if</span> result ==<span class="keyword">False</span>:</span><br><span class="line">            result = self.HasSubtree(pRoot1.left, pRoot2) <span class="keyword">or</span> self.HasSubtree(pRoot1.right, pRoot2)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subTree</span><span class="params">(self, root1, root2)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root2:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root1:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> root1.val ==root2.val:</span><br><span class="line">            <span class="keyword">return</span> self.subTree(root1.left, root2.left) <span class="keyword">and</span> self.subTree(root1.right, root2.right)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<ul>
<li>äºŒå‰æ ‘çš„é•œåƒ</li>
</ul>
<blockquote>
<p>æ“ä½œç»™å®šçš„äºŒå‰æ ‘ï¼Œå°†å…¶å˜æ¢ä¸ºæºäºŒå‰æ ‘çš„é•œåƒã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">å°±æ˜¯åœ¨æŸä¸ªå·¦ï¼ˆå³ï¼‰å­æ ‘æ˜¯None çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œäº¤æ¢çš„ï¼Œç»“æŸçš„æ ‡å¿—åº”è¯¥æ˜¯æ ¹èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># è¿”å›é•œåƒæ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Mirror</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        root.left , root.right =root.right, root.left</span><br><span class="line">        <span class="keyword">if</span> root.left:</span><br><span class="line">            self.Mirror(root.left)</span><br><span class="line">        <span class="keyword">if</span> root.right:</span><br><span class="line">            self.Mirror(root.right)</span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>
<ul>
<li>åŒ…å«minå‡½æ•°çš„æ ˆ</li>
</ul>
<blockquote>
<p>å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆä¸­æ‰€å«æœ€å°å…ƒç´ çš„minå‡½æ•°ï¼ˆæ—¶é—´å¤æ‚åº¦åº”ä¸ºOï¼ˆ1ï¼‰ï¼‰ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">è¿™ä¸ªæ ˆä¸­æœ€å°çš„å…ƒç´ æ˜¯å˜åŒ–çš„ï¼Œå¥½å¥½ç†è§£ä¸€ä¸‹ï¼Œå¦‚æœå¼¹å‡ºäº†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å…ƒç´ ï¼Œé‚£ä¹ˆæ ˆä¸­æœ€å°çš„å…ƒç´ æ˜¯ä¸å˜çš„</span></span><br><span class="line"><span class="string">æ‰€å«å…ƒç´ çš„æœ€å°å…ƒç´ </span></span><br><span class="line"><span class="string">top() and min() æ“ä½œæ˜¯ä¸éœ€è¦åˆ é™¤å…ƒç´ çš„ï¼Œ pop æ˜¯åˆ é™¤äº†å…ƒç´ </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.all_list =[]</span><br><span class="line">        self.min_list =[]</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.min_list:</span><br><span class="line">            self.min_list.append(node)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.min_list.append(min(node, self.min()))</span><br><span class="line">        self.all_list.append(node)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.all_list.pop()</span><br><span class="line">        self.min_list.pop()</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">top</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.all_list[<span class="number">-1</span>]</span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">min</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.min_list[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦å¯èƒ½ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚åºåˆ—1,2,3,4,5æ˜¯æŸæ ˆçš„å‹å…¥é¡ºåºï¼Œåºåˆ—4,5,3,2,1æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½†4,3,5,1,2å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚ï¼ˆæ³¨æ„ï¼šè¿™ä¸¤ä¸ªåºåˆ—çš„é•¿åº¦æ˜¯ç›¸ç­‰çš„ï¼‰</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># ä½¿ç”¨ä¸€ä¸ªlist æ¨¡æ‹Ÿå‹ç«™å’Œå‡ºæˆ˜çš„è¿‡ç¨‹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">IsPopOrder</span><span class="params">(self, pushV, popV)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pushV:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        tmp =[]</span><br><span class="line">        <span class="keyword">while</span> popV:</span><br><span class="line">            <span class="keyword">if</span> tmp <span class="keyword">and</span> popV[<span class="number">0</span>] ==tmp[<span class="number">-1</span>]:</span><br><span class="line">                popV.pop(<span class="number">0</span>)</span><br><span class="line">                tmp.pop()</span><br><span class="line">            <span class="keyword">elif</span> pushV:</span><br><span class="line">                tmp.append(pushV.pop(<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"> ```       </span><br><span class="line"></span><br><span class="line">- ä»ä¸Šå¾€ä¸‹æ‰“å°äºŒå‰æ ‘</span><br><span class="line"></span><br><span class="line">&gt; ä»ä¸Šå¾€ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒå±‚èŠ‚ç‚¹ä»å·¦è‡³å³æ‰“å°ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"></span><br><span class="line">    <span class="comment"># class TreeNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.left = None</span></span><br><span class="line">    <span class="comment">#         self.right = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># è¿”å›ä»ä¸Šåˆ°ä¸‹æ¯ä¸ªèŠ‚ç‚¹å€¼åˆ—è¡¨ï¼Œä¾‹ï¼š[1,2,3]</span></span><br><span class="line">        <span class="comment"># å±‚åºéå†äºŒå‰æ ‘ï¼Œ è¿™ä¸ªè·Ÿæ•°æ®ç»“æ„ é˜Ÿåˆ—æœ‰ç±»ä¼¼çš„</span></span><br><span class="line">        <span class="comment"># nodes è£…ä¸Šç»“ç‚¹ï¼Œç„¶åvlaues è£…ä¸Šæ•°å€¼</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">PrintFromTopToBottom</span><span class="params">(self, root)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> []</span><br><span class="line">            nodes =[]</span><br><span class="line">            values =[]</span><br><span class="line">            nodes.append(root)</span><br><span class="line">            <span class="keyword">while</span> nodes:</span><br><span class="line">                node =nodes.pop(<span class="number">0</span>)</span><br><span class="line">                values.append(node.val)</span><br><span class="line">                <span class="keyword">if</span> node.left:</span><br><span class="line">                    nodes.append(node.left)</span><br><span class="line">                <span class="keyword">if</span> node.right:</span><br><span class="line">                    nodes.append(node.right)</span><br><span class="line">            <span class="keyword">return</span> values</span><br></pre></td></tr></table></figure>
<ul>
<li>äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†çš„ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¾“å‡ºYes,å¦åˆ™è¾“å‡ºNoã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># ååºéå†ç»“æœï¼Œ æœ€åä¸€ä¸ªæ˜¯æ ¹èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ˜¯é€’å½’çš„æ€æƒ³</span></span><br><span class="line"><span class="comment"># äºŒå‰æœç´¢æ ‘ï¼Œ å·¦å­æ ‘å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘å¤§äºæ ¹èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">VerifySquenceOfBST</span><span class="params">(self, sequence)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> sequence:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    root =sequence[<span class="number">-1</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(sequence)):</span><br><span class="line">        <span class="keyword">if</span> sequence[i] &gt; root:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i,len(sequence)):</span><br><span class="line">        <span class="keyword">if</span> sequence[j] &lt; root:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<ul>
<li>äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€é¢—äºŒå‰æ ‘çš„è·ŸèŠ‚ç‚¹å’Œä¸€ä¸ªæ•´æ•°ï¼Œæ‰“å°å‡ºäºŒå‰æ ‘ä¸­ç»“ç‚¹å€¼çš„å’Œä¸ºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚è·¯å¾„å®šä¹‰ä¸ºä»æ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹å¾€ä¸‹ä¸€ç›´åˆ°å¶ç»“ç‚¹æ‰€ç»è¿‡çš„ç»“ç‚¹å½¢æˆä¸€æ¡è·¯å¾„ã€‚(æ³¨æ„: åœ¨è¿”å›å€¼çš„listä¸­ï¼Œæ•°ç»„é•¿åº¦å¤§çš„æ•°ç»„é å‰)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="comment"># class TreeNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.left = None</span></span><br><span class="line">    <span class="comment">#         self.right = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># è¿”å›äºŒç»´åˆ—è¡¨ï¼Œå†…éƒ¨æ¯ä¸ªåˆ—è¡¨è¡¨ç¤ºæ‰¾åˆ°çš„è·¯å¾„</span></span><br><span class="line">        <span class="comment"># æ·±åº¦ä¼˜å…ˆ dfs() è¿™æ ·çš„ä¸€ä¸ªç®—æ³•</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">FindPath</span><span class="params">(self, root, expectNumber)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> []</span><br><span class="line">            self.target =expectNumber</span><br><span class="line">        </span><br><span class="line">        paths =[]</span><br><span class="line">        self.dfs(root, [root.val], paths)</span><br><span class="line">        <span class="keyword">return</span> paths</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, root, path, paths)</span>:</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> <span class="keyword">not</span> root.right <span class="keyword">and</span> sum(path) ==self.target:</span><br><span class="line">            paths.append(path)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> root.left:</span><br><span class="line">            self.dfs(root.left, path+[root.left.val], paths)</span><br><span class="line">        <span class="keyword">if</span> root.right:</span><br><span class="line">            self.dfs(root.right, path+[root.right.val], paths)</span><br><span class="line"> ``` </span><br><span class="line">            </span><br><span class="line">- å¤æ‚é“¾è¡¨çš„å¤åˆ¶</span><br><span class="line"></span><br><span class="line">&gt; è¾“å…¥ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼ˆæ¯ä¸ªèŠ‚ç‚¹ä¸­æœ‰èŠ‚ç‚¹å€¼ï¼Œä»¥åŠä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªç‰¹æ®ŠæŒ‡é’ˆæŒ‡å‘ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œè¿”å›ç»“æœä¸ºå¤åˆ¶åå¤æ‚é“¾è¡¨çš„headã€‚ï¼ˆæ³¨æ„ï¼Œè¾“å‡ºç»“æœä¸­è¯·ä¸è¦è¿”å›å‚æ•°ä¸­çš„èŠ‚ç‚¹å¼•ç”¨ï¼Œå¦åˆ™åˆ¤é¢˜ç¨‹åºä¼šç›´æ¥è¿”å›ç©ºï¼‰</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"></span><br><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class RandomListNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.label = x</span></span><br><span class="line">    <span class="comment">#         self.next = None</span></span><br><span class="line">    <span class="comment">#         self.random = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># è¿”å› RandomListNode</span></span><br><span class="line">        <span class="comment"># é¦–å…ˆæ˜¯ç»“ç‚¹çš„å¤åˆ¶å’Œ next æŒ‡é’ˆçš„è¿æ¥ï¼Œ ç„¶åæ˜¯random æŒ‡é’ˆçš„è¿æ¥ï¼Œæœ€åæ˜¯é€‰æ‹©å‡ºå¤åˆ¶çš„ç»“ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Clone</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pHead:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        self.clone_nodes(pHead)</span><br><span class="line">        self.connect_nodes(pHead)</span><br><span class="line">        <span class="keyword">return</span> self.select_nodes(pHead)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clone_nodes</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">while</span> head:</span><br><span class="line">            cloned = RandomListNode(head.label)</span><br><span class="line">            cloned.next = head.next</span><br><span class="line">            head.next = cloned</span><br><span class="line">            head = cloned.next</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">connect_nodes</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> head:</span><br><span class="line">            cloned = head.next</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> head.random:</span><br><span class="line">                cloned.random = head.random.next</span><br><span class="line">            head = cloned.next</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">select_nodes</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        cloned =cloned_head =<span class="keyword">None</span></span><br><span class="line">        <span class="comment"># è¿™ä¸ªif çš„ä½œç”¨æ˜¯ä¸ºäº†ä¿å­˜ä¸€ä¸ª cloned_headçš„ç»“ç‚¹ï¼Œ</span></span><br><span class="line">        <span class="comment"># ä¸€å®šè¦ä»è¿™ä¸ªåŠŸèƒ½å‡ºå‘</span></span><br><span class="line">        <span class="keyword">if</span> head:</span><br><span class="line">            cloned =cloned_head =head.next</span><br><span class="line">            head.next =cloned.next</span><br><span class="line">            head =head.next</span><br><span class="line">        <span class="keyword">while</span> head:</span><br><span class="line">            cloned.next =head.next</span><br><span class="line">            cloned =cloned.next</span><br><span class="line">            head.next =cloned.next</span><br><span class="line">            head =head.next</span><br><span class="line">        <span class="keyword">return</span> cloned_head</span><br></pre></td></tr></table></figure>
<ul>
<li>äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># ä½¿ç”¨çš„æ ‘çš„ç»“æ„ è¡¨ç¤ºä¸€ç§åŒå‘é“¾è¡¨</span></span><br><span class="line">    <span class="comment"># äºŒå‰æœç´¢æ ‘ ï¼Œå·¦å­æ ‘å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘å¤§äºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment"># ä¸­åºéå†å¾—åˆ°å°±æ˜¯ä¸€ç§æ’å¥½åºçš„ç»“æ„</span></span><br><span class="line">    <span class="comment"># åªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Convert</span><span class="params">(self, pRootOfTree)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pRootOfTree:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        tree = pRootOfTree</span><br><span class="line">        res = []</span><br><span class="line">        self.helper(tree, res)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(res) - <span class="number">1</span>):</span><br><span class="line">        res[i].right = res[i + <span class="number">1</span>]</span><br><span class="line">        res[i + <span class="number">1</span>].left = res[i]</span><br><span class="line">    <span class="comment"># è¿™ä¸ªè¿”å›å€¼ä¹Ÿæ˜¯æ¯”è¾ƒé¬¼ç•œå‘€ï¼Œ å°±æ˜¯éœ€è¦è¿™æ ·è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, root, res)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">if</span> root.left:</span><br><span class="line">        self.helper(root.left, res)</span><br><span class="line">    res.append(root)</span><br><span class="line">    <span class="keyword">if</span> root.right:</span><br><span class="line">        self.helper(root.right, res)</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class ListNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.next = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ˜¯ ä¸€ä¸ªç»“ç‚¹ï¼Œä¸€ä¸ªå†…å­˜çš„ä¸¤ä¸ªæŒ‡å‘</span></span><br><span class="line">        <span class="comment"># å°†å¯èƒ½ä¸åŒé•¿åº¦çš„ä¸¤ä¸ªé“¾è¡¨è½¬æ¢æˆç›¸åŒé•¿åº¦çš„ä¸¤ä¸ªé“¾è¡¨çš„æ¯”è¾ƒï¼Œä½¿ç”¨</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">FindFirstCommonNode</span><span class="params">(self, pHead1, pHead2)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> pHead1 <span class="keyword">or</span> <span class="keyword">not</span> pHead2:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">            p1 =pHead1</span><br><span class="line">            p2 =pHead2</span><br><span class="line">            <span class="keyword">while</span> p1 !=p2:</span><br><span class="line">                <span class="comment"># è¿™ä¸ªp1 åªèƒ½æŒ‡å‘äº†æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œä½†æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸€å®šç›¸åŒ</span></span><br><span class="line">                p1 = pHead2 <span class="keyword">if</span> <span class="keyword">not</span> p1 <span class="keyword">else</span> p1.next</span><br><span class="line">                p2 = pHead1 <span class="keyword">if</span> <span class="keyword">not</span> p2 <span class="keyword">else</span> p2.next</span><br><span class="line">            <span class="keyword">return</span> p1</span><br><span class="line"> ```           </span><br><span class="line"></span><br><span class="line">- äºŒå‰æ ‘çš„æ·±åº¦</span><br><span class="line"></span><br><span class="line">&gt; è¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹ç»“ç‚¹åˆ°å¶ç»“ç‚¹ä¾æ¬¡ç»è¿‡çš„ç»“ç‚¹ï¼ˆå«æ ¹ã€å¶ç»“ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class TreeNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.left = None</span></span><br><span class="line">    <span class="comment">#         self.right = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        åˆ†åˆ«æ±‚è§£ å·¦å³å­æ ‘çš„æ·±åº¦ï¼Œç„¶åmax(left, right) è¿™æ ·çš„æ“ä½œ</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">TreeDepth</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> pRoot:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            left =self.TreeDepth(pRoot.left) +<span class="number">1</span></span><br><span class="line">            right =self.TreeDepth(pRoot.right) +<span class="number">1</span></span><br><span class="line">            <span class="comment"># è¿™ä¸ªreturn æ˜¯æœ€åæ‰§è¡Œä¸€æ¬¡çš„ï¼Œç„¶åä¸Šé¢é‚£ä¸ªéƒ½æ˜¯ä¸æ–­çš„åœ¨è¿›è¡Œé€’å½’åŠ æ·±</span></span><br><span class="line">            <span class="comment"># è¿™ä¸ª left right å·²ç»å®Œæˆäº†ï¼Œæœ€åçš„æ•ˆæœåªæ˜¯ è¿”å› max(left, right) è¿™æ ·å­</span></span><br><span class="line">            <span class="keyword">return</span> max(left, right)</span><br></pre></td></tr></table></figure>
<ul>
<li>å¹³è¡¡äºŒå‰æ ‘</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œåˆ¤æ–­è¯¥äºŒå‰æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># é€’å½’å¸¸è§çš„éƒ½ä¼šæœ‰ä¸¤ä¸ªreturn è·³å‡ºæ¡ä»¶ï¼Œä¸€ä¸ªæ˜¯å¼‚å¸¸çš„æ¡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ­£ç¡®çš„è¿”å›</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_depth</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        left =self.get_depth(root.left)</span><br><span class="line">        right =self.get_depth(root.right)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> max(left, right) +<span class="number">1</span></span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">IsBalanced_Solution</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> pRoot:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    </span><br><span class="line">    left =self.get_depth(pRoot.left)</span><br><span class="line">    right =self.get_depth(pRoot.right)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> abs(left-right) &gt;<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">return</span> self.IsBalanced_Solution(pRoot.left) <span class="keyword">and</span> self.IsBalanced_Solution(pRoot.right)</span><br></pre></td></tr></table></figure>
<ul>
<li>é“¾è¡¨ä¸­ç¯çš„å…¥å£ç»“ç‚¹</li>
</ul>
<blockquote>
<p>ç»™ä¸€ä¸ªé“¾è¡¨ï¼Œè‹¥å…¶ä¸­åŒ…å«ç¯ï¼Œè¯·æ‰¾å‡ºè¯¥é“¾è¡¨çš„ç¯çš„å…¥å£ç»“ç‚¹ï¼Œå¦åˆ™ï¼Œè¾“å‡ºnullã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class ListNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.next = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># ç°åœ¨é•¿ä¸ªè®°æ€§å§ï¼Œåœ¨ä½¿ç”¨next è¿™æ ·çš„æ—¶å€™ è¦å…ˆåˆ¤æ–­è¿™ä¸ªæ˜¯ä¸æ˜¯å­˜åœ¨çš„</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">EntryNodeOfLoop</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> pHead <span class="keyword">or</span> <span class="keyword">not</span> pHead.next <span class="keyword">or</span> <span class="keyword">not</span> pHead.next.next:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">            twoTimes =pHead.next.next</span><br><span class="line">            oneTime =pHead.next</span><br><span class="line">            <span class="keyword">while</span> twoTimes != oneTime:</span><br><span class="line">                twoTimes =twoTimes.next.next</span><br><span class="line">                oneTime =oneTime.next</span><br><span class="line">            twoTimes =pHead</span><br><span class="line">            <span class="keyword">while</span> twoTimes != oneTime:</span><br><span class="line">                twoTimes =twoTimes.next</span><br><span class="line">                oneTime =oneTime.next</span><br><span class="line">            <span class="keyword">return</span> twoTimes</span><br><span class="line">  ```          </span><br><span class="line"></span><br><span class="line">- åˆ é™¤é“¾è¡¨ä¸­é‡å¤çš„ç»“ç‚¹</span><br><span class="line"></span><br><span class="line">&gt; åœ¨ä¸€ä¸ªæ’åºçš„é“¾è¡¨ä¸­ï¼Œå­˜åœ¨é‡å¤çš„ç»“ç‚¹ï¼Œè¯·åˆ é™¤è¯¥é“¾è¡¨ä¸­é‡å¤çš„ç»“ç‚¹ï¼Œé‡å¤çš„ç»“ç‚¹ä¸ä¿ç•™ï¼Œè¿”å›é“¾è¡¨å¤´æŒ‡é’ˆã€‚ ä¾‹å¦‚ï¼Œé“¾è¡¨1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5 å¤„ç†åä¸º 1-&gt;2-&gt;5</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class ListNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.next = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">deleteDuplication</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            head =ListNode(<span class="number">-1</span>)</span><br><span class="line">            head.next =pHead</span><br><span class="line">            curr =pHead</span><br><span class="line">            last =head</span><br><span class="line">            <span class="keyword">while</span> curr <span class="keyword">and</span> curr.next:</span><br><span class="line">                <span class="comment">#val =curr.val</span></span><br><span class="line">                <span class="comment"># è¿™ä¸ªæ¡ä»¶æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å¯ä»¥æ”¾åˆ°å‰é¢</span></span><br><span class="line">                <span class="keyword">if</span> curr.val !=curr.next.val:</span><br><span class="line">                    curr =curr.next</span><br><span class="line">                    last =last.next</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># è¿™ä¸ªæ¡ä»¶ curr è¿˜æ˜¯éœ€è¦æ³¨æ„ä¸€ä¸‹çš„</span></span><br><span class="line">                    val =curr.val</span><br><span class="line">                    <span class="comment"># python ä¸­ condition1 and condition2 è¿™ç§æ˜¯æœ‰å…ˆåé¡ºåºçš„</span></span><br><span class="line">                    <span class="comment"># å¯èƒ½æ˜¯å­˜åœ¨çŸ­è·¯ç°è±¡çš„ï¼Œ å¦‚æœ curr ä¸æˆç«‹ï¼Œé‚£ä¹ˆåé¢çš„æ˜¯ä¸ä¼šæ‰§è¡Œçš„ </span></span><br><span class="line">                    <span class="comment"># è‰æ‹Ÿ</span></span><br><span class="line">                    <span class="keyword">while</span> curr <span class="keyword">and</span> val ==curr.val:</span><br><span class="line">                        curr =curr.next</span><br><span class="line">                    last.next =curr</span><br><span class="line">            <span class="keyword">return</span> head.next</span><br></pre></td></tr></table></figure>
<ul>
<li>äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªç»“ç‚¹</li>
</ul>
<blockquote>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œå…¶ä¸­çš„ä¸€ä¸ªç»“ç‚¹ï¼Œè¯·æ‰¾å‡ºä¸­åºéå†é¡ºåºçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å¹¶ä¸”è¿”å›ã€‚æ³¨æ„ï¼Œæ ‘ä¸­çš„ç»“ç‚¹ä¸ä»…åŒ…å«å·¦å³å­ç»“ç‚¹ï¼ŒåŒæ—¶åŒ…å«æŒ‡å‘çˆ¶ç»“ç‚¹çš„æŒ‡é’ˆã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeLinkNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># https://blog.csdn.net/fuxuemingzhu/article/details/79723819 </span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªæ˜¯æ±‚è§£ä¸­åºéå†ä¸­æŸä¸ªç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    <span class="comment"># è¿™pNode å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ç»“ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">GetNext</span><span class="params">(self, pNode)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pNode:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        <span class="comment"># å¦‚æœå­˜åœ¨å³ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> pNode.right:</span><br><span class="line">            pNode =pNode.right</span><br><span class="line">            <span class="keyword">while</span> pNode.left:</span><br><span class="line">                pNode =pNode.left</span><br><span class="line">            <span class="keyword">return</span> pNode</span><br><span class="line">        <span class="comment"># å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­æ ‘</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># è¿™é‡Œä½¿ç”¨ pNode.next è¡¨ç¤ºçˆ¶èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">while</span> pNode.next:</span><br><span class="line">                <span class="keyword">if</span> pNode  == pNode.next.left:</span><br><span class="line">                    <span class="keyword">return</span> pNode.next</span><br><span class="line">                <span class="comment"># è¿™ä¸ªæ˜¯å³ç»“ç‚¹</span></span><br><span class="line">                pNode =pNode.next</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¯¹ç§°çš„äºŒå‰æ ‘</li>
</ul>
<blockquote>
<p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€é¢—äºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªäºŒå‰æ ‘åŒæ­¤äºŒå‰æ ‘çš„é•œåƒæ˜¯åŒæ ·çš„ï¼Œå®šä¹‰å…¶ä¸ºå¯¹ç§°çš„ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class TreeNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.left = None</span></span><br><span class="line">    <span class="comment">#         self.right = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># é•œåƒçš„æ¦‚å¿µ å’Œé€’å½’</span></span><br><span class="line">        <span class="comment"># isSame() è¿™ä¸ªå°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªå­æ ‘æ˜¯å¦é•œåƒçš„æ“ä½œ</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSame</span><span class="params">(self, p, q)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> p <span class="keyword">and</span> <span class="keyword">not</span> q:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="comment"># å¥½å¥½æ€è€ƒ ä¸‹é¢è¿™ä¸¤ä¸ªè·³å‡ºæ¡ä»¶ä¸ºä»€ä¹ˆæ˜¯ä¸åˆé€‚çš„</span></span><br><span class="line">        <span class="comment">#if not p and q:</span></span><br><span class="line">        <span class="comment">#   return False</span></span><br><span class="line">        <span class="comment">#if p and not q:</span></span><br><span class="line">        <span class="comment">#   return False</span></span><br><span class="line">        <span class="keyword">if</span> p <span class="keyword">and</span> q <span class="keyword">and</span> p.val == q.val:</span><br><span class="line">            <span class="keyword">return</span> self.isSame(p.left, q.right) <span class="keyword">and</span> self.isSame(p.right, q.left)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSymmetrical</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="comment"># æœ€å¼€å§‹çš„æ¡ä»¶ å¦‚æœéƒ½æ˜¯ none é‚£ä¹ˆè¿™ä¸ªæ˜¯å¯¹ç§°çš„</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pRoot:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">if</span> pRoot.left <span class="keyword">and</span> <span class="keyword">not</span> pRoot.right:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pRoot.left <span class="keyword">and</span> pRoot.right:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">return</span> self.isSame(pRoot.left, pRoot.right)</span><br><span class="line">  ```      </span><br><span class="line"></span><br><span class="line">- æŒ‰ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘</span><br><span class="line"></span><br><span class="line">&gt; è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³è‡³å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">    <span class="comment"># class TreeNode:</span></span><br><span class="line">    <span class="comment">#     def __init__(self, x):</span></span><br><span class="line">    <span class="comment">#         self.val = x</span></span><br><span class="line">    <span class="comment">#         self.left = None</span></span><br><span class="line">    <span class="comment">#         self.right = None</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># å±‚åºéå† + å¶æ•°ç¿»è½¬</span></span><br><span class="line">        <span class="comment"># https://blog.csdn.net/fuxuemingzhu/article/details/79724959</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">level</span><span class="params">(self, root, level, res)</span>:</span></span><br><span class="line">            <span class="string">"""</span></span><br><span class="line"><span class="string">            root: the root of tree</span></span><br><span class="line"><span class="string">            level: </span></span><br><span class="line"><span class="string">            res: result</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> len(res) ==level:</span><br><span class="line">            res.append([])</span><br><span class="line">        res[level].append(root.val)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> root.left:</span><br><span class="line">            self.level(root.left, level+<span class="number">1</span>, res)</span><br><span class="line">        <span class="keyword">if</span> root.right:</span><br><span class="line">            self.level(root.right, level+<span class="number">1</span>, res)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Print</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pRoot:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        res =[]</span><br><span class="line">        self.level(pRoot, <span class="number">0</span>, res)</span><br><span class="line">        <span class="keyword">for</span> level <span class="keyword">in</span> range(<span class="number">1</span>, len(res), <span class="number">2</span>):</span><br><span class="line">            res[level] =res[level][::<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<ul>
<li>æŠŠäºŒå‰æ ‘æ‰“å°æˆå¤šè¡Œ</li>
</ul>
<blockquote>
<p>ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚ç»“ç‚¹ä»å·¦è‡³å³è¾“å‡ºã€‚æ¯ä¸€å±‚è¾“å‡ºä¸€è¡Œã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># è¿”å›äºŒç»´åˆ—è¡¨[[1,2],[4,5]]</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">level</span><span class="params">(self, root, level, res)</span>:</span></span><br><span class="line">        <span class="comment"># ä½ è¿™é‡Œä¹Ÿæ²¡æœ‰è¯´è¦è¿”å›å€¼çš„æ„æ€å‘€ï¼Œè¿™ä¸ªç›´æ¥æ˜¯ return</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        <span class="keyword">if</span> level ==len(res):</span><br><span class="line">            res.append([])</span><br><span class="line">        </span><br><span class="line">    res[level].append(root.val)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> root.left:</span><br><span class="line">        self.level(root.left, level +<span class="number">1</span>, res)</span><br><span class="line">    <span class="keyword">if</span> root.right:</span><br><span class="line">        <span class="comment">#res[level] =self.level(root.right, level+1, res)</span></span><br><span class="line">        <span class="comment"># å› ä¸ºè¿™ä¸ªæ˜¯ ä¼ çš„å€¼ï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨è¿”å›å€¼çš„</span></span><br><span class="line">        self.level(root.right, level+<span class="number">1</span>, res)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Print</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> pRoot:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    res =[]</span><br><span class="line">    self.level(pRoot, <span class="number">0</span>, res)</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<ul>
<li>åºåˆ—åŒ–äºŒå‰æ ‘</li>
</ul>
<blockquote>
<p>è¯·å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘</p>
</blockquote>
<pre><code class="python">
<span class="comment"># -*- coding:utf-8 -*-</span>
<span class="comment"># class TreeNode:</span>
<span class="comment">#     def __init__(self, x):</span>
<span class="comment">#         self.val = x</span>
<span class="comment">#         self.left = None</span>
<span class="comment">#         self.right = None</span>
<span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>
    <span class="string">"""</span>
<span class="string">    åºåˆ—åŒ–å°±æ˜¯ä»æ ‘ç»“æ„ è½¬æˆå­—ç¬¦ä¸²çš„ç»“æ„ï¼›åä¹‹ï¼Œä¹Ÿæ˜¯æˆç«‹çš„ã€‚ ä½¿ç”¨å…ˆåºéå†çš„æ–¹æ³•ã€‚</span>
<span class="string">    https://suixinblog.cn/2019/03/target-offer-serialize-binary-tree.html#%E4%BB%A3%E7%A0%81</span>
<span class="string">    """</span>
    <span class="function"><span class="keyword">def</span>  <span class="title">__init__</span><span class="params">(self)</span>:</span>
        self.flag =<span class="number">-1</span>

<span class="function"><span class="keyword">def</span> <span class="title">Serialize</span><span class="params">(self, root)</span>:</span>
    <span class="comment"># write code here</span>
    <span class="keyword">if</span> <span class="keyword">not</span> root:
        <span class="keyword">return</span> <span class="string">"#"</span>
    <span class="keyword">return</span> str(root.val) +<span class="string">","</span>+self.Serialize(root.left) +<span class="string">","</span>+self.Serialize(root.right)

<span class="function"><span class="keyword">def</span> <span class="title">Deserialize</span><span class="params">(self, s)</span>:</span>
    <span class="comment"># write code here</span>
    self.flag +=<span class="number">1</span>
    string =s.split(<span class="string">','</span>)
    <span class="keyword">if</span> self.flag &gt; len(string):
        <span class="keyword">return</span> <span class="keyword">None</span>

    root =<span class="keyword">None</span>
    <span class="keyword">if</span> string[self.flag] !=<span class="string">'#'</span>:
        root =TreeNode(int(string[self.flag]))
        root.left =self.Deserialize(s)
        root.right =self.Deserialize(s)
    <span class="keyword">return</span> root
</code></pre>
<ul>
<li>äºŒå‰æœç´¢æ ‘çš„ç¬¬kä¸ªç»“ç‚¹</li>
</ul>
<blockquote>
<p>ç»™å®šä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­çš„ç¬¬kå°çš„ç»“ç‚¹ã€‚ä¾‹å¦‚ï¼Œ ï¼ˆ5ï¼Œ3ï¼Œ7ï¼Œ2ï¼Œ4ï¼Œ6ï¼Œ8ï¼‰    ä¸­ï¼ŒæŒ‰ç»“ç‚¹æ•°å€¼å¤§å°é¡ºåºç¬¬ä¸‰å°ç»“ç‚¹çš„å€¼ä¸º4ã€‚</p>
</blockquote>
<pre><code class="python"><span class="comment"># class TreeNode:</span>
<span class="comment">#     def __init__(self, x):</span>
<span class="comment">#         self.val = x</span>
<span class="comment">#         self.left = None</span>
<span class="comment">#         self.right = None</span>
<span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>
    <span class="comment"># è¿”å›å¯¹åº”èŠ‚ç‚¹TreeNode</span>
    <span class="comment"># äºŒå‰æœç´¢æ ‘ï¼š å·¦å­æ ‘å°äºæ ¹èŠ‚ç‚¹ å³å­æ ‘å¤§äºæ ¹èŠ‚ç‚¹ï¼Œå‰åºéå†å°±æ˜¯ä¸€ä¸ªæ’åºçš„</span>
    <span class="comment"># æˆ‘çš„æ€è·¯ï¼Œå‰åºéå†ï¼Œå­˜ä¸ºlist ç„¶åå°±è‡ªç„¶çš„è¿”å›å°±è¡Œ</span>
    <span class="comment"># è¿™ä¸ªåº”è¯¥æ˜¯ä¸­åºéå†çš„æ–¹å¼æœ€åæ˜¯æœ‰åºçš„ï¼Œè€Œéå‰åºéå†</span>
    <span class="comment"># è¿™ä¸ªä¿å­˜çš„ç»“ç‚¹ï¼Œè¾“å‡ºçš„ä¹Ÿæ˜¯ç»“ç‚¹ï¼Œç„¶åé¢˜ç›®æ˜¯ä¸ºäº†ä¾¿äºç†è§£ï¼Œç„¶åç»™å‡ºçš„æ˜¯ç»“ç‚¹çš„å€¼</span>
<span class="function"><span class="keyword">def</span> <span class="title">pre</span><span class="params">(self, root, result)</span>:</span>
    <span class="keyword">if</span> <span class="keyword">not</span> root:
        <span class="keyword">return</span> 
    <span class="keyword">if</span> root.left:
        self.pre(root.left, result)
    result.append(root)
    <span class="keyword">if</span> root.right:
        self.pre(root.right, result)
<span class="function"><span class="keyword">def</span> <span class="title">KthNode</span><span class="params">(self, pRoot, k)</span>:</span>
    <span class="comment"># write code here</span>
    <span class="keyword">if</span> <span class="keyword">not</span> pRoot:
        <span class="keyword">return</span> 
    result =[]
    self.pre(pRoot, result)
    <span class="keyword">if</span> len(result) &lt; k <span class="keyword">or</span> k&lt;<span class="number">1</span>:
        <span class="keyword">return</span>
    <span class="keyword">return</span> result[k<span class="number">-1</span>]
</code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/17/å‰‘æŒ‡Offer-å­—ç¬¦ä¸²å’Œæ•°ç»„/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/17/å‰‘æŒ‡Offer-å­—ç¬¦ä¸²å’Œæ•°ç»„/" itemprop="url">å‰‘æŒ‡Offer-å­—ç¬¦ä¸²å’Œæ•°ç»„</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-17T20:31:43+08:00">
                2019-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/17/å‰‘æŒ‡Offer-å­—ç¬¦ä¸²å’Œæ•°ç»„/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/05/17/å‰‘æŒ‡Offer-å­—ç¬¦ä¸²å’Œæ•°ç»„/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é¢˜ç›®éƒ½æ˜¯æ¥è‡ªç‰›å®¢ç½‘åœ¨çº¿åˆ·é¢˜ä¸­çš„å‰‘æŒ‡offerã€‚æœ€è¿‘æ‰¾å®ä¹ å·¥ä½œï¼Œä½œä¸ºåˆ·é¢˜è®°å½•ï¼Œé¡ºä¾¿ä»è€ƒå¯ŸçŸ¥è¯†ç‚¹çš„è§’åº¦åˆ†ç±»æ•´ç†ã€‚ä¸»è¦åˆ†æˆä»¥ä¸‹å››å¤§ç±»ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²ã€æ•°ç»„</li>
<li>é“¾è¡¨ã€æ ‘</li>
<li>é€’å½’ã€å›æº¯ã€åŠ¨æ€è§„åˆ’</li>
<li>å…¶ä»–, æ¯”å¦‚ä½è¿ç®—ã€æ­£åˆ™åŒ¹é…ç­‰ </li>
</ul>
<p>ä¸åŒç±»åˆ«ä»¥ä¸€ç« ä»‹ç»ï¼Œä¹‹åå¯èƒ½ä¼šéšæ—¶updateã€‚è¿™æ˜¯å‰‘æŒ‡offer ç³»åˆ—å››éƒ¨æ›²ä¸­çš„ç¬¬ä¸€éƒ¨ã€‚ç¬¬ä¸€éƒ¨å…³äºå­—ç¬¦ä¸²å’Œæ•°ç»„ï¼Œç¬¬äºŒéƒ¨æ˜¯<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87Offer-%E6%A0%88-%E9%98%9F%E5%88%97-%E9%93%BE%E8%A1%A8%E5%92%8C%E6%A0%91/" target="_blank" rel="noopener">æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨å’Œæ ‘</a>ï¼Œç¬¬ä¸‰éƒ¨<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87offer-%E9%80%92%E5%BD%92-%E5%9B%9E%E6%BA%AF%E5%92%8C%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" target="_blank" rel="noopener">é€’å½’ã€å›æº¯å’ŒåŠ¨æ€è§„åˆ’</a>ï¼Œ æœ€åä¸€éƒ¨åˆ†åœ¨<a href="https://jijeng.github.io/2019/05/17/%E5%89%91%E6%8C%87offer-%E5%85%B6%E4%BB%96/" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p>
<ul>
<li>äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</li>
</ul>
<blockquote>
<p>åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼ˆæ¯ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦ç›¸åŒï¼‰ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚</p>
</blockquote>
<p>Tips: æ•°ç»„æ˜¯ä»å·¦ä¸Šæ–¹åˆ°å³ä¸‹æ–¹è¿™æ ·çš„é€’å¢ï¼ŒæŒ‡é’ˆï¼ˆä¸¤ä¸ªï¼‰æœ‰ä¸¤ä¸ªè¿åŠ¨æ–¹å‘ï¼Œä¸€ä¸ªæ˜¯å‘å·¦ä¸€ä¸ªæ˜¯å‘ä¸‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># array äºŒç»´åˆ—è¡¨s</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Find</span><span class="params">(self, target, array)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="comment"># å¯ä»¥å°è¯•ä¸€ä¸‹ åæ ‡ç§»åŠ¨çš„æ€æƒ³, æ‰€ä»¥è¿™ä¸ªå°±æ˜¯ä¸€ç§åæ ‡ç§»åŠ¨çš„æ€æƒ³</span></span><br><span class="line">    <span class="comment"># å°±æ˜¯ä¸€ä¸ªæ¡ä»¶æœ‰äº†ä¹‹å é‚£ä¹ˆæ¥ä¸‹æ¥çš„else ä¹Ÿå¯ä»¥é¡ºç€å°±å†™ä¸Šæ¥çš„</span></span><br><span class="line">    rows =len(array) <span class="number">-1</span></span><br><span class="line">    cols =len(array[<span class="number">0</span>]) <span class="number">-1</span></span><br><span class="line">    row =<span class="number">0</span></span><br><span class="line">    col =cols</span><br><span class="line">    <span class="keyword">while</span> row &lt;= rows <span class="keyword">and</span> col &gt;=<span class="number">0</span>:</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> array[row][col] == target:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">elif</span> array[row][col] &gt; target:</span><br><span class="line">            col -=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            row +=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ›¿æ¢ç©ºæ ¼</li>
</ul>
<blockquote>
<p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆâ€œ\%20â€ã€‚ä¾‹å¦‚ï¼Œå½“å­—ç¬¦ä¸²ä¸ºWe Are Happy.åˆ™ç»è¿‡æ›¿æ¢ä¹‹åçš„å­—ç¬¦ä¸²ä¸ºWe\%20Are\%20Happyã€‚</p>
</blockquote>
<p>Tipsï¼š å­—ç¬¦ä¸²çš„éå†å¯¹äº python è€Œè¨€æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># s æºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">replaceSpace</span><span class="params">(self, s)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="comment"># python ä¸­çš„ str å°±æ˜¯ array of char</span></span><br><span class="line">    converted =<span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> ch ==<span class="string">" "</span>:</span><br><span class="line">            converted += <span class="string">"%20"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            converted += ch</span><br><span class="line">    <span class="keyword">return</span> converted</span><br></pre></td></tr></table></figure>
<ul>
<li>æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</li>
</ul>
<blockquote>
<p>æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚ è¾“å…¥ä¸€ä¸ªéå‡æ’åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚ ä¾‹å¦‚æ•°ç»„{3,4,5,1,2}ä¸º{1,2,3,4,5}çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚ NOTEï¼šç»™å‡ºçš„æ‰€æœ‰å…ƒç´ éƒ½å¤§äº0ï¼Œè‹¥æ•°ç»„å¤§å°ä¸º0ï¼Œè¯·è¿”å›0ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">é¢˜ç›®æ˜¯ä¸å‡ï¼Œæ‰€ä»¥ä¸‹é¢åˆ¤æ–­çš„æ—¶å€™ä¹Ÿæ˜¯ä¸å‡ã€‚</span></span><br><span class="line"><span class="string">è§£é¢˜çš„å…³é”®ç‚¹ï¼š è®¾ç½®ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå‡å®šçš„min_value,ç„¶åæ³¨æ„è¿™ä¸ªæ˜¯éå‡çš„æ•°ç»„ï¼ˆæ³¨æ„å¤„ç†ç­‰å·çš„æƒ…å†µï¼‰</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minNumberInRotateArray</span><span class="params">(self, rotateArray)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    arr =rotateArray</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> len(arr) ==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    min_value =arr[<span class="number">0</span>]</span><br><span class="line">    left, right =<span class="number">0</span>, len(arr)<span class="number">-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> right-left &gt;<span class="number">1</span>:</span><br><span class="line">        mid =(left+right) //<span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> arr[left] &lt;=arr[mid]:</span><br><span class="line">            left =mid</span><br><span class="line">        <span class="keyword">elif</span> arr[mid] &lt;= arr[right]:</span><br><span class="line">            right =mid</span><br><span class="line">            </span><br><span class="line">    min_value =arr[right]</span><br><span class="line">    <span class="keyword">return</span> min_value</span><br></pre></td></tr></table></figure>
<ul>
<li>è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰çš„å¥‡æ•°ä½äºæ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰çš„å¶æ•°ä½äºæ•°ç»„çš„ååŠéƒ¨åˆ†ï¼Œå¹¶ä¿è¯å¥‡æ•°å’Œå¥‡æ•°ï¼Œå¶æ•°å’Œå¶æ•°ä¹‹é—´çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚</p>
</blockquote>
<p>Tipsï¼š è¿™ä¸ªè·Ÿå¿«é€Ÿæ’åºæ˜¯æœ‰ç‚¹åƒçš„ï¼Œä»å³å·¦å„æ‰¾åˆ°ä¸€ä¸ªä¸ç¬¦åˆæ¡ä»¶ï¼Œç„¶åäº¤æ¢ä½ç½®ã€‚å¿«æ’ä¸­è¿™ä¸ªè¿‡ç¨‹æ˜¯çº¿æ€§çš„ï¼Œéå¹¶è¡Œã€‚ä¸‹é¢çš„å®ç°ä»ç®—æ³•è§’åº¦å¹¶ä¸æ˜¯niceçš„ï¼Œä½¿ç”¨äº†python ä¸­çš„listï¼Œæœ€å¥½çš„åº”è¯¥æ˜¯ inplace çš„é‚£ç§ï¼Œç«‹åœ°äº¤æ¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">list å’Œlist ä¹‹é—´çš„è¿æ¥ï¼Œä½¿ç”¨ list1+ list2 å°±æ˜¯å¯ä»¥çš„</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reOrderArray</span><span class="params">(self, array)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> array ==[]:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        odd_list =[]</span><br><span class="line">        even_list =[]</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> array:</span><br><span class="line">            <span class="keyword">if</span> item% <span class="number">2</span> ==<span class="number">1</span>:</span><br><span class="line">                odd_list.append(item)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                even_list.append(item)</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> odd_list+even_list</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ç‰ˆæœ¬ä¿ç•™äº†åŸå§‹æ•°å­—ç›¸å¯¹çš„é¡ºåºï¼Œä¸‹é¢è¿™ä¸ªæ²¡æœ‰ä¿ç•™ç›¸å¯¹çš„é¡ºåºã€‚å‰è€…çš„ç©ºé—´å¤æ‚åº¦æ˜¯O(N), åè€…çš„ç©ºé—´å¤æ‚åº¦æ˜¯O(1). </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reOrderArray</span><span class="params">(self, array)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(array) ==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        left =<span class="number">0</span></span><br><span class="line">        right =len(array)<span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> left &lt; right:</span><br><span class="line">            <span class="comment"># å¦‚æœæ˜¯å¥‡æ•°</span></span><br><span class="line">            key =array[left]</span><br><span class="line">            <span class="keyword">while</span> left &lt; right <span class="keyword">and</span> array[right] &amp; <span class="number">1</span> == <span class="number">0</span>:</span><br><span class="line">                right -= <span class="number">1</span></span><br><span class="line">            array[left] = array[right]</span><br><span class="line">            <span class="comment"># å¦‚æœæ˜¯å¶æ•°</span></span><br><span class="line">            <span class="keyword">while</span> left &lt; right <span class="keyword">and</span> array[left] &amp; <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">            array[right] = key</span><br><span class="line">        <span class="keyword">return</span> array</span><br></pre></td></tr></table></figure>
<ul>
<li>é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ï¼Œä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥å¦‚ä¸‹4 X 4çŸ©é˜µï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 åˆ™ä¾æ¬¡æ‰“å°å‡ºæ•°å­—1,2,3,4,8,12,16,15,14,13,9,5,6,7,11,10.</p>
</blockquote>
<p>Tips: ç»™å®šä¸€ä¸ªèµ·å§‹ç‚¹ï¼Œç„¶åæŒ‰ç…§é¡ºæ—¶é’ˆæ—‹è½¬å»éå†ã€‚æœ€åå¤„ç†å•è¡Œæˆ–è€…å•åˆ—çš„æƒ…å†µã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    æœ€åçš„ å¿…é¡»æ˜¯ä¸‰ç§ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœä¿®æ”¹æˆä¸¤ç§ï¼Œé‚£ä¹ˆâ€åªå‰©ä¸‹ä¸€ä¸ªâ€œ è¿™ç§ç‰¹æ®Šæƒ…å†µå°±è¢«è®¡ç®—äº†ä¸¤æ¬¡</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"><span class="comment"># matrixç±»å‹ä¸ºäºŒç»´åˆ—è¡¨ï¼Œéœ€è¦è¿”å›åˆ—è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printMatrix</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">    rows = len(matrix)</span><br><span class="line">    cols = len(matrix[<span class="number">0</span>])</span><br><span class="line">    top = <span class="number">0</span></span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    down = rows - <span class="number">1</span></span><br><span class="line">    right = cols - <span class="number">1</span></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">while</span> top &lt; down <span class="keyword">and</span> left &lt; right:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(left, right + <span class="number">1</span>):</span><br><span class="line">            result.append(matrix[top][j])</span><br><span class="line">        top += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(top, down + <span class="number">1</span>):</span><br><span class="line">            result.append(matrix[i][right])</span><br><span class="line">        right -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(right, left - <span class="number">1</span>, <span class="number">-1</span>):</span><br><span class="line">            result.append(matrix[down][j])</span><br><span class="line">        down -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(down, top - <span class="number">1</span>, <span class="number">-1</span>):</span><br><span class="line">            result.append(matrix[i][left])</span><br><span class="line">        left += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> top == down <span class="keyword">and</span> left &lt; right:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(left, right + <span class="number">1</span>):</span><br><span class="line">            result.append(matrix[top][j])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> top &lt; down <span class="keyword">and</span> left == right:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(top, down + <span class="number">1</span>):</span><br><span class="line">            result.append(matrix[i][left])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> top == down <span class="keyword">and</span> left == right:</span><br><span class="line">        result.append(matrix[top][left])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"> ```       </span><br><span class="line">    </span><br><span class="line">- å­—ç¬¦ä¸²çš„æ’åˆ—</span><br><span class="line"></span><br><span class="line">&gt; è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,æŒ‰å­—å…¸åºæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²abc,åˆ™æ‰“å°å‡ºç”±å­—ç¬¦a,b,cæ‰€èƒ½æ’åˆ—å‡ºæ¥çš„æ‰€æœ‰å­—ç¬¦ä¸²abc,acb,bac,bca,cabå’Œcbaã€‚</span><br><span class="line"></span><br><span class="line">Tips: é€’å½’</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># é€’å½’ï¼š å˜æ¢æ–¹ç¨‹ï¼š ç¬¬ä¸€å­—æ¯å’Œ å‰©ä¸‹çš„æ‰€æœ‰çš„å­—æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Permutation</span><span class="params">(self, ss)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ss:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    res = []</span><br><span class="line">    self.helper(ss, <span class="string">''</span>, res)</span><br><span class="line">    <span class="keyword">return</span> sorted(list(set(res)))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, ss, path, res)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ss:</span><br><span class="line">        res.append(path)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(ss)):</span><br><span class="line">        self.helper(ss[:i] + ss[i + <span class="number">1</span>:], path + ss[i], res)</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—</li>
</ul>
<blockquote>
<p>æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º9çš„æ•°ç»„{1,2,3,2,2,2,5,4,2}ã€‚ç”±äºæ•°å­—2åœ¨æ•°ç»„ä¸­å‡ºç°äº†5æ¬¡ï¼Œè¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œå› æ­¤è¾“å‡º2ã€‚å¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º0ã€‚</p>
</blockquote>
<p>Tipsï¼š å¦‚æœæŸä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°å¤šäºä¸€åŠï¼Œé‚£ä¹ˆå…¶ä»–æ‰€æœ‰éè¯¥æ•°å­—çš„å‡ºç°çš„é¢‘æ•°æ˜¯å°äºè¯¥æ•°å­—çš„ï¼Œæ‰€ä»¥å½¢æˆä¸€ä¸ªäºŒåˆ†ç±»ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># å¦‚æœå­˜åœ¨è¿™æ ·çš„æ•°å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å­—çš„é¢‘æ•°ä¸€å®šæ˜¯å¤§äºå…¶ä»–æ‰€æœ‰çš„é¢‘æ•°</span></span><br><span class="line"><span class="comment"># æ‰€ä»¥å¯ä»¥ç»Ÿè®¡ä¸€ä¸‹è¿™ä¸ª</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(self, numbers)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> numbers:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    target = numbers[<span class="number">0</span>]</span><br><span class="line">    nums = <span class="number">0</span></span><br><span class="line">    <span class="comment"># ç»Ÿè®¡å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°å­—</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> numbers:</span><br><span class="line">        <span class="keyword">if</span> target == i:</span><br><span class="line">            nums += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> nums == <span class="number">0</span>:</span><br><span class="line">            target = i</span><br><span class="line">            nums = <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            nums -= <span class="number">1</span></span><br><span class="line">    res = target <span class="keyword">if</span> numbers.count(target) &gt; len(numbers) // <span class="number">2</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</li>
</ul>
<blockquote>
<p>HZå¶å°”ä¼šæ‹¿äº›ä¸“ä¸šé—®é¢˜æ¥å¿½æ‚ é‚£äº›éè®¡ç®—æœºä¸“ä¸šçš„åŒå­¦ã€‚ä»Šå¤©æµ‹è¯•ç»„å¼€å®Œä¼šå,ä»–åˆå‘è¯äº†:åœ¨å¤è€çš„ä¸€ç»´æ¨¡å¼è¯†åˆ«ä¸­,å¸¸å¸¸éœ€è¦è®¡ç®—è¿ç»­å­å‘é‡çš„æœ€å¤§å’Œ,å½“å‘é‡å…¨ä¸ºæ­£æ•°çš„æ—¶å€™,é—®é¢˜å¾ˆå¥½è§£å†³ã€‚ä½†æ˜¯,å¦‚æœå‘é‡ä¸­åŒ…å«è´Ÿæ•°,æ˜¯å¦åº”è¯¥åŒ…å«æŸä¸ªè´Ÿæ•°,å¹¶æœŸæœ›æ—è¾¹çš„æ­£æ•°ä¼šå¼¥è¡¥å®ƒå‘¢ï¼Ÿä¾‹å¦‚:{6,-3,-2,7,-15,1,2,2},è¿ç»­å­å‘é‡çš„æœ€å¤§å’Œä¸º8(ä»ç¬¬0ä¸ªå¼€å§‹,åˆ°ç¬¬3ä¸ªä¸ºæ­¢)ã€‚ç»™ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›å®ƒçš„æœ€å¤§è¿ç»­å­åºåˆ—çš„å’Œï¼Œä½ ä¼šä¸ä¼šè¢«ä»–å¿½æ‚ ä½ï¼Ÿ(å­å‘é‡çš„é•¿åº¦è‡³å°‘æ˜¯1)</p>
</blockquote>
<p>Tips: ä¸€ç»´æ•°ç»„ï¼Œéå†ä¸€éï¼Œç„¶åæœ€å¤§å­æ•°ç»„å’Œçš„è¿‡ç¨‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># largest , sum è¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„çŠ¶æ€</span></span><br><span class="line"><span class="comment"># æ³¨æ„åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">FindGreatestSumOfSubArray</span><span class="params">(self, array)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> array:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    largest =array[<span class="number">0</span>]</span><br><span class="line">    sum_of_array =<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> array:</span><br><span class="line">        sum_of_array += i</span><br><span class="line">        <span class="keyword">if</span> sum_of_array &gt; largest:</span><br><span class="line">            largest =sum_of_array</span><br><span class="line">        <span class="keyword">elif</span> sum_of_array &lt;<span class="number">0</span>:</span><br><span class="line">            sum_of_array =<span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> largest</span><br></pre></td></tr></table></figure>
<ul>
<li>ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</li>
</ul>
<blockquote>
<p>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²(0&lt;=å­—ç¬¦ä¸²é•¿åº¦&lt;=10000ï¼Œå…¨éƒ¨ç”±å­—æ¯ç»„æˆ)ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦,å¹¶è¿”å›å®ƒçš„ä½ç½®, å¦‚æœæ²¡æœ‰åˆ™è¿”å› -1ï¼ˆéœ€è¦åŒºåˆ†å¤§å°å†™ï¼‰.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Three ways to get dictionary of string s</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FirstNotRepeatingChar</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="comment"># get dictionary</span></span><br><span class="line">        <span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line">        dict1 =defaultdict(int)</span><br><span class="line">        <span class="keyword">for</span> string <span class="keyword">in</span> s:</span><br><span class="line">            dict1[string] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># or this way</span></span><br><span class="line">        <span class="comment"># from collections import Counter</span></span><br><span class="line">        <span class="comment"># dict1 =Counter(s)</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># or do it yourself</span></span><br><span class="line">        <span class="comment">#dict1 =self.Counter_self(s)</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> index, val <span class="keyword">in</span> enumerate(s):</span><br><span class="line">            <span class="keyword">if</span> dict1[val] == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Counter_self</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        dict1 = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> val <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> val <span class="keyword">not</span> <span class="keyword">in</span> dict1:</span><br><span class="line">                dict1[val] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dict1[val] = dict1[val] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> dict1</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•°ç»„ä¸­çš„é€†åºå¯¹</li>
</ul>
<blockquote>
<p>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„,æ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°Pã€‚å¹¶å°†På¯¹1000000007å–æ¨¡çš„ç»“æœè¾“å‡ºã€‚ å³è¾“å‡ºP%1000000007</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># ä¹‹å‰åœ¨ç‰›å®¢ç½‘ä¸Šæ˜¯å¯ä»¥é€šè¿‡çš„ï¼Œç°åœ¨å› ä¸ºæ—¶é—´å¤æ‚åº¦åˆæ²¡åŠæ³•é€šè¿‡äº†</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªä¸€æ–¤éš¾å‡ºå¤©æœºäº† å…ˆä¸çœ‹äº†</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªåˆ°åæ¥å°±å·²ç»èƒŒä¸‹æ¥äº†</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">InversePairs</span><span class="params">(self, data)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        temp = [i <span class="keyword">for</span> i <span class="keyword">in</span> data]</span><br><span class="line">        <span class="keyword">return</span> self.mergeSort(temp, data, <span class="number">0</span>, len(data ) <span class="number">-1</span>) % <span class="number">1000000007</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span><span class="params">(self, temp, data, low, high)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> low &gt;= high:</span><br><span class="line">            temp[low] = data[low]</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        mid = (low + high) / <span class="number">2</span></span><br><span class="line">        <span class="comment"># ä¸æ‡‚ data å’Œ temp ä¸ºä»€ä¹ˆæ˜¯é¢ å€’é¡ºåº</span></span><br><span class="line">        left = self.mergeSort(data, temp, low, mid)</span><br><span class="line">        right = self.mergeSort(data, temp, mid +<span class="number">1</span>, high)</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        i = low</span><br><span class="line">        j = mid +<span class="number">1</span></span><br><span class="line">        index = low</span><br><span class="line">        <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= high:</span><br><span class="line">            <span class="keyword">if</span> data[i] &lt;= data[j]:</span><br><span class="line">                temp[index] = data[i]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                temp[index] = data[j]</span><br><span class="line">                count += mid - i +<span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt;= mid:</span><br><span class="line">            temp[index] = data[i]</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> j &lt;= high:</span><br><span class="line">            temp[index] = data[j]</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count + left + right</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°</li>
</ul>
<blockquote>
<p>ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># äºŒåˆ†æŸ¥æ‰¾ï¼Œå½“ data[mid] ==key çš„æ—¶å€™æ˜¯é¡ºåºæŸ¥æ‰¾ï¼Œæ˜¯é€’å½’è·³å‡ºçš„æ¡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetNumberOfK</span><span class="params">(self, data, k)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªæ˜¯æœ‰ä¸¤ä¸ªè·³å‡ºæ¡ä»¶çš„ï¼Œä¸€ä¸ªæ˜¯æ­£ç¡®çš„è·³å‡ºï¼Œä¸€ä¸ªæ˜¯ä¸æ­£ç¡®çš„è·³å‡º</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    mid =len(data) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> data[mid] == k:</span><br><span class="line">        left = right = mid</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(mid - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> data[i] == k:</span><br><span class="line">                left -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(mid + <span class="number">1</span>, len(data)):</span><br><span class="line">            <span class="keyword">if</span> data[i] == k:</span><br><span class="line">                right += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> right - left + <span class="number">1</span></span><br><span class="line">    <span class="comment"># ä¸€åŠä¸€åŠçš„èˆå»æ•°æ®</span></span><br><span class="line">    <span class="keyword">elif</span> data[mid] &lt; k:</span><br><span class="line">        <span class="keyword">return</span> self.GetNumberOfK(data[mid + <span class="number">1</span>:], k)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> self.GetNumberOfK(data[:mid - <span class="number">1</span>], k)</span><br><span class="line"> ```         </span><br><span class="line"> </span><br><span class="line">- æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</span><br><span class="line"></span><br><span class="line">&gt; ä¸€ä¸ªæ•´å‹æ•°ç»„é‡Œé™¤äº†ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–çš„æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</span><br><span class="line"></span><br><span class="line">Tips: å¼‚æˆ–æ“ä½œï¼Œä¸¤ä¸ªåè¿›åˆ¶æ•°å­—ç»è¿‡å¼‚æˆ–ï¼ˆäºŒçº§åˆ¶è®¡ç®—è¿‡ç¨‹ï¼‰ï¼Œæœ€åçš„ç»“æœæ˜¯<span class="number">10</span>è¿›åˆ¶çš„å½¢å¼ã€‚å¦‚æœä¸¤ä¸ªç›¸åŒçš„æ•°å­—å¼‚æˆ–ï¼Œé‚£ä¹ˆæœ€åçš„ç»“æœæ˜¯<span class="number">0</span>ï¼Œå¦‚æœæ˜¯ä¸åŒçš„æ•°å­—ï¼Œæœ€åçš„ç»“æœæ˜¯é<span class="number">0.</span>æ¯”å¦‚</span><br><span class="line"></span><br><span class="line">&gt; <span class="number">2</span>^<span class="number">4</span> <span class="comment"># 4</span></span><br><span class="line">&gt; <span class="number">3</span>^<span class="number">4</span> <span class="comment"># 7</span></span><br><span class="line">&gt; <span class="number">40</span>^<span class="number">42</span> <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line">ç»“æœçš„äºŒè¿›åˆ¶å½¢å¼ä¸€å®šè‡³å°‘æœ‰ä¸€ä¸ª <span class="string">"1"</span>. </span><br><span class="line">ä½¿ç”¨index å¾—åˆ°ä¸¤ä¸ªä¸åŒçš„æ•°å­—äºŒè¿›åˆ¶å½¢å¼ä¸‹çš„ä½ç½®ï¼Œç„¶åä»è¯¥ä½ç½®å°†åŸæ¥çš„æ•°ç»„åˆ†æˆä¸¤ç±»ï¼Œé‚£ä¹ˆæ¯ç±»ä¸­åªå«æœ‰ä¸€ä¸ªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œæ¥ç€ä½¿ç”¨å¼‚æˆ–æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        <span class="comment"># è¿”å›[a,b] å…¶ä¸­abæ˜¯å‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—</span></span><br><span class="line">        <span class="comment"># ä½¿ç”¨å¼‚æˆ–çš„æ€§è´¨ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªä¸åŒï¼Œå…¶ä»–çš„å¶æ¬¡å‡ºç°ï¼Œé‚£ä¹ˆå…¨éƒ¨å¼‚æˆ–çš„ç»“æœ</span></span><br><span class="line">        <span class="comment"># å°±æ˜¯é‚£ä¸ªå•ä¸€çš„æ•°å­—</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">FindNumsAppearOnce</span><span class="params">(self, array)</span>:</span></span><br><span class="line">            <span class="comment"># write code here</span></span><br><span class="line">            remain, index =<span class="number">0</span>, <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> array:</span><br><span class="line">                remain = remain ^ num</span><br><span class="line">            <span class="comment"># æ‰¾å‡ºç¬¬ä¸€ä¸ªæ˜¯1 çš„ä½ç½®</span></span><br><span class="line">            <span class="comment"># index éƒ½æ˜¯</span></span><br><span class="line">            <span class="keyword">while</span> (remain &amp; index) ==<span class="number">0</span>:</span><br><span class="line">                index = index  &lt;&lt;<span class="number">1</span></span><br><span class="line">            res1, res2 =<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> array:</span><br><span class="line">                <span class="comment"># è¿™ä¸ªæ¡ä»¶å¿…é¡»æ˜¯0, è¡¨ç¤ºä¸¤ä¸ªåœ¨è¿™ä¸ªä½æ•°æ˜¯ç›¸åŒçš„ï¼Œ</span></span><br><span class="line">                <span class="keyword">if</span> num &amp; index ==<span class="number">0</span>:</span><br><span class="line">                    res1 =res1 ^ num</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    res2 =res2 ^ num</span><br><span class="line">            <span class="keyword">return</span> [res1, res2]</span><br></pre></td></tr></table></figure>
<ul>
<li>å’Œä¸ºSçš„è¿ç»­æ­£æ•°åºåˆ—</li>
</ul>
<blockquote>
<p>å°æ˜å¾ˆå–œæ¬¢æ•°å­¦,æœ‰ä¸€å¤©ä»–åœ¨åšæ•°å­¦ä½œä¸šæ—¶,è¦æ±‚è®¡ç®—å‡º9~16çš„å’Œ,ä»–é©¬ä¸Šå°±å†™å‡ºäº†æ­£ç¡®ç­”æ¡ˆæ˜¯100ã€‚ä½†æ˜¯ä»–å¹¶ä¸æ»¡è¶³äºæ­¤,ä»–åœ¨æƒ³ç©¶ç«Ÿæœ‰å¤šå°‘ç§è¿ç»­çš„æ­£æ•°åºåˆ—çš„å’Œä¸º100(è‡³å°‘åŒ…æ‹¬ä¸¤ä¸ªæ•°)ã€‚æ²¡å¤šä¹…,ä»–å°±å¾—åˆ°å¦ä¸€ç»„è¿ç»­æ­£æ•°å’Œä¸º100çš„åºåˆ—:18,19,20,21,22ã€‚ç°åœ¨æŠŠé—®é¢˜äº¤ç»™ä½ ,ä½ èƒ½ä¸èƒ½ä¹Ÿå¾ˆå¿«çš„æ‰¾å‡ºæ‰€æœ‰å’Œä¸ºSçš„è¿ç»­æ­£æ•°åºåˆ—?</p>
</blockquote>
<p>Tips: æ»‘åŠ¨çª—å£ï¼ˆä¸¤ä¸ªæŒ‡é’ˆï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">FindContinuousSequence</span><span class="params">(self, tsum)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> tsum &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    left = <span class="number">1</span></span><br><span class="line">    right = left + <span class="number">1</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">while</span> left &lt; tsum // <span class="number">2</span> + <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> sum(range(left, right)) == tsum:</span><br><span class="line">            res.append(range(left, right))</span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> sum(range(left, right)) &lt; tsum:</span><br><span class="line">            right += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<ul>
<li>å’Œä¸ºSçš„ä¸¤ä¸ªæ•°å­—</li>
</ul>
<blockquote>
<p>è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„å’Œä¸€ä¸ªæ•°å­—Sï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—ä»–ä»¬çš„å’Œæ­£å¥½æ˜¯Sï¼Œå¦‚æœæœ‰å¤šå¯¹æ•°å­—çš„å’Œç­‰äºSï¼Œè¾“å‡ºä¸¤ä¸ªæ•°çš„ä¹˜ç§¯æœ€å°çš„ã€‚</p>
</blockquote>
<p>å’Œä¸Šä¸€ä¸ªé¢˜ç›®çš„ä¸åŒç‚¹åœ¨äºï¼Œè¯¥é¢˜ç›®æ˜¯ç»™å®šäº†æŸä¸ªé€’å¢çš„æ•°ç»„ã€‚ä¸Šä¸€ä¸ªé¢˜ç›®é»˜è®¤çš„æ˜¯ (0, tsum//2+1) è¿™æ ·çš„åºåˆ—ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FindNumbersWithSum</span><span class="params">(self, array, tsum)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> len(array) &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        left = <span class="number">0</span></span><br><span class="line">        right = len(array) - <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">while</span> left &lt; right:</span><br><span class="line">            <span class="keyword">if</span> array[left] + array[right] == tsum:</span><br><span class="line">                <span class="keyword">return</span> [array[left], array[right]]</span><br><span class="line">            <span class="keyword">elif</span> array[left] + array[right] &lt; tsum:</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                right -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> []</span><br></pre></td></tr></table></figure>
<ul>
<li>å·¦æ—‹è½¬å­—ç¬¦ä¸²</li>
</ul>
<blockquote>
<p>æ±‡ç¼–è¯­è¨€ä¸­æœ‰ä¸€ç§ç§»ä½æŒ‡ä»¤å«åšå¾ªç¯å·¦ç§»ï¼ˆROLï¼‰ï¼Œç°åœ¨æœ‰ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œå°±æ˜¯ç”¨å­—ç¬¦ä¸²æ¨¡æ‹Ÿè¿™ä¸ªæŒ‡ä»¤çš„è¿ç®—ç»“æœã€‚å¯¹äºä¸€ä¸ªç»™å®šçš„å­—ç¬¦åºåˆ—Sï¼Œè¯·ä½ æŠŠå…¶å¾ªç¯å·¦ç§»Kä½åçš„åºåˆ—è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦åºåˆ—S=â€abcXYZdefâ€,è¦æ±‚è¾“å‡ºå¾ªç¯å·¦ç§»3ä½åçš„ç»“æœï¼Œå³â€œXYZdefabcâ€ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼ŸOKï¼Œæå®šå®ƒï¼</p>
</blockquote>
<p>Tips: pythonä¸­å­—ç¬¦ä¸²çš„å¤„ç†æ˜¯æ²¡æœ‰å‹åŠ›çš„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">LeftRotateString</span><span class="params">(self, s, n)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> len(s) &lt; n:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">        <span class="keyword">return</span> s[n:] + s[:n]</span><br><span class="line">```        </span><br><span class="line"></span><br><span class="line">- ç¿»è½¬å•è¯é¡ºåºåˆ—</span><br><span class="line"></span><br><span class="line">&gt; ç‰›å®¢æœ€è¿‘æ¥äº†ä¸€ä¸ªæ–°å‘˜å·¥Fishï¼Œæ¯å¤©æ—©æ™¨æ€»æ˜¯ä¼šæ‹¿ç€ä¸€æœ¬è‹±æ–‡æ‚å¿—ï¼Œå†™äº›å¥å­åœ¨æœ¬å­ä¸Šã€‚åŒäº‹Catå¯¹Fishå†™çš„å†…å®¹é¢‡æ„Ÿå…´è¶£ï¼Œæœ‰ä¸€å¤©ä»–å‘Fishå€Ÿæ¥ç¿»çœ‹ï¼Œä½†å´è¯»ä¸æ‡‚å®ƒçš„æ„æ€ã€‚ä¾‹å¦‚ï¼Œâ€œstudent. a am Iâ€ã€‚åæ¥æ‰æ„è¯†åˆ°ï¼Œè¿™å®¶ä¼™åŸæ¥æŠŠå¥å­å•è¯çš„é¡ºåºç¿»è½¬äº†ï¼Œæ­£ç¡®çš„å¥å­åº”è¯¥æ˜¯â€œI am a student.â€ã€‚Catå¯¹ä¸€ä¸€çš„ç¿»è½¬è¿™äº›å•è¯é¡ºåºå¯ä¸åœ¨è¡Œï¼Œä½ èƒ½å¸®åŠ©ä»–ä¹ˆï¼Ÿ</span><br><span class="line"></span><br><span class="line">Tipsï¼šé¦–å…ˆå®šä¹‰ä¸€ä¸ªhelper() åŠŸèƒ½æ˜¯ç¿»è½¬å­—ç¬¦ä¸²ï¼Œç„¶åä¸¤æ¬¡ç¿»è½¬ã€‚ç¬¬ä¸€æ¬¡æ˜¯å…¨éƒ¨ç¿»è½¬ï¼Œç¬¬äºŒæ¬¡æ˜¯å•è¯ç¿»è½¬ã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Reverse</span><span class="params">(self, s, left, right)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;right:</span><br><span class="line">            s[left], s[right] = s[right], s[left]</span><br><span class="line">            left +=<span class="number">1</span></span><br><span class="line">            right -=<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ReverseSentence</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        <span class="comment"># from immutable string to mutable list</span></span><br><span class="line">        s =list(s)</span><br><span class="line">        self.Reverse(s, <span class="number">0</span>, len(s) - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        start, end = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="comment"># è¿™ä¸ªå°äºå· æ˜¯python ä¸­ç‰¹æœ‰çš„å‘ï¼ŒçœŸæ­£èƒ½å¤Ÿè®¿é—®çš„åŒºé—´æ˜¯ [0, len(s)-1] è¿™æ ·çš„åŒºé—´</span></span><br><span class="line">        <span class="keyword">while</span> start &lt; len(s):</span><br><span class="line">            <span class="keyword">if</span> s[start] == <span class="string">" "</span>:</span><br><span class="line">                start += <span class="number">1</span></span><br><span class="line">                end += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> end == len(s) <span class="keyword">or</span> s[end] == <span class="string">" "</span>:</span><br><span class="line">                self.Reverse(s, start, end - <span class="number">1</span>)</span><br><span class="line">                <span class="comment"># update æ“ä½œ</span></span><br><span class="line">                end += <span class="number">1</span></span><br><span class="line">                start = end</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                end += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join(s)</span><br></pre></td></tr></table></figure>
<ul>
<li>æ‰‘å…‹ç‰Œé¡ºå­</li>
</ul>
<blockquote>
<p>LLä»Šå¤©å¿ƒæƒ…ç‰¹åˆ«å¥½,å› ä¸ºä»–å»ä¹°äº†ä¸€å‰¯æ‰‘å…‹ç‰Œ,å‘ç°é‡Œé¢å±…ç„¶æœ‰2ä¸ªå¤§ç‹,2ä¸ªå°ç‹(ä¸€å‰¯ç‰ŒåŸæœ¬æ˜¯54å¼ ^_^)â€¦ä»–éšæœºä»ä¸­æŠ½å‡ºäº†5å¼ ç‰Œ,æƒ³æµ‹æµ‹è‡ªå·±çš„æ‰‹æ°”,çœ‹çœ‹èƒ½ä¸èƒ½æŠ½åˆ°é¡ºå­,å¦‚æœæŠ½åˆ°çš„è¯,ä»–å†³å®šå»ä¹°ä½“è‚²å½©ç¥¨,å˜¿å˜¿ï¼ï¼â€œçº¢å¿ƒA,é»‘æ¡ƒ3,å°ç‹,å¤§ç‹,æ–¹ç‰‡5â€,â€œOh My God!â€ä¸æ˜¯é¡ºå­â€¦..LLä¸é«˜å…´äº†,ä»–æƒ³äº†æƒ³,å†³å®šå¤§/å° ç‹å¯ä»¥çœ‹æˆä»»ä½•æ•°å­—,å¹¶ä¸”Açœ‹ä½œ1,Jä¸º11,Qä¸º12,Kä¸º13ã€‚ä¸Šé¢çš„5å¼ ç‰Œå°±å¯ä»¥å˜æˆâ€œ1,2,3,4,5â€(å¤§å°ç‹åˆ†åˆ«çœ‹ä½œ2å’Œ4),â€œSo Lucky!â€ã€‚LLå†³å®šå»ä¹°ä½“è‚²å½©ç¥¨å•¦ã€‚ ç°åœ¨,è¦æ±‚ä½ ä½¿ç”¨è¿™å¹…ç‰Œæ¨¡æ‹Ÿä¸Šé¢çš„è¿‡ç¨‹,ç„¶åå‘Šè¯‰æˆ‘ä»¬LLçš„è¿æ°”å¦‚ä½•ï¼Œ å¦‚æœç‰Œèƒ½ç»„æˆé¡ºå­å°±è¾“å‡ºtrueï¼Œå¦åˆ™å°±è¾“å‡ºfalseã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§,ä½ å¯ä»¥è®¤ä¸ºå¤§å°ç‹æ˜¯0ã€‚</p>
</blockquote>
<p>Tipsï¼šlist ä¸­çš„ç©ºç¼ºæ•°é‡ éœ€è¦ä¸å¤§äº å¤§å°ç‹æ€»æ•°ï¼Œè¿™æ ·æ‰èƒ½æ„æˆé¡ºå­ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    ç©ºç¼ºæ˜¯1 æ„å‘³ç€è¿™ä¸¤ä¸ªæ•°å­—æ˜¯è¿ç»­çš„ æ¯”å¦‚è¯´ 1 2ï¼Œ è¿™ä¸ªbig -small ==1, æ‰€ä»¥è¿™ä¸ªç©ºç¼ºæ˜¯0ï¼Œä¸ç”¨è¿›è¡Œå¡«å……ã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">IsContinuous</span><span class="params">(self, numbers)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> numbers:</span><br><span class="line">            <span class="keyword">return</span>  <span class="keyword">False</span></span><br><span class="line">        numbers.sort()</span><br><span class="line">        <span class="comment"># sort() sorted() è¿™ç§æ€ä¹ˆä½¿ç”¨ï¼Œè¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œè¿™äº›åŸºæœ¬çš„ä¸œè¥¿</span></span><br><span class="line">        zeros =numbers.count(<span class="number">0</span>)</span><br><span class="line">        gaps = <span class="number">0</span></span><br><span class="line">        left = zeros</span><br><span class="line">        <span class="comment"># å› ä¸ºè¿™ä¸ªæ˜¯æ’åºä¹‹åçš„ç»“æœï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·è¿›è¡Œæ“ä½œ</span></span><br><span class="line">        right = left + <span class="number">1</span></span><br><span class="line">        <span class="comment"># å®é™…ä¸Šè¿˜æ˜¯ä¸¤ä¸ªæŒ‡é’ˆï¼Œ æ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆè¿›è¡Œæ“ä½œ</span></span><br><span class="line">        <span class="comment"># æœ¬è´¨ä¸Šæ˜¯ä¸¤ä¸ª ç›¸é‚»æŒ‡é’ˆåœ¨è¿›è¡Œç§»åŠ¨ï¼Œå› ä¸ºæ˜¯æ’åºä¹‹åï¼Œæ‰€ä»¥æ²¡æœ‰é—®é¢˜</span></span><br><span class="line">        <span class="keyword">while</span> right &lt; len(numbers):</span><br><span class="line">            <span class="keyword">if</span> numbers[left] == numbers[right]:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">            gaps += numbers[right] - numbers[left] - <span class="number">1</span></span><br><span class="line">            left = right</span><br><span class="line">            right += <span class="number">1</span></span><br><span class="line">        <span class="comment"># è¿™ç§æ˜¯çœŸçš„ å¾ˆç®€æ´ï¼Œ gaps &lt;= zeros å°‘å»äº†å¾ˆå¤šif elseçš„åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">return</span> gaps &lt;= zeros</span><br></pre></td></tr></table></figure>
<ul>
<li>å­©å­ä»¬çš„æ¸¸æˆ(åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°)</li>
</ul>
<blockquote>
<p>æ¯å¹´å…­ä¸€å„¿ç«¥èŠ‚,ç‰›å®¢éƒ½ä¼šå‡†å¤‡ä¸€äº›å°ç¤¼ç‰©å»çœ‹æœ›å­¤å„¿é™¢çš„å°æœ‹å‹,ä»Šå¹´äº¦æ˜¯å¦‚æ­¤ã€‚HFä½œä¸ºç‰›å®¢çš„èµ„æ·±å…ƒè€,è‡ªç„¶ä¹Ÿå‡†å¤‡äº†ä¸€äº›å°æ¸¸æˆã€‚å…¶ä¸­,æœ‰ä¸ªæ¸¸æˆæ˜¯è¿™æ ·çš„:é¦–å…ˆ,è®©å°æœ‹å‹ä»¬å›´æˆä¸€ä¸ªå¤§åœˆã€‚ç„¶å,ä»–éšæœºæŒ‡å®šä¸€ä¸ªæ•°m,è®©ç¼–å·ä¸º0çš„å°æœ‹å‹å¼€å§‹æŠ¥æ•°ã€‚æ¯æ¬¡å–Šåˆ°m-1çš„é‚£ä¸ªå°æœ‹å‹è¦å‡ºåˆ—å”±é¦–æ­Œ,ç„¶åå¯ä»¥åœ¨ç¤¼å“ç®±ä¸­ä»»æ„çš„æŒ‘é€‰ç¤¼ç‰©,å¹¶ä¸”ä¸å†å›åˆ°åœˆä¸­,ä»ä»–çš„ä¸‹ä¸€ä¸ªå°æœ‹å‹å¼€å§‹,ç»§ç»­0â€¦m-1æŠ¥æ•°â€¦.è¿™æ ·ä¸‹å»â€¦.ç›´åˆ°å‰©ä¸‹æœ€åä¸€ä¸ªå°æœ‹å‹,å¯ä»¥ä¸ç”¨è¡¨æ¼”,å¹¶ä¸”æ‹¿åˆ°ç‰›å®¢åè´µçš„â€œåä¾¦æ¢æŸ¯å—â€å…¸è—ç‰ˆ(åé¢æœ‰é™å“¦!!^_^)ã€‚è¯·ä½ è¯•ç€æƒ³ä¸‹,å“ªä¸ªå°æœ‹å‹ä¼šå¾—åˆ°è¿™ä»½ç¤¼å“å‘¢ï¼Ÿ(æ³¨ï¼šå°æœ‹å‹çš„ç¼–å·æ˜¯ä»0åˆ°n-1)</p>
</blockquote>
<p>Tips:  çº¦ç‘Ÿå¤«ç¯çš„é—®é¢˜ï¼Œ è¦æ±‚æ±‚è§£çš„æ˜¯æœ€åèƒœåˆ©è€…çš„ç¼–å·ï¼Œæ‰€ä»¥åº”ç”¨æ•°å­¦æŠ€å·§å°±å¯ä»¥äº†ã€‚ $ f(x) = (f( x-1) + m ) % (x) $ , å…±æœ‰ m ä¸ªç¼–å·ï¼Œn ä¸ªäºº</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># mod æ±‚ä½™ çš„æ“ä½œï¼Œ a mod b ==c ,è¯´æ˜ aé™¤ä»¥b ä¹‹åä½™æ•°æ˜¯c</span></span><br><span class="line"><span class="comment"># https://blog.csdn.net/gatieme/article/details/51435055ï¼Œ ä»åšé¢˜æ€è·¯ä¸Šè®²è§£çš„æ¯”è¾ƒå¥½</span></span><br><span class="line"><span class="comment"># n ä¸ªå°æœ‹å‹ï¼Œç„¶åæ˜¯m ä¸ªç¼–å·</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">LastRemaining_Solution</span><span class="params">(self, n, m)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    <span class="keyword">if</span> n&lt; <span class="number">1</span> <span class="keyword">or</span> m&lt;<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    last =<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n+<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># è¿™ä¸ªç›¸å½“äº æ˜¯ä¸€ä¸ª â€œæŒ‘é€‰äººâ€ çš„é€†è¿‡ç¨‹ï¼Œ å› ä¸ºä½¿ç”¨çš„  mod æ“ä½œå°±æ˜¯å–ä½™çš„æ“ä½œ</span></span><br><span class="line">        last =(last +m) %i</span><br><span class="line">    <span class="keyword">return</span> last</span><br></pre></td></tr></table></figure>
<ul>
<li>æ±‚1+2+3+â€¦+n</li>
</ul>
<blockquote>
<p>æ±‚1+2+3+â€¦+nï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚</p>
</blockquote>
<p>Tipsï¼š ä¸ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ï¼Œæ¥æ§åˆ¶è·³å‡ºï¼›è¿™é‡Œä½¿ç”¨çš„æ˜¯ â€œçŸ­è·¯æ¡ä»¶â€ æ¥ æ§åˆ¶ é€’å½’çš„è·³å‡ºã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># å¦‚æœä½ æƒ³ä½¿ç”¨å…¨å±€å˜é‡ï¼Œé‚£ä¹ˆæ”¾åœ¨ __init__ ä¸­å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.ans =<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Sum_Solution</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        self.recur(n)</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br><span class="line"></span><br><span class="line">    <span class="comment"># n&gt;0 å°±æ˜¯ä¸€ä¸ªçŸ­è·¯æ¡ä»¶ï¼Œè¿™ä¸ªç›´æ¥å†³å®šäº†åé¢é€’å½’ä¼šä¸ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ï¼Œä¹Ÿå°±æ˜¯è·³å‡ºçš„æ¡ä»¶</span></span><br><span class="line">    <span class="comment"># è‡³äºä¼šä¸ä¼šå›åˆ°åŸæ¥æœ€åˆçš„çŠ¶æ€ï¼Œè¿™ä¸ªæ˜¯ä¸é‡è¦çš„ï¼Œæœ€åçš„ç»“æœæ˜¯ self.ans ï¼Œfalseä¹‹åç›´æ¥ä½¿ç”¨è¿™ä¸ªå°±è¡Œäº†</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">recur</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.ans += n</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> <span class="keyword">and</span> self.Sum_Solution(n)</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</li>
</ul>
<blockquote>
<p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨+ã€-ã€*ã€/å››åˆ™è¿ç®—ç¬¦å·ã€‚</p>
</blockquote>
<p>Tips:  ä½¿ç”¨ å¼‚æˆ–å’Œä¸ æ¥è¿›è¡Œ â€œåŠ â€ã€â€œå‡â€çš„æ“ä½œã€‚åŠ æ³•æ˜¯åˆ†æˆå½“å‰ä½ç›¸åŠ  å’Œè¿›ä½ä¸¤ä¸ªéƒ¨åˆ†çš„ã€‚<br>psï¼Œpython ä¸­ å‡½æ•°åæ˜¯åˆ†å¤§å°å†™çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    ä¸èƒ½ä½¿ç”¨å››åˆ™è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä½è¿ç®—ç¬¦ã€‚å¯¹è¿™ä¸¤ä¸ªæ•°åœ¨æ›´åº•å±‚çš„è§’åº¦ä¸Šè¿›è¡Œè¿ç®—ã€‚ä¹Ÿå°±æ˜¯ä» 01 è¿™ç§å­ä¸²çš„è§’åº¦è¿›è¡Œè€ƒè™‘</span></span><br><span class="line"><span class="string">    https://blog.csdn.net/derrantcm/article/details/46798763 è¿™ä¸ªåšå®¢å¯¹äºæ•°çš„è¿ç®—è¿‡ç¨‹å’Œ ä½è¿ç®—æ˜¯å¦‚ä½•ä¸€ä¸€å¯¹åº”çš„ã€‚åˆ†ä¸ºä¸è¿›ä½ç›¸åŠ å’Œè¿›ä½ç›¸åŠ ã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªåªèƒ½æ˜¯æ­£æ•´æ•°çš„æ“ä½œï¼ŒçœŸæ˜¯çƒ­åŠ›ç‹—</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªå¼„å‡ºæ¥æ˜¯çœŸå¿ƒä¸å®¹æ˜“å“ˆ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self, num1, num2)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> num2 != <span class="number">0</span>:</span><br><span class="line">            carry = num1 &amp; num2</span><br><span class="line">            num1 = num1 ^ num2</span><br><span class="line">            <span class="comment"># è¿™ä¸ªåº”è¯¥ç†è§£ä¸ºåˆ°é«˜ä½ è€Œä¸æ˜¯*2 è¿™æ ·çš„æ“ä½œ</span></span><br><span class="line">            num2 = carry &lt;&lt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> num1</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sub</span><span class="params">(self, num1, num2)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> num2 != <span class="number">0</span>:</span><br><span class="line">            carry = (~num1) &amp; num2</span><br><span class="line">            num1 = num1 ^ num2</span><br><span class="line">            num2 = carry &lt;&lt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> num1</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Add</span><span class="params">(self, num1, num2)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> num1 &gt;= <span class="number">0</span> <span class="keyword">and</span> num2 &gt;= <span class="number">0</span>:</span><br><span class="line">            result = self.add(num1, num2)</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">elif</span> num1 &gt; <span class="number">0</span> <span class="keyword">and</span> num2 &lt; <span class="number">0</span>:</span><br><span class="line">    </span><br><span class="line">            flag = <span class="number">1</span> <span class="keyword">if</span> num1 &gt; abs(num2) <span class="keyword">else</span> <span class="number">-1</span></span><br><span class="line">            <span class="comment"># num2 =abs(num2)</span></span><br><span class="line">            <span class="comment"># keep num1 bigger than num2</span></span><br><span class="line">            <span class="keyword">if</span> num1 &lt; abs(num2):</span><br><span class="line">                num1, num2 = abs(num2), num1</span><br><span class="line">    </span><br><span class="line">            result = self.sub(num1, abs(num2))</span><br><span class="line">            result = result * flag</span><br><span class="line">        <span class="keyword">elif</span> num1 &lt; <span class="number">0</span> <span class="keyword">and</span> num2 &gt; <span class="number">0</span>:</span><br><span class="line">            flag = <span class="number">1</span> <span class="keyword">if</span> abs(num1) &lt; num2 <span class="keyword">else</span> <span class="number">-1</span></span><br><span class="line">    </span><br><span class="line">            <span class="keyword">if</span> abs(num1) &lt; num2:</span><br><span class="line">                num1, num2 = num2, abs(num1)</span><br><span class="line">            result = self.sub(abs(num1), num2)</span><br><span class="line">    </span><br><span class="line">            result = result * flag</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            flag = <span class="number">-1</span></span><br><span class="line">            num1 = abs(num1)</span><br><span class="line">            num2 = abs(num2)</span><br><span class="line">            result = self.add(num1, num2)</span><br><span class="line">            result = result * flag</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<ul>
<li>æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°</li>
</ul>
<blockquote>
<p>å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªæ•´æ•°(å®ç°Integer.valueOf(string)çš„åŠŸèƒ½ï¼Œä½†æ˜¯stringä¸ç¬¦åˆæ•°å­—è¦æ±‚æ—¶è¿”å›0)ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°çš„åº“å‡½æ•°ã€‚ æ•°å€¼ä¸º0æˆ–è€…å­—ç¬¦ä¸²ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ•°å€¼åˆ™è¿”å›0ã€‚</p>
</blockquote>
<p>Tipsï¼šè¿˜æ˜¯python ä¸­å¤„ç† stringï¼Œ ä½¿ç”¨ dictionary å¤„ç†å­—ç¬¦ä¸²å’Œ æ•°å­—çš„åŒ¹é…ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># æœ‰å¾ˆå¤šä¸åˆæ³•çš„è¾“å…¥ï¼Œæ¯”å¦‚ç©ºå­—ç¬¦ä¸²ï¼Œæ­£è´Ÿå·ï¼Œéæ•°å­—å­—ç¬¦ æ•°æ®æº¢å‡ºï¼Œæ‰€ä»¥ä»åé¢è€ƒè™‘æ›´åŠ ç®€å•ä¸€äº›</span></span><br><span class="line"><span class="comment"># åˆæ³•çš„è¾“å…¥åªæœ‰æ•°å­—å’Œç¬¦å·ä½ + å’Œ-</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">StrToInt</span><span class="params">(self, s)</span>:</span></span><br><span class="line">    <span class="comment"># write code here</span></span><br><span class="line">    int_list=[<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>,<span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>, <span class="string">'+'</span>, <span class="string">'-'</span>]</span><br><span class="line">    <span class="keyword">if</span> s ==<span class="string">" "</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    sum1 =<span class="number">0</span></span><br><span class="line">    flag =<span class="number">1</span> <span class="comment"># æ­£è´Ÿå·</span></span><br><span class="line">    <span class="keyword">for</span> string <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> string <span class="keyword">not</span> <span class="keyword">in</span> int_list:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> string ==<span class="string">"+"</span>:</span><br><span class="line">            flag =<span class="number">1</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> string ==<span class="string">"-"</span>:</span><br><span class="line">            flag = <span class="number">-1</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            sum1 =sum1 *<span class="number">10</span> +int_list.index(string)</span><br><span class="line">    <span class="keyword">return</span> sum1*flag</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</li>
</ul>
<blockquote>
<p>åœ¨ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨0åˆ°n-1çš„èŒƒå›´å†…ã€‚ æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—æ˜¯é‡å¤çš„ã€‚ä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥é•¿åº¦ä¸º7çš„æ•°ç»„{2,3,1,0,2,5,3}ï¼Œé‚£ä¹ˆå¯¹åº”çš„è¾“å‡ºæ˜¯ç¬¬ä¸€ä¸ªé‡å¤çš„æ•°å­—2ã€‚</p>
</blockquote>
<p>Tipsï¼š å½“ç„¶è¿™ä¸ªæ˜¯å¯ä»¥ä½¿ç”¨dictionaryï¼Œéœ€è¦O(N) è¿™æ ·çš„ç©ºé—´ã€‚è¿˜æœ‰ä¸€ç§æ€è·¯ï¼Œè¿™ä¸ªæ‰€æœ‰çš„æ•°å­—éƒ½æ˜¯ (0, n-1) è¿™æ ·çš„åŒºé—´ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥å’Œindex è¿›è¡Œè”ç³»ä¸€ä¸‹çš„ã€‚è¿™ä¸ª â€œäº¤æ¢â€ æ˜¯ä¼šè¿›è¡Œæ’åºçš„ï¼ˆindex å¯¹åº”ç€ numberï¼‰ï¼Œä½†æ’åºä¸æ˜¯æœ€ç»ˆçš„ç›®çš„ï¼Œæœ€ç»ˆç›®çš„æ˜¯å¾—åˆ°é¦–ä¸ªé‡å¤çš„æ•°å­—ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0]</span></span><br><span class="line">    <span class="comment"># å‡½æ•°è¿”å›True/False</span></span><br><span class="line">    <span class="comment"># ç¬¬äºŒç§æ–¹å¼ï¼Œå¦‚æœè¿™ä¸ªæ˜¯æœ‰åºçš„ é‚£ä¹ˆ numbers[i] ==i è¿™ä¸ªæ˜¯æˆç«‹çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">duplicate</span><span class="params">(self, numbers, duplication)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        length =len(numbers)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length):</span><br><span class="line">            <span class="keyword">while</span> i != numbers[i]:</span><br><span class="line">                <span class="keyword">if</span> numbers[numbers[i]] == numbers[i]:</span><br><span class="line">                    duplication[<span class="number">0</span>] = numbers[i]</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    numbers[numbers[i]], numbers[i] = numbers[i], numbers[numbers[i]]</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">```        </span><br><span class="line"></span><br><span class="line">- æ„å»ºä¹˜ç§¯æ•°ç»„</span><br><span class="line"></span><br><span class="line">&gt; ç»™å®šä¸€ä¸ªæ•°ç»„A[<span class="number">0</span>,<span class="number">1</span>,...,n<span class="number">-1</span>],è¯·æ„å»ºä¸€ä¸ªæ•°ç»„B[<span class="number">0</span>,<span class="number">1</span>,...,n<span class="number">-1</span>],å…¶ä¸­Bä¸­çš„å…ƒç´ B[i]=A[<span class="number">0</span>]*A[<span class="number">1</span>]*...*A[i<span class="number">-1</span>]*A[i+<span class="number">1</span>]*...*A[n<span class="number">-1</span>]ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚</span><br><span class="line"></span><br><span class="line">Tips:  åˆ†æˆä¸Šä¸‹ä¸‰è§’å½¢è¿›è¡Œè®¡ç®—ï¼Œä¸èƒ½æ¯ä¸ªB[i]  éƒ½è¿›è¡Œå•ç‹¬é‡å¤è®¡ç®—ã€‚ä¸‹ä¸‰è§’å½¢æ˜¯ä»ä¸Šå¾€ä¸‹éå†ï¼Œä¸Šä¸‰è§’å½¢æ˜¯ä»ä¸‹å¾€ä¸Šéå†ã€‚ans å­˜å‚¨å„ä¸ªä¸åŒçš„ç»“æœã€‚</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># æ€è·¯ï¼š è½¬æ¢æˆå›¾å½¢çš„å°±å®¹æ˜“æƒ³ä¸€äº›ï¼Œ https://blog.csdn.net/u010005281/article/details/80200398</span></span><br><span class="line">    <span class="comment"># ä»£ç ï¼šhttps://blog.csdn.net/fuxuemingzhu/article/details/79718543</span></span><br><span class="line">    <span class="comment"># A æ˜¯ä¸€ä¸ªlist ï¼Œåªæ˜¯è‡ªå·±æ„å»ºçš„æ˜¯ä¸€ä¸ªçŸ©é˜µ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">multiply</span><span class="params">(self, A)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        ans =[]</span><br><span class="line">        tmp =<span class="number">1</span></span><br><span class="line">        length =len(A) <span class="comment"># å€¼å¾—æ˜¯ rows</span></span><br><span class="line">        <span class="comment"># é¦–å…ˆæ˜¯ä¸‹ä¸‰è§’å½¢ å„ä¸ªéƒ¨åˆ†çš„æ•°å€¼çš„ç›¸ä¹˜ï¼Œ ä»ä¸Šå¾€ä¸‹éå†</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length):</span><br><span class="line">            ans.append(tmp)</span><br><span class="line">            tmp  *= A[i]</span><br><span class="line">        tmp =<span class="number">1</span></span><br><span class="line">        <span class="comment"># ä¸Šä¸‰è§’å½¢ ä»ä¸‹å¾€ä¸Šè¿›è¡Œéå†</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            ans[i] *= tmp</span><br><span class="line">            tmp *= A[i]</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<ul>
<li>è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</li>
</ul>
<blockquote>
<p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤ºæ•°å€¼ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€+100â€,â€5e2â€,â€-123â€,â€3.1416â€å’Œâ€-1E-16â€éƒ½è¡¨ç¤ºæ•°å€¼ã€‚ ä½†æ˜¯â€12eâ€,â€1a3.14â€,â€1.2.3â€,â€+-5â€å’Œâ€12e+4.3â€éƒ½ä¸æ˜¯ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># så­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ float()å¼ºè½¬ï¼Œä¸€ç§æ˜¯ re æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… æœ€åä¸€ç§é€»è¾‘åˆ¤æ–­ä¹‹ç±»çš„</span></span><br><span class="line">    <span class="comment"># ä»¥ e ä¸ºåˆ†å‰²ç¬¦ï¼Œåˆ†æˆfront and behind ä¸¤éƒ¨åˆ†ï¼Œbehind é•¿åº¦ä¸èƒ½ä¸º0 æˆ–è€…å‡ºç° . </span></span><br><span class="line">    <span class="comment"># digitçš„åˆ¤æ–­ï¼Œ+- åªèƒ½å‡ºç°åœ¨é¦–ä½ï¼Œ . åªèƒ½å‡ºç°ä¸€æ¬¡</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    https://github.com/leeguandong/Interview-code-practice-python/blob/master/%E5%89%91%E6%8C%87offer/%E8%A1%A8%E7%A4%BA%E6%95%B0%E5%80%BC%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2.py</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isNumeric</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s <span class="keyword">or</span> len(s) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        s = [i.lower() <span class="keyword">for</span> i <span class="keyword">in</span> s]</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'e'</span> <span class="keyword">in</span> s:</span><br><span class="line">            index = s.index(<span class="string">'e'</span>)</span><br><span class="line">            front = s[:index]</span><br><span class="line">            behind = s[index + <span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">if</span> len(behind) == <span class="number">0</span> <span class="keyword">or</span> <span class="string">'.'</span> <span class="keyword">in</span> behind:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">            f = self.Digit(front)</span><br><span class="line">            b = self.Digit(behind)</span><br><span class="line">            <span class="keyword">return</span> f <span class="keyword">and</span> b</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            isNum = self.Digit(s)</span><br><span class="line">            <span class="keyword">return</span> isNum</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Digit</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        dotNum = <span class="number">0</span></span><br><span class="line">        allowNum = [<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>, <span class="string">'.'</span>, <span class="string">'+'</span>, <span class="string">'-'</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] <span class="keyword">not</span> <span class="keyword">in</span> allowNum:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">'.'</span>:</span><br><span class="line">                dotNum += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> s[i] <span class="keyword">in</span> <span class="string">'+-'</span> <span class="keyword">and</span> i != <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> dotNum &gt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦</li>
</ul>
<blockquote>
<p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥æ‰¾å‡ºå­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå½“ä»å­—ç¬¦æµä¸­åªè¯»å‡ºå‰ä¸¤ä¸ªå­—ç¬¦â€goâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€gâ€ã€‚å½“ä»è¯¥å­—ç¬¦æµä¸­è¯»å‡ºå‰å…­ä¸ªå­—ç¬¦â€œgoogleâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€lâ€ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># è¿”å›å¯¹åº”char</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªæ²¡æœ‰äº†dict é‚£ä¹ˆä¾èµ–äº count å‡½æ•°</span></span><br><span class="line">    <span class="comment"># ä¸»è¦å·®åˆ«åœ¨äºæœ‰äº†ä¸€ä¸ª å­—ç¬¦æµï¼Œæ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸€ä¸ªå¤§çš„å­˜å‚¨çš„list</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.list1 =[]</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FirstAppearingOnce</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">for</span> string <span class="keyword">in</span> self.list1:</span><br><span class="line">            <span class="keyword">if</span> self.list1.count(string) == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> string</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"#"</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Insert</span><span class="params">(self, char)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        self.list1.append(char)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/24/pygen/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jijeng Jia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jijeng's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/24/pygen/" itemprop="url">pygen</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-24T10:54:05+08:00">
                2019-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æœºå™¨å­¦ä¹ /" itemprop="url" rel="index">
                    <span itemprop="name">æœºå™¨å­¦ä¹ </span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/24/pygen/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/04/24/pygen/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>pygenåŠŸèƒ½ï¼š</strong>æœ‰å…³è”çš„éšæœºç”Ÿæˆäººåï¼Œé‚®ç®±ï¼ŒID Card (ssn)ï¼Œç”µè¯ï¼Œåœ°å€ç­‰ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©ä¿å­˜ä¸º pandas dataframeæ ¼å¼, æ•°æ®åº“â€.dbâ€ æ–‡ä»¶, Excel æ–‡ä»¶å’Œcsv æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºæœºå™¨å­¦ä¹ è®­ç»ƒã€‚<a href="https://github.com/jijeng/pygen" target="_blank" rel="noopener">é¡¹ç›®åœ°å€github</a>ã€‚</p>
<p>éšæœºç”Ÿæˆè™šå‡ä¸ªäººä¿¡æ¯å…·æœ‰å¾ˆå¤§çš„åº”ç”¨ç©ºé—´ã€‚é¦–å…ˆï¼Œè™šå‡çš„ç”Ÿæˆæ•°æ®å¯ä»¥ç”¨äºæœºå™¨å­¦ä¹ æ¨¡å‹çš„â€œå‡†å¤‡æ•°æ®â€ï¼Œå½“çœŸå®çš„æ•°æ®æ¯”è¾ƒå°‘æˆ–è€…éš¾ä»¥è·å¾—çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ç”Ÿæˆæ•°æ®è¿›è¡Œè®­ç»ƒæ¨¡å‹ï¼Œå¾…æ¨¡å‹è°ƒé€šä¹‹åï¼Œç„¶åä½¿ç”¨çœŸå®çš„æ¨¡å‹ã€‚å¹¶ä¸”ï¼Œå½“çœŸå®çš„æ•°æ®é›†ä¸­ç¼ºå°‘æŸäº›ç‰¹å¾æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œç‰¹å¾çš„å¡«å……ã€‚æ¯”å¦‚å¤§çš„æ•°æ®é›†ä¸­ç¼ºå°‘ç°å±…åŸå¸‚åœ°å€çš„æ—¶å€™ï¼Œå¯ä»¥è°ƒç”¨è¯¥åº“ä¸­çš„ â€œcity_realâ€ è¿›è¡Œå¡«å……ã€‚</p>
<p>å½“å‰ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ˜¯ <a href="https://faker.readthedocs.io/en/master/" target="_blank" rel="noopener">Faker</a> å¼€æºåº“ç”¨äºæ•°æ®çš„ç”Ÿæˆã€‚è™½ç„¶è¯¥åº“æ”¯æŒä¸­æ–‡ï¼Œä½†æ˜¯å¯¹äºä¸­æ–‡çš„æ”¯æŒåŠ›åº¦æœ‰é™ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å¹¶ä¸èƒ½æ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œæ¯”å¦‚è¯´ç”Ÿæˆçš„èº«ä»½è¯ (ssn) å’Œå§“åæ‰€èƒ½ä½“ç°çš„æ€§åˆ«æ˜¯ä¸åŒ¹é…(äº†è§£æ›´å¤šå¯ä»¥å‚è€ƒ<a href="https://github.com/jayknoxqu/id-number-util" target="_blank" rel="noopener">è¿™é‡Œ</a>)ã€ç”Ÿæˆçš„å§“åä¸­ç¼ºå°‘å¤å§“å’Œç”µè¯é‚®ç®±ç­‰ä¿¡æ¯ä¸ç¬¦åˆæˆ‘ä»¬çš„ä½¿ç”¨ä¹ æƒ¯ç­‰ç­‰ã€‚æ‰€ä»¥æˆ‘å°†ä»ä»¥ä¸‹å‡ ç‚¹æ”¹è¿›ï¼š</p>
<ul>
<li>å¢å¼ºæ•°æ®ä¹‹é—´ç›¸å…³æ€§</li>
<li>ç”Ÿæˆåå­—çš„å¤šæ ·æ€§</li>
<li>ç¬¦åˆå›½äººä½¿ç”¨ä¹ æƒ¯çš„é‚®ç®±ç”µè¯</li>
<li>æä¾›ä¿å­˜å¤šç§ä¿å­˜æ–‡ä»¶æ ¼å¼ï¼Œæ›´åŠ é€‚åˆæœºå™¨å­¦ä¹ çš„è®­ç»ƒ</li>
</ul>
<p>ä¸­æ–‡åå­—æœ‰å¾ˆå¼ºçš„æ€§åˆ«å±æ€§ã€‚ä¾‹å¦‚åå­—ä¸­å¸¦æœ‰â€œæ°â€â€œå¿—â€â€œå®â€ç­‰å­—çš„ä¸€èˆ¬ä¸ºç”·æ€§ï¼Œå¸¦æœ‰â€œç¬â€â€œä½©â€â€œæ¢…â€ç­‰å­—çš„ä¸€èˆ¬ä¸ºå¥³æ€§ã€‚å½“ç„¶ä¹Ÿæœ‰ä¸€äº›æ¯”è¾ƒä¸­æ€§çš„å­—ï¼Œä¾‹å¦‚â€œæ–‡â€â€œå®‰â€â€œæ¸…â€ç­‰ï¼Œæ¯”è¾ƒéš¾çŒœæµ‹æ€§åˆ«ï¼Œå…³äºè¿™ç‚¹ä¼šåœ¨å¦ä¸€ä¸ªåšå®¢ä¸­å±•å¼€ï¼Œè¯·æœŸå¾…ã€‚</p>
<p>faker å¯¹ä¸­æ–‡çš„æ”¯æŒæœ‰é™ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> faker <span class="keyword">import</span> Faker</span><br><span class="line">fake = Faker(<span class="string">'zh_CN'</span>)</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    print(fake.name(),fake.ssn(),fake.phone_number())</span><br></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g2dgyq294dj20kg09sq39.jpg" alt=""></p>
<p>ä»å›¾ä¸­å¯ä»¥æ˜æ˜¾çš„çœ‹å‡º â€œç‹ç‰æ¢…â€å’Œ â€œææ¡‚èŠ±â€éƒ½æ˜¯ä¸¤ä¸ªå¥³æ€§ï¼Œä½†æ˜¯è¿™ç§èº«ä»½è¯ä¿¡æ¯ï¼ˆssnï¼‰éƒ½æ²¡æœ‰ä½“ç°è¿™ç‚¹ã€‚å…³äºèº«ä»½è¯çš„ç§‘æ™®ä¿¡æ¯å¯ä»¥ä»è¿™é‡Œè·å¾—ã€‚ç®€å•æ¥è¯´å€’æ•°ç¬¬äºŒä½è¡¨ç¤ºæ€§åˆ«ä¿¡æ¯ï¼Œå¦‚æœæ˜¯ç”·æ€§å°±æ˜¯å¥‡æ•°å¦‚æœæ˜¯å¥³æ€§å°±æ˜¯å¶æ•°ã€‚faker ç”Ÿæˆçš„æ•°æ®æ˜¯ä¸å…·æœ‰æ•°æ®ä¹‹é—´çš„ç›¸å…³æ€§çš„ã€‚</p>
<p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬è¿›è¡Œäº†æ”¹è¿›ã€‚é¦–å…ˆæ˜¯å§“åçš„ç”Ÿæˆï¼Œç„¶åæ˜¯æ€§åˆ«çš„åˆ¤æ–­ï¼Œæœ€åå†ç”Ÿæˆç›¸åº”æ€§åˆ«çš„èº«ä»½è¯å·ç ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pygen <span class="keyword">import</span> pygen</span><br><span class="line">db =pygen()</span><br><span class="line">db.gen_dataframe(fields =[<span class="string">'name'</span>, <span class="string">'ssn'</span>, <span class="string">'phone'</span>, <span class="string">'email'</span>])</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g2dhis3u0qj20vm0iq75a.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/e9a223b5ly1g2dhj273lrj20vc0iwjsf.jpg" alt=""></p>
<p>çº¢è‰²çº¿æ¡è¡¨ç¤ºå§“åå’Œæ€§åˆ«å¯¹åº”ä¸€è‡´ï¼Œè“è‰²çº¿æ¡è¡¨ç¤ºç»“æœä¸ç¡®å®šï¼ˆâ€œé•œé˜³ç‚â€ åƒæ˜¯ä¸€ä¸ªä¸­æ€§çš„åå­—ï¼‰ï¼Œç»¿è‰²è¡¨ç¤ºç”Ÿæˆäº†å«æœ‰å¤å§“çš„åå­—ï¼Œå¢å¼ºäº†æ•°æ®çš„å¤šæ ·æ€§ã€‚</p>
<p>ä»ä¸Šå›¾çš„ â€œmailâ€ ä¸€åˆ—å¯ä»¥çœ‹å‡ºé‚®ç®±å‰ç¼€çš„å‘½ååŸºæœ¬ä¸Šæ˜¯ä¸­æ–‡åå­—ä¸­â€œå§“â€ å’Œâ€œæ°‘â€çš„æ‹¼éŸ³ç»„åˆï¼ŒåŠ å¼ºäº†æ•°æ®ä¹‹é—´çš„ç›¸å…³æ€§å’ŒçœŸå®åº¦ã€‚</p>
<p>å¦å¤–ï¼Œç”µè¯å·ç æŒ‰ç…§è¿è¥å•†åˆ†ä¸ºä¸‰ç±»ï¼š0 è¡¨ç¤ºç§»åŠ¨ï¼Œ1è¡¨ç¤ºè”é€šï¼Œ2è¡¨ç¤ºç”µä¿¡ã€‚</p>
<pre><code>print(&apos;ç§»åŠ¨å­—æ®µ:&apos;)
for _ in range(5):
  print(db.simple_ph_num(types =0))

print(&apos;è”é€šå­—æ®µ:&apos;)
for _ in range(5):
  print(db.simple_ph_num(types =1))

print(&apos;ç”µä¿¡å­—æ®µï¼š&apos;)
for _ in range(5):
  print(db.simple_ph_num(types =2))
</code></pre><p>è¾“å‡ºï¼š</p>
<blockquote>
<p>ç§»åŠ¨å­—æ®µ: 15023689929 16771753917 16790223946 15950129353 15271129554<br>è”é€šå­—æ®µ: 13869739303 13786227031 13950354445 15137578545 15240836142<br>ç”µä¿¡å­—æ®µï¼š 17172983067 15658567011 18562313243 17073127396 15543448286</p>
</blockquote>
<p>æœ€åæä¾›äº†å¤šç§æ–‡ä»¶ä¿å­˜æ ¼å¼ï¼ŒåŒ…æ‹¬â€.csvâ€, â€œ.dbâ€ å’Œâ€.xlsxâ€ç­‰æ ¼å¼ã€‚å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code>from pygen import pygen
db =pygen()
db.gen_table(filename =filename, fields =[&apos;name&apos;, &apos;ssn&apos;, &apos;phone&apos;, &apos;email&apos;])
db.gen_excel(filename =filename, fields =[&apos;name&apos;, &apos;ssn&apos;, &apos;phone&apos;, &apos;email&apos;])
db.gen_csv(filename =filename, fields =[&apos;name&apos;, &apos;ssn&apos;, &apos;phone&apos;, &apos;email&apos;])
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpeg"
                alt="Jijeng Jia" />
            
              <p class="site-author-name" itemprop="name">Jijeng Jia</p>
              <p class="site-description motion-element" itemprop="description">Stay Hungry, Stay Foolish</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">42</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/jijeng" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:jia1509309698@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jijeng Jia</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>

<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
Total  <span id="busuanzi_value_site_pv"></span> views
You got  <span id="busuanzi_value_site_uv"></span> visitors
</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://https-jijeng-github-io.disqus.com/count.js" async></script>
    

    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
